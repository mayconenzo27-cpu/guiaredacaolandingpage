try{let e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:{},t=(new e.Error).stack;t&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[t]="e31008cf-ba8b-4e85-9a53-8385e28341bf",e._sentryDebugIdIdentifier="sentry-dbid-e31008cf-ba8b-4e85-9a53-8385e28341bf")}catch(e){}(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[7099],{7099:(e,t,r)=>{"use strict";r.d(t,{U:()=>W});var a=r(99289),n=r(19550),s=r.n(n),l=r(22291),i=r(11405),o=r(27317),c=r(2418),d=r(81797),u=r(24159),m=r(13236),p=r(14450),x=r(49944),h=r(9562),j=r(6072),b=r(67017),f=r(51255),g=r(42581);let v=e=>{let{handleRemix:t,isRemixing:r,isOpen:n,onClose:l,project:i,remixDisabled:o,remixDisableReason:c}=e,d=(0,f.O)({projectId:i.id}),u=(0,b.A)("md");return(0,a.jsx)(j.lG,{open:n,onOpenChange:l,children:(0,a.jsxs)(j.Cf,{className:"flex h-[85vh] max-h-none max-w-[90vw] flex-col rounded-3xl p-4",size:"xl",hideCloseButton:!0,children:[(0,a.jsxs)("div",{className:"flex items-center ".concat(u?"justify-center":"justify-between"),children:[!u&&(0,a.jsx)("div",{className:"flex items-center gap-1.5 truncate pl-0.5",children:(0,a.jsxs)(j.L3,{className:"truncate",children:[i.name,i.authorName&&(0,a.jsxs)("span",{className:"ml-1 text-muted-foreground/50",children:["by ",i.authorName]})]})}),(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)(x.$,{asChild:!0,variant:"outline",className:"flex items-center gap-1",children:(0,a.jsx)(s(),{href:"/projects/".concat(i.id),children:"Open Project"})}),(0,a.jsx)(h.Q,{showTooltip:o,tooltipContent:c,children:(0,a.jsx)(x.$,{onClick:()=>{t({projectId:i.id})},disabled:r||o,loading:r,className:"flex items-center gap-1",children:r?"Remixing...":"Remix"})})]})]}),(0,a.jsx)("div",{className:"flex flex-1 overflow-hidden rounded-lg border",children:(0,a.jsx)("iframe",{sandbox:g.Z,src:d,className:"h-full w-full",style:{border:"none",margin:0,padding:0},allow:"accelerometer; autoplay; camera; encrypted-media; fullscreen; geolocation; gyroscope; microphone; midi; clipboard-read; clipboard-write; payment; usb; vr; xr-spatial-tracking; screen-wake-lock; magnetometer; ambient-light-sensor; battery; gamepad; picture-in-picture; display-capture; bluetooth;"})})]})})},y=e=>{let{handlePreview:t}=e;return(0,a.jsx)("div",{className:"absolute inset-0 hidden cursor-pointer items-center justify-center bg-black/30 opacity-0 transition-all duration-300 ease-out group-hover:opacity-100 md:flex",onClick:t,children:(0,a.jsx)("span",{className:"font-light translate-y-1 transform text-lg text-white opacity-0 transition-all duration-300 ease-out group-hover:translate-y-0 group-hover:opacity-70",children:"Preview"})})},w=(0,i.memo)(e=>{let{project:t,previewUrl:r,isCommunityProject:n,isTemplate:l=!1,selectTemplate:o,positionIndex:x}=e,[h,j]=(0,i.useState)(!1),{mutate:b,isPending:f}=(0,p.O)(),{isRemixable:g,isSupabaseEnabled:w,isLovableCloudEnabled:_}=(0,m.I)(t),N=(()=>{if(!g)return w?"This project can't be remixed because it's connected to Supabase":_?"This project can't be remixed because it's connected to Lovable Cloud":"This project can't be remixed"})();return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(s(),{href:r,className:"group relative aspect-video w-full overflow-hidden rounded-xl bg-muted",scroll:!1,onClick:e=>{l&&o&&(e.preventDefault(),e.stopPropagation(),o()),0!==e.button||e.metaKey||e.ctrlKey||e.altKey||e.shiftKey||e.defaultPrevented||n&&(e.preventDefault(),d.Ay.capture(u.$6.COMMUNITY.PROJECT_CLICKED,{project_id:t.id,project_name:t.name,project_category:t.category,position_index:x}),j(!0))},children:(0,a.jsxs)("div",{className:"relative h-full w-full",children:[t.latest_screenshot_url?(0,a.jsx)(c.default,{src:t.latest_screenshot_url,alt:"Screenshot of ".concat(t.name||"project"),className:"rounded-xl border border-muted-border",fill:!0,sizes:"(max-width: 768px) 100vw, (max-width: 1200px) 50vw, 33vw",style:{objectFit:"cover",objectPosition:"top"},draggable:"false"}):(0,a.jsx)("div",{className:"absolute inset-0 rounded-xl border border-muted-border bg-muted"}),n&&(0,a.jsx)(y,{handlePreview:e=>{e.preventDefault(),e.stopPropagation(),j(!0)}})]})}),(0,a.jsx)(v,{handleRemix:b,isRemixing:f,remixDisabled:!g,remixDisableReason:N,isOpen:h,onClose:()=>j(!1),project:{id:t.id,name:t.name||"Untitled Project",authorName:t.user_display_name||void 0}})]})});w.displayName="ProjectImage";var _=r(62560),N=r.n(_);function P(){return(0,a.jsx)("span",{className:"bg-foreground before:bg-foreground after:bg-foreground ".concat(N().DotElastic," inline-block")})}let C=e=>{let{project:t}=e;return(0,a.jsx)("p",{className:"overflow-hidden truncate whitespace-nowrap",children:"in_progress"!==t.status||t.name?t.name||t.id:(0,a.jsxs)(a.Fragment,{children:["Dreaming up name",(0,a.jsx)(P,{})]})})};var k=r(86077),R=r(99017);let I=(0,i.memo)(e=>{let{supabaseProjectConfig:t,clickable:r=!0}=e;return(0,a.jsxs)(R.m_,{children:[(0,a.jsx)(R.k$,{asChild:!0,children:r?(0,a.jsx)(s(),{href:"https://supabase.com/dashboard/project/".concat(null==t?void 0:t.supabase_project_id),target:"_blank",children:(0,a.jsx)(k.Wu,{className:"size-4"})}):(0,a.jsx)("div",{children:(0,a.jsx)(k.Wu,{className:"size-4"})})}),(0,a.jsx)(R.ZI,{children:r?"Click to open in Supabase.":"Connected to Supabase"})]})});I.displayName="SupabaseIcon";var E=r(44920),D=r(37079),O=r(49612),S=r(84923),T=r(53090),z=r(53417),A=r(5531),F=r(97757),U=r(51917),L=r(74892);let K=e=>{let{project:t}=e,{authUser:r}=(0,D.Z2)(),n=(0,l.useRouter)(),[s,o]=(0,i.useState)(!1),[c,d]=(0,i.useState)(!1),[u,h]=(0,i.useState)(!1),{mutate:j,isPending:b}=(0,p.O)(),{isRemixable:f,isSupabaseEnabled:g,isLovableCloudEnabled:v}=(0,m.I)(t);return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)(A.rI,{open:s,onOpenChange:o,children:[(0,a.jsx)(A.ty,{asChild:!0,children:(0,a.jsx)(x.$,{variant:"ghost",size:"icon-sm",className:"mb-auto transition-opacity ".concat(s?"opacity-100":"opacity-100 group-hover:opacity-100 sm:opacity-0 sm:group-hover:opacity-100"),disabled:b,children:(0,a.jsx)(F.A,{name:"more_horiz",size:"small"})})}),(0,a.jsxs)(A.SQ,{align:"end",children:[(0,a.jsxs)(A._2,{onClick:e=>{if(e.preventDefault(),e.stopPropagation(),!r)return void n.push("/login?redirect=".concat(window.location.pathname));j({projectId:t.id,includeHistory:!1,includeCustomKnowledge:!1})},disabled:!f||b,children:[(0,a.jsx)(F.A,{name:b?"progress_activity":"shuffle",size:"small",className:b?"animate-spin":""}),b?"Remixing...":"Remix",!f&&(0,a.jsx)("span",{className:"ml-2 text-xs text-muted-foreground",children:g?"(Unavailable for Supabase projects)":v?"(Unavailable for Lovable Cloud projects)":"(Unavailable)"})]}),(0,a.jsxs)(A._2,{onClick:()=>{o(!1),d(!0)},children:[(0,a.jsx)(F.A,{name:"edit_square",size:"small"}),"Rename"]}),(0,a.jsxs)(A._2,{onClick:()=>{o(!1),n.push("/projects/".concat(t.id,"?settings=project"))},children:[(0,a.jsx)(F.A,{name:"settings",size:"small"}),"Settings"]}),(0,a.jsxs)(A._2,{onClick:()=>{o(!1),h(!0)},className:"text-destructive-primary",children:[(0,a.jsx)(F.A,{name:"delete",size:"small"}),"Delete"]})]})]}),(0,a.jsx)(T.U,{project:t,isOpen:c,onClose:()=>d(!1)}),(0,a.jsx)(S.B,{project:t,isOpen:u,onClose:()=>h(!1)})]})},W=(0,i.memo)(e=>{var t;let{project:r,isSupabaseClickable:n=!0,showAvatar:l=!0,selectedCategory:c,subtitleType:d="remixes",isCommunityProject:u,positionIndex:m,isTemplate:p=!1,selectTemplate:x}=e,h=null==r?void 0:r.id,j=(0,i.useMemo)(()=>h?"/projects/".concat(h):"",[h]);if(null===r)return(0,a.jsx)(o.p,{});let b=r.remix_count?r.remix_count:0,f=1===b?"1 Remix":"".concat(b," Remixes"),g="all"===c||c!==r.category,v=(()=>{switch(d){case"remixes":return f;case"edit-time":return r.updated_at?"Edited ".concat((0,E.P)({updatedAt:r.updated_at})):null;case"create-time":return r.created_at?"Created ".concat((0,E.P)({updatedAt:r.created_at}).replace("about ","")):null;case"trending-rank":return null!=r.feature_rank?"Ranked ".concat(r.feature_rank):"Ranked -";case"created-by":return r.created_by?(0,a.jsx)(U.f,{username:r.created_by,prefix:"Created by ",showAsLink:!1,className:""}):null;default:return d}})();return(0,a.jsxs)("div",{className:"group relative flex flex-col",children:[(0,a.jsxs)("div",{className:"relative mb-3 flex flex-col",children:[(0,a.jsx)(w,{project:r,previewUrl:j,isCommunityProject:u,isTemplate:p,selectTemplate:x,positionIndex:m}),r.is_published&&!u&&(0,a.jsx)("div",{className:"pointer-events-none absolute bottom-0 left-0 p-2",children:(0,a.jsx)(z.E,{variant:"secondary",className:"text-xs opacity-50",children:"Published"})})]}),(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[l&&(0,a.jsx)(s(),{href:"/users/".concat(r.created_by),className:"transition-opacity hover:opacity-80",children:(0,a.jsx)(O.H,{user:{id:r.user_id,username:r.user_display_name||""},photoURL:null!=(t=r.user_photo_url)?t:void 0,className:"h-9 w-9"})}),(0,a.jsxs)("div",{className:"flex w-full min-w-0 justify-between",children:[(0,a.jsxs)("div",{className:"flex min-w-0 flex-col",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2 truncate",children:[(0,a.jsx)(C,{project:r}),g&&(0,a.jsx)(L._,{category:r.category})]}),(0,a.jsxs)("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[v&&(0,a.jsx)("p",{children:v}),!l&&(r.is_supabase_enabled||"supabase_project_config"in r&&r.supabase_project_config)&&(0,a.jsx)(I,{supabaseProjectConfig:"supabase_project_config"in r?r.supabase_project_config:void 0,clickable:n})]})]}),(!l||!p)&&(0,a.jsx)(K,{project:r})]})]})]})});W.displayName="ProjectCard"},13236:(e,t,r)=>{"use strict";r.d(t,{I:()=>s});var a=r(9563),n=r(60802);let s=e=>{let t=(0,a.mb)(e=>e.projectId)===e.id,{supabaseIntegrationData:r}=(0,n.U)(t?e.id:void 0),s=!!e.supabase_project_config||!!e.is_supabase_enabled,l=!!r,i=l&&r.is_managed_by_lovable,o=s||l&&!i;return{isRemixable:!o&&!i,isSupabaseEnabled:o,isLovableCloudEnabled:i}}},14450:(e,t,r)=>{"use strict";r.d(t,{O:()=>m});var a=r(6919),n=r(22291),s=r(98213),l=r(37079),i=r(43328),o=r(34936),c=r(33256),d=r(69147);let u={title:"Project remixed",description:"We're taking you to the new project page"},m=e=>{let{authUser:t}=(0,l.Z2)(),r=(0,n.useRouter)(),m=(0,i.j4)(e=>e.currentWorkspace),p=(null==e?void 0:e.currentWorkspaceId)||(null==m?void 0:m.id),{mutate:x,isPending:h}=(0,a.n)({mutationFn:async e=>{let{projectId:t,includeHistory:r=!1,includeCustomKnowledge:a=!1}=e;return p?(0,c.P)().post("/projects/".concat(t,"/remix"),{include_history:r,include_custom_knowledge:a,workspace_id:p}):void s.toast.error("You need to be in a workspace to remix projects")},onMutate:()=>{var t;null==e||null==(t=e.onSubmit)||t.call(e)},onSuccess:e=>{e&&(s.toast.success(u.title,{description:u.description}),r.push("/projects/".concat(e.project_id)))},onError:(e,t)=>{let{projectId:r}=t;d.logging.error("Error remixing project",{projectId:r,error:e}),(0,o.Ni)(e)}});return{mutate:x,isPending:h&&!!t}}},27317:(e,t,r)=>{"use strict";r.d(t,{p:()=>l});var a=r(99289),n=r(16161),s=r(26551);let l=e=>{let{mainSkeletonClassName:t}=e;return(0,a.jsxs)("div",{className:"group flex flex-col",children:[(0,a.jsx)(n.E,{className:(0,s.cn)("mb-3 aspect-video h-full w-full rounded-lg bg-muted",t)}),(0,a.jsxs)("div",{className:"flex flex-col gap-2 py-1",children:[(0,a.jsx)(n.E,{className:"h-3.5 w-[150px] bg-muted"}),(0,a.jsx)(n.E,{className:"h-3.5 w-[120px] bg-muted"})]})]})}},37598:(e,t,r)=>{"use strict";r.d(t,{C5:()=>f,MJ:()=>j,Rr:()=>b,eI:()=>x,lR:()=>h,lV:()=>c,zB:()=>u});var a=r(99289),n=r(52954),s=r(11405),l=r(26984),i=r(82162),o=r(26551);let c=l.Op,d=s.createContext({}),u=e=>{let{...t}=e;return(0,a.jsx)(d.Provider,{value:{name:t.name},children:(0,a.jsx)(l.xI,{...t})})},m=()=>{let e=s.useContext(d),t=s.useContext(p),{getFieldState:r,formState:a}=(0,l.xW)(),n=r(e.name,a);if(!e)throw Error("useFormField should be used within <FormField>");let{id:i}=t;return{id:i,name:e.name,formItemId:"".concat(i,"-form-item"),formDescriptionId:"".concat(i,"-form-item-description"),formMessageId:"".concat(i,"-form-item-message"),...n}},p=s.createContext({}),x=s.forwardRef((e,t)=>{let{className:r,...n}=e,l=s.useId();return(0,a.jsx)(p.Provider,{value:{id:l},children:(0,a.jsx)("div",{ref:t,className:(0,o.cn)("space-y-2",r),...n})})});x.displayName="FormItem";let h=s.forwardRef((e,t)=>{let{className:r,...n}=e,{error:s,formItemId:l}=m();return(0,a.jsx)(i.Label,{ref:t,className:(0,o.cn)(s&&"",r),htmlFor:l,...n})});h.displayName="FormLabel";let j=s.forwardRef((e,t)=>{let{...r}=e,{error:s,formItemId:l,formDescriptionId:i,formMessageId:o}=m();return(0,a.jsx)(n.DX,{ref:t,id:l,"aria-describedby":s?"".concat(i," ").concat(o):"".concat(i),"aria-invalid":!!s,...r})});j.displayName="FormControl";let b=s.forwardRef((e,t)=>{let{className:r,...n}=e,{formDescriptionId:s}=m();return(0,a.jsx)("p",{ref:t,id:s,className:(0,o.cn)("text-sm text-muted-foreground",r),...n})});b.displayName="FormDescription";let f=s.forwardRef((e,t)=>{let{className:r,children:n,...s}=e,{error:l,formMessageId:i}=m(),c=l?String(null==l?void 0:l.message):n;return c?(0,a.jsx)("p",{ref:t,id:i,className:(0,o.cn)("text-xs font-medium text-destructive-primary",r),...s,children:c}):null});f.displayName="FormMessage"},42581:(e,t,r)=>{"use strict";r.d(t,{Z:()=>a});let a="allow-scripts allow-same-origin allow-forms allow-modals allow-orientation-lock allow-pointer-lock allow-presentation allow-downloads allow-popups"},44920:(e,t,r)=>{"use strict";r.d(t,{P:()=>s});var a=r(57355),n=r(22803);let s=e=>{let{updatedAt:t}=e,r=null;return"string"==typeof t?r=new Date(t):t instanceof n.Dc?r=t.toDate():t instanceof Date?r=t:"number"==typeof t&&(r=new Date(t)),r?(0,a.m)(r,{addSuffix:!0}):""}},51255:(e,t,r)=>{"use strict";r.d(t,{O:()=>n});var a=r(40074);let n=e=>{let{projectId:t,projectName:r,useCacheBuster:n,sha:s}=e;if(!t&&!r)throw Error("projectId or projectName must be provided");if(t&&r)throw Error("projectId and projectName cannot both be provided");let l=a.env.NEXT_PUBLIC_PROXY_WORKER_PROTOCOL||"https",i=a.env.NEXT_PUBLIC_PROXY_WORKER_PORT?":".concat(a.env.NEXT_PUBLIC_PROXY_WORKER_PORT):"",o=s?"-".concat(s.slice(0,8)):"";try{let e=new URL("".concat(l,"://").concat(void 0!==r?"preview":"id-preview").concat(o,"--").concat(r||t,".").concat("lovable.app").concat(i));return n&&e.searchParams.set("cache",Date.now().toString()),e.toString()}catch(e){return window.location.href="/","/"}}},51917:(e,t,r)=>{"use strict";r.d(t,{f:()=>c});var a=r(99289),n=r(34363),s=r(19550),l=r.n(s),i=r(11405),o=r(50088);let c=(0,i.memo)(function(e){var t,r;let{username:s,showAsLink:i=!0,className:c="font-medium",fallback:d,prefix:u=""}=e,{data:m,isLoading:p}=(0,n.I)(o.Y.publicProfile({username:s||""}));if(!s&&!d)return(0,a.jsxs)("span",{className:c,children:[u,"Unknown User"]});let x=null!=d?d:s;if(p)return i?(0,a.jsxs)(a.Fragment,{children:[u,(0,a.jsx)(l(),{href:"/@".concat(s),className:c,target:"_blank",children:x})]}):(0,a.jsxs)("span",{className:c,children:[u,x]});let h=null!=(r=null==m||null==(t=m.attributes)?void 0:t.display_name)?r:x;return i?(0,a.jsxs)(a.Fragment,{children:[u,(0,a.jsx)(l(),{href:"/@".concat(s),className:c,target:"_blank",children:h})]}):(0,a.jsxs)("span",{className:c,children:[u,h]})})},53090:(e,t,r)=>{"use strict";r.d(t,{U:()=>g});var a=r(99289),n=r(74880),s=r(51252),l=r(6919),i=r(26984),o=r(98213),c=r(99490),d=r(43328),u=r(49944),m=r(6072),p=r(37598),x=r(88852),h=r(34936),j=r(33256),b=r(273);let f=c.Ik({newProjectName:c.Yj().min(1,"Project name is required").max(45,"Project name must be less than 45 characters").regex(/^[a-z0-9-]+$/,{message:"Project name can only contain lowercase letters, numbers, and hyphens."}).regex(/^(?!.*--).+$/,{message:"Project name cannot contain consecutive hyphens."}).regex(/^[a-z]/,{message:"Project name must start with a lowercase letter."}).regex(/[a-z0-9]$/,{message:"Project name cannot end with a hyphen."})}),g=e=>{let{project:t,isOpen:r,onClose:c}=e,g=(0,s.jE)(),v=(0,d.j4)(e=>{var t;return null==(t=e.currentWorkspace)?void 0:t.id}),y=(0,i.mN)({resolver:(0,n.u)(f),defaultValues:{newProjectName:t.name||""}}),w=(0,l.n)({mutationFn:async e=>{let{name:r}=e;return(0,j.P)().put("/projects/".concat(t.id),{name:r})},onSuccess:(e,t)=>{g.invalidateQueries({queryKey:b.gO.all}),g.invalidateQueries({queryKey:b.workspaceKeys.detail(v||"")}),o.toast.success("Project renamed successfully"),c(),y.reset({newProjectName:t.name})},onError:e=>{(0,h.Ni)(e)}}),_=async e=>{await w.mutateAsync({name:e.newProjectName})},N=!!y.formState.dirtyFields.newProjectName;return(0,a.jsx)(m.lG,{open:r,onOpenChange:c,children:(0,a.jsxs)(m.Cf,{size:"sm",children:[(0,a.jsxs)(m.c7,{children:[(0,a.jsx)(m.L3,{children:"Rename project"}),(0,a.jsx)(m.rr,{children:(0,a.jsx)("p",{children:"Give your project a new name."})})]}),(0,a.jsx)(p.lV,{...y,children:(0,a.jsxs)("form",{onSubmit:y.handleSubmit(_),className:"flex w-full flex-col gap-4",children:[(0,a.jsx)("div",{className:"w-full space-y-4",children:(0,a.jsx)(p.zB,{control:y.control,name:"newProjectName",render:e=>{let{field:t}=e;return(0,a.jsxs)(p.eI,{children:[(0,a.jsx)(p.lR,{children:"Project Name"}),(0,a.jsx)(p.MJ,{children:(0,a.jsx)(x.p,{placeholder:"Enter new project name",...t})}),!y.formState.errors.newProjectName&&(0,a.jsx)(p.Rr,{children:"Use lowercase letters, numbers, and hyphens only. Name must start with a lowercase letter. Example: my-awesome-project"}),(0,a.jsx)(p.C5,{})]})}})}),(0,a.jsxs)(m.Es,{children:[(0,a.jsx)(u.$,{variant:"outline",onClick:c,type:"button",children:"Cancel"}),(0,a.jsx)(u.$,{type:"submit",disabled:!N||w.isPending,loading:w.isPending,children:w.isPending?"Renaming...":"Rename Project"})]})]})})]})})}},62560:e=>{e.exports={DotElastic:"AnimatedDots_DotElastic__JXvFf","DotElastic-before":"AnimatedDots_DotElastic-before__gaC87","DotElastic-after":"AnimatedDots_DotElastic-after__CStzD"}},74892:(e,t,r)=>{"use strict";r.d(t,{_:()=>i,y:()=>s});var a=r(99289);r(11405);var n=r(26551);let s={internal_tools:"Internal Tools",website:"Website",personal:"Personal",consumer_app:"Consumer App",b2b_app:"B2B App",prototype:"Prototype"},l={internal_tools:"bg-brand-sapphire text-brand-sapphire-foreground",website:"bg-brand-saffron text-brand-saffron-foreground",personal:"bg-brand-bubblegum text-brand-bubblegum-foreground",consumer_app:"bg-brand-flamingo text-brand-flamingo-foreground",b2b_app:"bg-brand-twilight text-brand-twilight-foreground",prototype:"bg-brand-tiger text-brand-tiger-foreground"},i=e=>{let{category:t}=e;if(!t)return null;let r=s[t],i=l[t];return(0,a.jsx)("span",{className:(0,n.cn)("mr-2 inline-block rounded-md px-2 py-0.5 text-xs font-medium",i),title:r,children:r})}},81688:(e,t,r)=>{"use strict";r.d(t,{CS:()=>a,oX:()=>l,rI:()=>s,rZ:()=>n}),r(99289),r(49944),r(97757);let a="GPT-Engineer-App",n=(e,t)=>"https://github.com/".concat(t||a,"/").concat(e),s=(e,t,r)=>"".concat(n(e,r),"/commit/").concat(t),l=e=>{var t;let r=null==e||null==(t=e.github_owner)?void 0:t.name;return!!(r&&r!==a)}},84923:(e,t,r)=>{"use strict";r.d(t,{B:()=>b});var a=r(99289),n=r(51252),s=r(6919),l=r(22291),i=r(11405),o=r(98213),c=r(43328),d=r(81688),u=r(49944),m=r(6072),p=r(34936),x=r(33256),h=r(273),j=r(9562);let b=e=>{var t,r,b,f,g;let{project:v,isOpen:y,onClose:w,hasActiveLock:_=!1}=e,[N,P]=(0,i.useState)(null),C=(0,l.useRouter)(),k=(0,n.jE)(),R=(0,c.j4)(e=>{var t;return null==(t=e.currentWorkspace)?void 0:t.id}),I=(0,s.n)({mutationFn:async()=>(0,x.P)().delete("/projects/".concat(v.id)),onSuccess:e=>{if(k.invalidateQueries({queryKey:h.gO.all}),k.invalidateQueries({queryKey:h.workspaceKeys.detail(R||"")}),e.deleting_repo)o.toast.success("Project deleted",{description:"Your project has been deleted."});else{var t;C.push("/?deleted=true&projectName=".concat(v.github_repo_name,"&githubOwner=").concat(null==(t=v.github_owner)?void 0:t.name))}w()},onError:e=>{var t;let r=(null==e||null==(t=e.data)?void 0:t.detail)||"Something went wrong";(0,p.Ni)(e),P(r)}}),E=async()=>{P(null),await I.mutateAsync()};return(0,a.jsx)(m.lG,{open:y,onOpenChange:w,children:(0,a.jsxs)(m.Cf,{size:"sm",children:[(0,a.jsxs)(m.c7,{children:[(0,a.jsxs)(m.L3,{children:["Delete ",v.name,"?"]}),(0,a.jsxs)(m.rr,{children:["This action cannot be undone."," ",(0,a.jsx)("span",{className:"text-destructive-primary",children:"This will permanently delete your project."})," Including:",(0,a.jsxs)("ul",{className:"my-2 list-disc pl-5 text-left",children:[(0,a.jsx)("li",{children:"Any deployments made with Lovable"}),(0,a.jsx)("li",{children:"All preview links"}),(null==v||null==(t=v.github_owner)?void 0:t.name)&&v.github_owner.name===d.CS&&(0,a.jsx)("li",{children:"All generated code"})]}),(null==v||null==(r=v.github_owner)?void 0:r.name)&&v.github_owner.name!==d.CS&&(0,a.jsxs)("p",{className:"mt-2",children:["Note: The Github repository"," ",(0,a.jsxs)("a",{href:null!=(g=(0,d.rZ)(v.github_repo_name,null==v||null==(b=v.github_owner)?void 0:b.name))?g:"#",target:"_blank",rel:"noreferrer",className:"font-medium text-foreground hover:underline",children:[null==v||null==(f=v.github_owner)?void 0:f.name,"/",null==v?void 0:v.github_repo_name]})," ","will not be deleted."]})]})]}),(0,a.jsxs)(m.Es,{children:[(0,a.jsx)(u.$,{variant:"outline",size:"sm",onClick:()=>{w(),P(null)},children:"Cancel"}),(0,a.jsx)(j.Q,{showTooltip:_,tooltipContent:"Cannot delete project while there is an active operation in progress (e.g. chat or revert). Please wait for the operation to complete.",children:(0,a.jsx)(u.$,{variant:"destructive",size:"sm",onClick:E,loading:I.isPending,disabled:_,children:I.isPending?"Deleting...":"Delete Project"})})]}),N&&(0,a.jsx)("p",{className:"mt-2 text-sm text-destructive-primary",children:N})]})})}}}]);