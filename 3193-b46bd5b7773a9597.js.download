try{let e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:{},t=(new e.Error).stack;t&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[t]="ae47f06d-52d5-4b5c-9404-2f95c90b3e59",e._sentryDebugIdIdentifier="sentry-dbid-ae47f06d-52d5-4b5c-9404-2f95c90b3e59")}catch(e){}(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[3193],{342:(e,t)=>{t.read=function(e,t,r,n,i){var o,a,s=8*i-n-1,c=(1<<s)-1,h=c>>1,l=-7,u=r?i-1:0,f=r?-1:1,d=e[t+u];for(u+=f,o=d&(1<<-l)-1,d>>=-l,l+=s;l>0;o=256*o+e[t+u],u+=f,l-=8);for(a=o&(1<<-l)-1,o>>=-l,l+=n;l>0;a=256*a+e[t+u],u+=f,l-=8);if(0===o)o=1-h;else{if(o===c)return a?NaN:1/0*(d?-1:1);a+=Math.pow(2,n),o-=h}return(d?-1:1)*a*Math.pow(2,o-n)},t.write=function(e,t,r,n,i,o){var a,s,c,h=8*o-i-1,l=(1<<h)-1,u=l>>1,f=5960464477539062e-23*(23===i),d=n?0:o-1,p=n?1:-1,y=+(t<0||0===t&&1/t<0);for(isNaN(t=Math.abs(t))||t===1/0?(s=+!!isNaN(t),a=l):(a=Math.floor(Math.log(t)/Math.LN2),t*(c=Math.pow(2,-a))<1&&(a--,c*=2),a+u>=1?t+=f/c:t+=f*Math.pow(2,1-u),t*c>=2&&(a++,c/=2),a+u>=l?(s=0,a=l):a+u>=1?(s=(t*c-1)*Math.pow(2,i),a+=u):(s=t*Math.pow(2,u-1)*Math.pow(2,i),a=0));i>=8;e[r+d]=255&s,d+=p,s/=256,i-=8);for(a=a<<i|s,h+=i;h>0;e[r+d]=255&a,d+=p,a/=256,h-=8);e[r+d-p]|=128*y}},8146:(e,t,r)=>{"use strict";r.d(t,{C6:()=>i,Cl:()=>o,Tt:()=>a,fX:()=>c,sH:()=>s});var n=function(e,t){return(n=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(e,t)};function i(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}var o=function(){return(o=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var i in t=arguments[r])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};function a(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&0>t.indexOf(n)&&(r[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var i=0,n=Object.getOwnPropertySymbols(e);i<n.length;i++)0>t.indexOf(n[i])&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(r[n[i]]=e[n[i]]);return r}function s(e,t,r,n){return new(r||(r=Promise))(function(i,o){function a(e){try{c(n.next(e))}catch(e){o(e)}}function s(e){try{c(n.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?i(e.value):((t=e.value)instanceof r?t:new r(function(e){e(t)})).then(a,s)}c((n=n.apply(e,t||[])).next())})}Object.create;function c(e,t,r){if(r||2==arguments.length)for(var n,i=0,o=t.length;i<o;i++)!n&&i in t||(n||(n=Array.prototype.slice.call(t,0,i)),n[i]=t[i]);return e.concat(n||Array.prototype.slice.call(t))}Object.create,"function"==typeof SuppressedError&&SuppressedError},22803:(e,t,r)=>{"use strict";r.d(t,{AB:()=>n.AB,Dc:()=>n.Dc,FD:()=>n.FD,GG:()=>n.GG,H9:()=>n.H9,HM:()=>n.HM,My:()=>n.My,P:()=>n.P,_A:()=>n._A,_M:()=>n._M,aQ:()=>n.aQ,d_:()=>n.d_,rJ:()=>n.rJ,rf:()=>n.rf,x7:()=>n.x7});var n=r(55954)},29373:(e,t,r)=>{"use strict";r.d(t,{Wp:()=>n.Wp,g:()=>n.g});var n=r(50707);(0,n.KO)("firebase","11.10.0","app")},34020:(e,t,r)=>{"use strict";e.exports=r(54158)},37458:(e,t,r)=>{"use strict";r.d(t,{cY:()=>v,FA:()=>j,g:()=>W,gz:()=>er,vA:()=>o,Hk:()=>a,K3:()=>h,u:()=>d,KA:()=>u,Uj:()=>f,gR:()=>z,Fy:()=>_,tD:()=>en,A4:()=>p,bD:()=>function e(t,r){if(t===r)return!0;let n=Object.keys(t),i=Object.keys(r);for(let o of n){if(!i.includes(o))return!1;let n=t[o],a=r[o];if(Z(n)&&Z(a)){if(!e(n,a))return!1}else if(n!==a)return!1}for(let e of i)if(!n.includes(e))return!1;return!0},dI:()=>ea,hp:()=>et,T9:()=>b,Tj:()=>w,yU:()=>m,XA:()=>E,mS:()=>y,Ku:()=>eh,ZQ:()=>k,qc:()=>G,sr:()=>P,zJ:()=>A,c1:()=>H,Im:()=>Y,lT:()=>D,zW:()=>B,jZ:()=>O,$g:()=>N,lV:()=>x,nr:()=>K,Ov:()=>U,Cv:()=>V,$L:()=>J,kH:()=>q,gE:()=>S,Am:()=>Q,I9:()=>ee,yw:()=>X,OE:()=>ec,kj:()=>es,As:()=>$,P1:()=>T,eX:()=>M});var n=r(40074);let i={NODE_CLIENT:!1,NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"},o=function(e,t){if(!e)throw a(t)},a=function(e){return Error("Firebase Database ("+i.SDK_VERSION+") INTERNAL ASSERT FAILED: "+e)},s=function(e){let t=[],r=0;for(let n=0;n<e.length;n++){let i=e.charCodeAt(n);i<128?t[r++]=i:(i<2048?t[r++]=i>>6|192:((64512&i)==55296&&n+1<e.length&&(64512&e.charCodeAt(n+1))==56320?(i=65536+((1023&i)<<10)+(1023&e.charCodeAt(++n)),t[r++]=i>>18|240,t[r++]=i>>12&63|128):t[r++]=i>>12|224,t[r++]=i>>6&63|128),t[r++]=63&i|128)}return t},c=function(e){let t=[],r=0,n=0;for(;r<e.length;){let i=e[r++];if(i<128)t[n++]=String.fromCharCode(i);else if(i>191&&i<224){let o=e[r++];t[n++]=String.fromCharCode((31&i)<<6|63&o)}else if(i>239&&i<365){let o=e[r++],a=((7&i)<<18|(63&o)<<12|(63&e[r++])<<6|63&e[r++])-65536;t[n++]=String.fromCharCode(55296+(a>>10)),t[n++]=String.fromCharCode(56320+(1023&a))}else{let o=e[r++],a=e[r++];t[n++]=String.fromCharCode((15&i)<<12|(63&o)<<6|63&a)}}return t.join("")},h={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();let r=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,n=[];for(let t=0;t<e.length;t+=3){let i=e[t],o=t+1<e.length,a=o?e[t+1]:0,s=t+2<e.length,c=s?e[t+2]:0,h=i>>2,l=(3&i)<<4|a>>4,u=(15&a)<<2|c>>6,f=63&c;!s&&(f=64,o||(u=64)),n.push(r[h],r[l],r[u],r[f])}return n.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(s(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):c(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();let r=t?this.charToByteMapWebSafe_:this.charToByteMap_,n=[];for(let t=0;t<e.length;){let i=r[e.charAt(t++)],o=t<e.length?r[e.charAt(t)]:0,a=++t<e.length?r[e.charAt(t)]:64,s=++t<e.length?r[e.charAt(t)]:64;if(++t,null==i||null==o||null==a||null==s)throw new l;let c=i<<2|o>>4;if(n.push(c),64!==a){let e=o<<4&240|a>>2;if(n.push(e),64!==s){let e=a<<6&192|s;n.push(e)}}}return n},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}};class l extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}let u=function(e){let t=s(e);return h.encodeByteArray(t,!0)},f=function(e){return u(e).replace(/\./g,"")},d=function(e){try{return h.decodeString(e,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function p(e){return function e(t,r){if(!(r instanceof Object))return r;switch(r.constructor){case Date:return new Date(r.getTime());case Object:void 0===t&&(t={});break;case Array:t=[];break;default:return r}for(let n in r)r.hasOwnProperty(n)&&"__proto__"!==n&&(t[n]=e(t[n],r[n]));return t}(void 0,e)}function y(){if("undefined"!=typeof self)return self;if("undefined"!=typeof window)return window;if(void 0!==r.g)return r.g;throw Error("Unable to locate global object.")}let g=()=>{try{return y().__FIREBASE_DEFAULTS__||(()=>{if(void 0===n||void 0===n.env)return;let e=n.env.__FIREBASE_DEFAULTS__;if(e)return JSON.parse(e)})()||(()=>{let e;if("undefined"==typeof document)return;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch(e){return}let t=e&&d(e[1]);return t&&JSON.parse(t)})()}catch(e){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${e}`);return}},w=e=>{var t,r;return null==(r=null==(t=g())?void 0:t.emulatorHosts)?void 0:r[e]},m=e=>{let t=w(e);if(!t)return;let r=t.lastIndexOf(":");if(r<=0||r+1===t.length)throw Error(`Invalid host ${t} with no separate hostname and port!`);let n=parseInt(t.substring(r+1),10);return"["===t[0]?[t.substring(1,r-1),n]:[t.substring(0,r),n]},b=()=>{var e;return null==(e=g())?void 0:e.config},E=e=>{var t;return null==(t=g())?void 0:t[`_${e}`]};class v{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,r)=>{t?this.reject(t):this.resolve(r),"function"==typeof e&&(this.promise.catch(()=>{}),1===e.length?e(t):e(t,r))}}}function A(e){try{return(e.startsWith("http://")||e.startsWith("https://")?new URL(e).hostname:e).endsWith(".cloudworkstations.dev")}catch(e){return!1}}async function S(e){return(await fetch(e,{credentials:"include"})).ok}function _(e,t){if(e.uid)throw Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');let r=t||"demo-project",n=e.iat||0,i=e.sub||e.user_id;if(!i)throw Error("mockUserToken must contain 'sub' or 'user_id' field!");let o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:n,exp:n+3600,auth_time:n,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},e);return[f(JSON.stringify({alg:"none",type:"JWT"})),f(JSON.stringify(o)),""].join(".")}let I={},C=!1;function T(e,t){if("undefined"==typeof window||"undefined"==typeof document||!A(window.location.host)||I[e]===t||I[e]||C)return;function r(e){return`__firebase__banner__${e}`}I[e]=t;let n="__firebase__banner",i=function(){let e={prod:[],emulator:[]};for(let t of Object.keys(I))I[t]?e.emulator.push(t):e.prod.push(t);return e}().prod.length>0;function o(){let e,t,o=(e=document.getElementById(n),t=!1,e||((e=document.createElement("div")).setAttribute("id",n),t=!0),{created:t,element:e}),a=r("text"),s=document.getElementById(a)||document.createElement("span"),c=r("learnmore"),h=document.getElementById(c)||document.createElement("a"),l=r("preprendIcon"),u=document.getElementById(l)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(o.created){let e=o.element;e.style.display="flex",e.style.background="#7faaf0",e.style.position="fixed",e.style.bottom="5px",e.style.left="5px",e.style.padding=".5em",e.style.borderRadius="5px",e.style.alignItems="center",h.setAttribute("id",c),h.innerText="Learn more",h.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",h.setAttribute("target","__blank"),h.style.paddingLeft="5px",h.style.textDecoration="underline";let t=function(){let e=document.createElement("span");return e.style.cursor="pointer",e.style.marginLeft="16px",e.style.fontSize="24px",e.innerHTML=" &times;",e.onclick=()=>{C=!0;let e=document.getElementById(n);e&&e.remove()},e}();u.setAttribute("width","24"),u.setAttribute("id",l),u.setAttribute("height","24"),u.setAttribute("viewBox","0 0 24 24"),u.setAttribute("fill","none"),u.style.marginLeft="-6px",e.append(u,s,h,t),document.body.appendChild(e)}i?(s.innerText="Preview backend disconnected.",u.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(u.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,s.innerText="Preview backend running in this workspace."),s.setAttribute("id",a)}"loading"===document.readyState?window.addEventListener("DOMContentLoaded",o):o()}function k(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function O(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(k())}function R(){var e;let t=null==(e=g())?void 0:e.forceEnvironment;if("node"===t)return!0;if("browser"===t)return!1;try{return"[object process]"===Object.prototype.toString.call(r.g.process)}catch(e){return!1}}function H(){return"undefined"!=typeof navigator&&"Cloudflare-Workers"===navigator.userAgent}function P(){let e="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof e&&void 0!==e.id}function x(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function D(){let e=k();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}function N(){return!0===i.NODE_CLIENT||!0===i.NODE_ADMIN}function K(){return!R()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function U(){return!R()&&!!navigator.userAgent&&(navigator.userAgent.includes("Safari")||navigator.userAgent.includes("WebKit"))&&!navigator.userAgent.includes("Chrome")}function B(){try{return"object"==typeof indexedDB}catch(e){return!1}}function M(){return new Promise((e,t)=>{try{let r=!0,n="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(n);i.onsuccess=()=>{i.result.close(),r||self.indexedDB.deleteDatabase(n),e(!0)},i.onupgradeneeded=()=>{r=!1},i.onerror=()=>{var e;t((null==(e=i.error)?void 0:e.message)||"")}}catch(e){t(e)}})}class W extends Error{constructor(e,t,r){super(t),this.code=e,this.customData=r,this.name="FirebaseError",Object.setPrototypeOf(this,W.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,j.prototype.create)}}class j{constructor(e,t,r){this.service=e,this.serviceName=t,this.errors=r}create(e,...t){var r,n;let i=t[0]||{},o=`${this.service}/${e}`,a=this.errors[e],s=a?(r=a,n=i,r.replace(L,(e,t)=>{let r=n[t];return null!=r?String(r):`<${t}?>`})):"Error",c=`${this.serviceName}: ${s} (${o}).`;return new W(o,c,i)}}let L=/\{\$([^}]+)}/g;function J(e){return JSON.parse(e)}function $(e){return JSON.stringify(e)}let F=function(e){let t={},r={},n={},i="";try{let o=e.split(".");t=J(d(o[0])||""),r=J(d(o[1])||""),i=o[2],n=r.d||{},delete r.d}catch(e){}return{header:t,claims:r,data:n,signature:i}},V=function(e){let t=F(e).claims;return!!t&&"object"==typeof t&&t.hasOwnProperty("iat")},G=function(e){let t=F(e).claims;return"object"==typeof t&&!0===t.admin};function z(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function X(e,t){return Object.prototype.hasOwnProperty.call(e,t)?e[t]:void 0}function Y(e){for(let t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}function q(e,t,r){let n={};for(let i in e)Object.prototype.hasOwnProperty.call(e,i)&&(n[i]=t.call(r,e[i],i,e));return n}function Z(e){return null!==e&&"object"==typeof e}function Q(e){let t=[];for(let[r,n]of Object.entries(e))Array.isArray(n)?n.forEach(e=>{t.push(encodeURIComponent(r)+"="+encodeURIComponent(e))}):t.push(encodeURIComponent(r)+"="+encodeURIComponent(n));return t.length?"&"+t.join("&"):""}function ee(e){let t={};return e.replace(/^\?/,"").split("&").forEach(e=>{if(e){let[r,n]=e.split("=");t[decodeURIComponent(r)]=decodeURIComponent(n)}}),t}function et(e){let t=e.indexOf("?");if(!t)return"";let r=e.indexOf("#",t);return e.substring(t,r>0?r:void 0)}class er{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(let e=1;e<this.blockSize;++e)this.pad_[e]=0;this.reset()}reset(){this.chain_[0]=0x67452301,this.chain_[1]=0xefcdab89,this.chain_[2]=0x98badcfe,this.chain_[3]=0x10325476,this.chain_[4]=0xc3d2e1f0,this.inbuf_=0,this.total_=0}compress_(e,t){let r,n;t||(t=0);let i=this.W_;if("string"==typeof e)for(let r=0;r<16;r++)i[r]=e.charCodeAt(t)<<24|e.charCodeAt(t+1)<<16|e.charCodeAt(t+2)<<8|e.charCodeAt(t+3),t+=4;else for(let r=0;r<16;r++)i[r]=e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3],t+=4;for(let e=16;e<80;e++){let t=i[e-3]^i[e-8]^i[e-14]^i[e-16];i[e]=t<<1|t>>>31}let o=this.chain_[0],a=this.chain_[1],s=this.chain_[2],c=this.chain_[3],h=this.chain_[4];for(let e=0;e<80;e++){e<40?e<20?(r=c^a&(s^c),n=0x5a827999):(r=a^s^c,n=0x6ed9eba1):e<60?(r=a&s|c&(a|s),n=0x8f1bbcdc):(r=a^s^c,n=0xca62c1d6);let t=(o<<5|o>>>27)+r+h+n+i[e]|0;h=c,c=s,s=a<<30|a>>>2,a=o,o=t}this.chain_[0]=this.chain_[0]+o|0,this.chain_[1]=this.chain_[1]+a|0,this.chain_[2]=this.chain_[2]+s|0,this.chain_[3]=this.chain_[3]+c|0,this.chain_[4]=this.chain_[4]+h|0}update(e,t){if(null==e)return;void 0===t&&(t=e.length);let r=t-this.blockSize,n=0,i=this.buf_,o=this.inbuf_;for(;n<t;){if(0===o)for(;n<=r;)this.compress_(e,n),n+=this.blockSize;if("string"==typeof e){for(;n<t;)if(i[o]=e.charCodeAt(n),++o,++n,o===this.blockSize){this.compress_(i),o=0;break}}else for(;n<t;)if(i[o]=e[n],++o,++n,o===this.blockSize){this.compress_(i),o=0;break}}this.inbuf_=o,this.total_+=t}digest(){let e=[],t=8*this.total_;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(let e=this.blockSize-1;e>=56;e--)this.buf_[e]=255&t,t/=256;this.compress_(this.buf_);let r=0;for(let t=0;t<5;t++)for(let n=24;n>=0;n-=8)e[r]=this.chain_[t]>>n&255,++r;return e}}function en(e,t){let r=new ei(e,t);return r.subscribe.bind(r)}class ei{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(e=>{this.error(e)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,r){let n;if(void 0===e&&void 0===t&&void 0===r)throw Error("Missing Observer.");void 0===(n=!function(e,t){if("object"!=typeof e||null===e)return!1;for(let r of t)if(r in e&&"function"==typeof e[r])return!0;return!1}(e,["next","error","complete"])?{next:e,error:t,complete:r}:e).next&&(n.next=eo),void 0===n.error&&(n.error=eo),void 0===n.complete&&(n.complete=eo);let i=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?n.error(this.finalError):n.complete()}catch(e){}}),this.observers.push(n),i}unsubscribeOne(e){void 0!==this.observers&&void 0!==this.observers[e]&&(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[e])try{t(this.observers[e])}catch(e){"undefined"!=typeof console&&console.error&&console.error(e)}})}close(e){this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function eo(){}function ea(e,t){return`${e} failed: ${t} argument `}let es=function(e){let t=[],r=0;for(let n=0;n<e.length;n++){let i=e.charCodeAt(n);if(i>=55296&&i<=56319){let t=i-55296;o(++n<e.length,"Surrogate pair missing trail surrogate."),i=65536+(t<<10)+(e.charCodeAt(n)-56320)}i<128?t[r++]=i:(i<2048?t[r++]=i>>6|192:(i<65536?t[r++]=i>>12|224:(t[r++]=i>>18|240,t[r++]=i>>12&63|128),t[r++]=i>>6&63|128),t[r++]=63&i|128)}return t},ec=function(e){let t=0;for(let r=0;r<e.length;r++){let n=e.charCodeAt(r);n<128?t++:n<2048?t+=2:n>=55296&&n<=56319?(t+=4,r++):t+=3}return t};function eh(e){return e&&e._delegate?e._delegate:e}},38312:(e,t,r)=>{"use strict";r.d(t,{Ao:()=>h,Bx:()=>o,Jh:()=>c,O4:()=>a,ZS:()=>n,fF:()=>l,iO:()=>i,ro:()=>s});var n,i,o,a,s,c,h,l,u="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},f={};(function(){var e,t,r,d="function"==typeof Object.defineProperties?Object.defineProperty:function(e,t,r){return e==Array.prototype||e==Object.prototype||(e[t]=r.value),e},p=function(e){e=["object"==typeof globalThis&&globalThis,e,"object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof u&&u];for(var t=0;t<e.length;++t){var r=e[t];if(r&&r.Math==Math)return r}throw Error("Cannot find global object")}(this);!function(e,t){if(t)e:{var r=p;e=e.split(".");for(var n=0;n<e.length-1;n++){var i=e[n];if(!(i in r))break e;r=r[i]}(t=t(n=r[e=e[e.length-1]]))!=n&&null!=t&&d(r,e,{configurable:!0,writable:!0,value:t})}}("Array.prototype.values",function(e){return e||function(){var e,t,r,n,i;return e=this,t=function(e,t){return t},e instanceof String&&(e+=""),r=0,n=!1,(i={next:function(){if(!n&&r<e.length){var i=r++;return{value:t(i,e[i]),done:!1}}return n=!0,{done:!0,value:void 0}}})[Symbol.iterator]=function(){return i},i}});var y=y||{},g=this||self;function w(e){var t=typeof e;return"array"==(t="object"!=t?t:e?Array.isArray(e)?"array":t:"null")||"object"==t&&"number"==typeof e.length}function m(e){var t=typeof e;return"object"==t&&null!=e||"function"==t}function b(e,t,r){return e.call.apply(e.bind,arguments)}function E(e,t,r){if(!e)throw Error();if(2<arguments.length){var n=Array.prototype.slice.call(arguments,2);return function(){var r=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(r,n),e.apply(t,r)}}return function(){return e.apply(t,arguments)}}function v(e,t,r){return(v=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?b:E).apply(null,arguments)}function A(e,t){var r=Array.prototype.slice.call(arguments,1);return function(){var t=r.slice();return t.push.apply(t,arguments),e.apply(this,t)}}function S(e,t){function r(){}r.prototype=t.prototype,e.aa=t.prototype,e.prototype=new r,e.prototype.constructor=e,e.Qb=function(e,r,n){for(var i=Array(arguments.length-2),o=2;o<arguments.length;o++)i[o-2]=arguments[o];return t.prototype[r].apply(e,i)}}function _(e){let t=e.length;if(0<t){let r=Array(t);for(let n=0;n<t;n++)r[n]=e[n];return r}return[]}function I(e,t){for(let t=1;t<arguments.length;t++){let r=arguments[t];if(w(r)){let t=e.length||0,n=r.length||0;e.length=t+n;for(let i=0;i<n;i++)e[t+i]=r[i]}else e.push(r)}}class C{constructor(e,t){this.i=e,this.j=t,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}function T(e){return/^[\s\xa0]*$/.test(e)}function k(){var e=g.navigator;return e&&(e=e.userAgent)?e:""}function O(e){return O[" "](e),e}O[" "]=function(){};var R=-1!=k().indexOf("Gecko")&&(-1==k().toLowerCase().indexOf("webkit")||-1!=k().indexOf("Edge"))&&-1==k().indexOf("Trident")&&-1==k().indexOf("MSIE")&&-1==k().indexOf("Edge");function H(e,t,r){for(let n in e)t.call(r,e[n],n,e)}function P(e){let t={};for(let r in e)t[r]=e[r];return t}let x="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function D(e,t){let r,n;for(let t=1;t<arguments.length;t++){for(r in n=arguments[t])e[r]=n[r];for(let t=0;t<x.length;t++)r=x[t],Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}}class N{constructor(){this.h=this.g=null}add(e,t){let r=K.get();r.set(e,t),this.h?this.h.next=r:this.g=r,this.h=r}}var K=new C(()=>new U,e=>e.reset());class U{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}let B,M=!1,W=new N,j=()=>{let e=g.Promise.resolve(void 0);B=()=>{e.then(L)}};var L=()=>{let e;for(var t;e=null,W.g&&(e=W.g,W.g=W.g.next,W.g||(W.h=null),e.next=null),t=e;){try{t.h.call(t.g)}catch(e){!function(e){g.setTimeout(()=>{throw e},0)}(e)}K.j(t),100>K.h&&(K.h++,t.next=K.g,K.g=t)}M=!1};function J(){this.s=this.s,this.C=this.C}function $(e,t){this.type=e,this.g=this.target=t,this.defaultPrevented=!1}J.prototype.s=!1,J.prototype.ma=function(){this.s||(this.s=!0,this.N())},J.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()},$.prototype.h=function(){this.defaultPrevented=!0};var F=function(){if(!g.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{let e=()=>{};g.addEventListener("test",e,t),g.removeEventListener("test",e,t)}catch(e){}return e}();function V(e,t){if($.call(this,e?e.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,e){var r=this.type=e.type,n=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.g=t,t=e.relatedTarget){if(R){e:{try{O(t.nodeName);var i=!0;break e}catch(e){}i=!1}i||(t=null)}}else"mouseover"==r?t=e.fromElement:"mouseout"==r&&(t=e.toElement);this.relatedTarget=t,n?(this.clientX=void 0!==n.clientX?n.clientX:n.pageX,this.clientY=void 0!==n.clientY?n.clientY:n.pageY,this.screenX=n.screenX||0,this.screenY=n.screenY||0):(this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType="string"==typeof e.pointerType?e.pointerType:G[e.pointerType]||"",this.state=e.state,this.i=e,e.defaultPrevented&&V.aa.h.call(this)}}S(V,$);var G={2:"touch",3:"pen",4:"mouse"};V.prototype.h=function(){V.aa.h.call(this);var e=this.i;e.preventDefault?e.preventDefault():e.returnValue=!1};var z="closure_listenable_"+(1e6*Math.random()|0),X=0;function Y(e,t,r,n,i){this.listener=e,this.proxy=null,this.src=t,this.type=r,this.capture=!!n,this.ha=i,this.key=++X,this.da=this.fa=!1}function q(e){e.da=!0,e.listener=null,e.proxy=null,e.src=null,e.ha=null}function Z(e){this.src=e,this.g={},this.h=0}function Q(e,t){var r=t.type;if(r in e.g){var n,i=e.g[r],o=Array.prototype.indexOf.call(i,t,void 0);(n=0<=o)&&Array.prototype.splice.call(i,o,1),n&&(q(t),0==e.g[r].length&&(delete e.g[r],e.h--))}}function ee(e,t,r,n){for(var i=0;i<e.length;++i){var o=e[i];if(!o.da&&o.listener==t&&!!r==o.capture&&o.ha==n)return i}return -1}Z.prototype.add=function(e,t,r,n,i){var o=e.toString();(e=this.g[o])||(e=this.g[o]=[],this.h++);var a=ee(e,t,n,i);return -1<a?(t=e[a],r||(t.fa=!1)):((t=new Y(t,this.src,o,!!n,i)).fa=r,e.push(t)),t};var et="closure_lm_"+(1e6*Math.random()|0),er={};function en(e,t,r,n,i,o){if(!t)throw Error("Invalid event type");var a=m(i)?!!i.capture:!!i,s=es(e);if(s||(e[et]=s=new Z(e)),(r=s.add(t,r,n,a,o)).proxy)return r;if(n=function e(t){return ea.call(e.src,e.listener,t)},r.proxy=n,n.src=e,n.listener=r,e.addEventListener)F||(i=a),void 0===i&&(i=!1),e.addEventListener(t.toString(),n,i);else if(e.attachEvent)e.attachEvent(eo(t.toString()),n);else if(e.addListener&&e.removeListener)e.addListener(n);else throw Error("addEventListener and attachEvent are unavailable.");return r}function ei(e){if("number"!=typeof e&&e&&!e.da){var t=e.src;if(t&&t[z])Q(t.i,e);else{var r=e.type,n=e.proxy;t.removeEventListener?t.removeEventListener(r,n,e.capture):t.detachEvent?t.detachEvent(eo(r),n):t.addListener&&t.removeListener&&t.removeListener(n),(r=es(t))?(Q(r,e),0==r.h&&(r.src=null,t[et]=null)):q(e)}}}function eo(e){return e in er?er[e]:er[e]="on"+e}function ea(e,t){if(e.da)e=!0;else{t=new V(t,this);var r=e.listener,n=e.ha||e.src;e.fa&&ei(e),e=r.call(n,t)}return e}function es(e){return(e=e[et])instanceof Z?e:null}var ec="__closure_events_fn_"+(1e9*Math.random()>>>0);function eh(e){return"function"==typeof e?e:(e[ec]||(e[ec]=function(t){return e.handleEvent(t)}),e[ec])}function el(){J.call(this),this.i=new Z(this),this.M=this,this.F=null}function eu(e,t){var r,n=e.F;if(n)for(r=[];n;n=n.F)r.push(n);if(e=e.M,n=t.type||t,"string"==typeof t)t=new $(t,e);else if(t instanceof $)t.target=t.target||e;else{var i=t;D(t=new $(n,e),i)}if(i=!0,r)for(var o=r.length-1;0<=o;o--){var a=t.g=r[o];i=ef(a,n,!0,t)&&i}if(i=ef(a=t.g=e,n,!0,t)&&i,i=ef(a,n,!1,t)&&i,r)for(o=0;o<r.length;o++)i=ef(a=t.g=r[o],n,!1,t)&&i}function ef(e,t,r,n){if(!(t=e.i.g[String(t)]))return!0;t=t.concat();for(var i=!0,o=0;o<t.length;++o){var a=t[o];if(a&&!a.da&&a.capture==r){var s=a.listener,c=a.ha||a.src;a.fa&&Q(e.i,a),i=!1!==s.call(c,n)&&i}}return i&&!n.defaultPrevented}function ed(e,t,r){if("function"==typeof e)r&&(e=v(e,r));else if(e&&"function"==typeof e.handleEvent)e=v(e.handleEvent,e);else throw Error("Invalid listener argument");return 0x7fffffff<Number(t)?-1:g.setTimeout(e,t||0)}S(el,J),el.prototype[z]=!0,el.prototype.removeEventListener=function(e,t,r,n){!function e(t,r,n,i,o){if(Array.isArray(r))for(var a=0;a<r.length;a++)e(t,r[a],n,i,o);else(i=m(i)?!!i.capture:!!i,n=eh(n),t&&t[z])?(t=t.i,(r=String(r).toString())in t.g&&-1<(n=ee(a=t.g[r],n,i,o))&&(q(a[n]),Array.prototype.splice.call(a,n,1),0==a.length&&(delete t.g[r],t.h--))):t&&(t=es(t))&&(r=t.g[r.toString()],t=-1,r&&(t=ee(r,n,i,o)),(n=-1<t?r[t]:null)&&ei(n))}(this,e,t,r,n)},el.prototype.N=function(){if(el.aa.N.call(this),this.i){var e,t=this.i;for(e in t.g){for(var r=t.g[e],n=0;n<r.length;n++)q(r[n]);delete t.g[e],t.h--}}this.F=null},el.prototype.K=function(e,t,r,n){return this.i.add(String(e),t,!1,r,n)},el.prototype.L=function(e,t,r,n){return this.i.add(String(e),t,!0,r,n)};class ep extends J{constructor(e,t){super(),this.m=e,this.l=t,this.h=null,this.i=!1,this.g=null}j(e){this.h=arguments,this.g?this.i=!0:function e(t){t.g=ed(()=>{t.g=null,t.i&&(t.i=!1,e(t))},t.l);let r=t.h;t.h=null,t.m.apply(null,r)}(this)}N(){super.N(),this.g&&(g.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ey(e){J.call(this),this.h=e,this.g={}}S(ey,J);var eg=[];function ew(e){H(e.g,function(e,t){this.g.hasOwnProperty(t)&&ei(e)},e),e.g={}}ey.prototype.N=function(){ey.aa.N.call(this),ew(this)},ey.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var em=g.JSON.stringify,eb=g.JSON.parse,eE=class{stringify(e){return g.JSON.stringify(e,void 0)}parse(e){return g.JSON.parse(e,void 0)}};function ev(){}function eA(e){return e.h||(e.h=e.i())}function eS(){}ev.prototype.h=null;var e_={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function eI(){$.call(this,"d")}function eC(){$.call(this,"c")}S(eI,$),S(eC,$);var eT={},ek=null;function eO(){return ek=ek||new el}function eR(e){$.call(this,eT.La,e)}function eH(e){let t=eO();eu(t,new eR(t))}function eP(e,t){$.call(this,eT.STAT_EVENT,e),this.stat=t}function ex(e){let t=eO();eu(t,new eP(t,e))}function eD(e,t){$.call(this,eT.Ma,e),this.size=t}function eN(e,t){if("function"!=typeof e)throw Error("Fn must not be null and must be a function");return g.setTimeout(function(){e()},t)}function eK(){this.g=!0}function eU(e,t,r,n){e.info(function(){return"XMLHTTP TEXT ("+t+"): "+function(e,t){if(!e.g)return t;if(!t)return null;try{var r=JSON.parse(t);if(r){for(e=0;e<r.length;e++)if(Array.isArray(r[e])){var n=r[e];if(!(2>n.length)){var i=n[1];if(Array.isArray(i)&&!(1>i.length)){var o=i[0];if("noop"!=o&&"stop"!=o&&"close"!=o)for(var a=1;a<i.length;a++)i[a]=""}}}}return em(r)}catch(e){return t}}(e,r)+(n?" "+n:"")})}eT.La="serverreachability",S(eR,$),eT.STAT_EVENT="statevent",S(eP,$),eT.Ma="timingevent",S(eD,$),eK.prototype.xa=function(){this.g=!1},eK.prototype.info=function(){};var eB={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},eM={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"};function eW(){}function ej(e,t,r,n){this.j=e,this.i=t,this.l=r,this.R=n||1,this.U=new ey(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new eL}function eL(){this.i=null,this.g="",this.h=!1}S(eW,ev),eW.prototype.g=function(){return new XMLHttpRequest},eW.prototype.i=function(){return{}},t=new eW;var eJ={},e$={};function eF(e,t,r){e.L=1,e.v=ta(tt(t)),e.m=r,e.P=!0,eV(e,null)}function eV(e,t){e.F=Date.now(),ez(e),e.A=tt(e.v);var r,n,i,o,a,s,c=e.A,h=e.R;Array.isArray(h)||(h=[String(h)]),tb(c.i,"t",h),e.C=0,c=e.j.J,e.h=new eL,e.g=t8(e.j,c?t:null,!e.m),0<e.O&&(e.M=new ep(v(e.Y,e,e.g),e.O)),t=e.U,c=e.g,h=e.ca;var l="readystatechange";Array.isArray(l)||(l&&(eg[0]=l.toString()),l=eg);for(var u=0;u<l.length;u++){var f=function e(t,r,n,i,o){if(i&&i.once)return function e(t,r,n,i,o){if(Array.isArray(r)){for(var a=0;a<r.length;a++)e(t,r[a],n,i,o);return null}return n=eh(n),t&&t[z]?t.L(r,n,m(i)?!!i.capture:!!i,o):en(t,r,n,!0,i,o)}(t,r,n,i,o);if(Array.isArray(r)){for(var a=0;a<r.length;a++)e(t,r[a],n,i,o);return null}return n=eh(n),t&&t[z]?t.K(r,n,m(i)?!!i.capture:!!i,o):en(t,r,n,!1,i,o)}(c,l[u],h||t.handleEvent,!1,t.h||t);if(!f)break;t.g[f.key]=f}t=e.H?P(e.H):{},e.m?(e.u||(e.u="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.g.ea(e.A,e.u,e.m,t)):(e.u="GET",e.g.ea(e.A,e.u,null,t)),eH(),r=e.i,n=e.u,i=e.A,o=e.l,a=e.R,s=e.m,r.info(function(){if(r.g)if(s)for(var e="",t=s.split("&"),c=0;c<t.length;c++){var h=t[c].split("=");if(1<h.length){var l=h[0];h=h[1];var u=l.split("_");e=2<=u.length&&"type"==u[1]?e+(l+"=")+h+"&":e+(l+"=redacted&")}}else e=null;else e=s;return"XMLHTTP REQ ("+o+") [attempt "+a+"]: "+n+"\n"+i+"\n"+e})}function eG(e){return!!e.g&&"GET"==e.u&&2!=e.L&&e.j.Ca}function ez(e){e.S=Date.now()+e.I,eX(e,e.I)}function eX(e,t){if(null!=e.B)throw Error("WatchDog timer not null");e.B=eN(v(e.ba,e),t)}function eY(e){e.B&&(g.clearTimeout(e.B),e.B=null)}function eq(e){0==e.j.G||e.J||t0(e.j,e)}function eZ(e){eY(e);var t=e.M;t&&"function"==typeof t.ma&&t.ma(),e.M=null,ew(e.U),e.g&&(t=e.g,e.g=null,t.abort(),t.ma())}function eQ(e,t){try{var r=e.j;if(0!=r.G&&(r.g==e||e5(r.h,e))){if(!e.K&&e5(r.h,e)&&3==r.G){try{var n=r.Da.g.parse(t)}catch(e){n=null}if(Array.isArray(n)&&3==n.length){var i=n;if(0==i[0]){e:if(!r.u){if(r.g)if(r.g.F+3e3<e.F)tQ(r),tJ(r);else break e;tY(r),ex(18)}}else r.za=i[1],0<r.za-r.T&&37500>i[2]&&r.F&&0==r.v&&!r.C&&(r.C=eN(v(r.Za,r),6e3));if(1>=e6(r.h)&&r.ca){try{r.ca()}catch(e){}r.ca=void 0}}else t2(r,11)}else if((e.K||r.g==e)&&tQ(r),!T(t))for(i=r.Da.g.parse(t),t=0;t<i.length;t++){let s=i[t];if(r.T=s[0],s=s[1],2==r.G)if("c"==s[0]){r.K=s[1],r.ia=s[2];let t=s[3];null!=t&&(r.la=t,r.j.info("VER="+r.la));let i=s[4];null!=i&&(r.Aa=i,r.j.info("SVER="+r.Aa));let c=s[5];null!=c&&"number"==typeof c&&0<c&&(r.L=n=1.5*c,r.j.info("backChannelRequestTimeoutMs_="+n)),n=r;let h=e.g;if(h){let e=h.g?h.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(e){var o=n.h;o.g||-1==e.indexOf("spdy")&&-1==e.indexOf("quic")&&-1==e.indexOf("h2")||(o.j=o.l,o.g=new Set,o.h&&(e8(o,o.h),o.h=null))}if(n.D){let e=h.g?h.g.getResponseHeader("X-HTTP-Session-Id"):null;e&&(n.ya=e,to(n.I,n.D,e))}}if(r.G=3,r.l&&r.l.ua(),r.ba&&(r.R=Date.now()-e.F,r.j.info("Handshake RTT: "+r.R+"ms")),(n=r).qa=t5(n,n.J?n.ia:null,n.W),e.K){e3(n.h,e);var a=n.L;a&&(e.I=a),e.B&&(eY(e),ez(e)),n.g=e}else tX(n);0<r.i.length&&tF(r)}else"stop"!=s[0]&&"close"!=s[0]||t2(r,7);else 3==r.G&&("stop"==s[0]||"close"==s[0]?"stop"==s[0]?t2(r,7):tL(r):"noop"!=s[0]&&r.l&&r.l.ta(s),r.v=0)}}eH(4)}catch(e){}}ej.prototype.ca=function(e){e=e.target;let t=this.M;t&&3==tB(e)?t.j():this.Y(e)},ej.prototype.Y=function(e){try{if(e==this.g)e:{let m=tB(this.g);var t=this.g.Ba();let b=this.g.Z();if(!(3>m)&&(3!=m||this.g&&(this.h.h||this.g.oa()||tM(this.g)))){this.J||4!=m||7==t||(8==t||0>=b?eH(3):eH(2)),eY(this);var r=this.g.Z();this.X=r;t:if(eG(this)){var n=tM(this.g);e="";var i=n.length,o=4==tB(this.g);if(!this.h.i){if("undefined"==typeof TextDecoder){eZ(this),eq(this);var a="";break t}this.h.i=new g.TextDecoder}for(t=0;t<i;t++)this.h.h=!0,e+=this.h.i.decode(n[t],{stream:!(o&&t==i-1)});n.length=0,this.h.g+=e,this.C=0,a=this.h.g}else a=this.g.oa();if(this.o=200==r,s=this.i,c=this.u,h=this.A,l=this.l,u=this.R,f=r,s.info(function(){return"XMLHTTP RESP ("+l+") [ attempt "+u+"]: "+c+"\n"+h+"\n"+m+" "+f}),this.o){if(this.T&&!this.K){t:{if(this.g){var s,c,h,l,u,f,d,p=this.g;if((d=p.g?p.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!T(d)){var y=d;break t}}y=null}if(r=y)eU(this.i,this.l,r,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,eQ(this,r);else{this.o=!1,this.s=3,ex(12),eZ(this),eq(this);break e}}if(this.P){let e;for(r=!0;!this.J&&this.C<a.length;)if((e=function(e,t){var r=e.C,n=t.indexOf("\n",r);return -1==n?e$:isNaN(r=Number(t.substring(r,n)))?eJ:(n+=1)+r>t.length?e$:(t=t.slice(n,n+r),e.C=n+r,t)}(this,a))==e$){4==m&&(this.s=4,ex(14),r=!1),eU(this.i,this.l,null,"[Incomplete Response]");break}else if(e==eJ){this.s=4,ex(15),eU(this.i,this.l,a,"[Invalid Chunk]"),r=!1;break}else eU(this.i,this.l,e,null),eQ(this,e);if(eG(this)&&0!=this.C&&(this.h.g=this.h.g.slice(this.C),this.C=0),4!=m||0!=a.length||this.h.h||(this.s=1,ex(16),r=!1),this.o=this.o&&r,r){if(0<a.length&&!this.W){this.W=!0;var w=this.j;w.g==this&&w.ba&&!w.M&&(w.j.info("Great, no buffering proxy detected. Bytes received: "+a.length),tq(w),w.M=!0,ex(11))}}else eU(this.i,this.l,a,"[Invalid Chunked Response]"),eZ(this),eq(this)}else eU(this.i,this.l,a,null),eQ(this,a);4==m&&eZ(this),this.o&&!this.J&&(4==m?t0(this.j,this):(this.o=!1,ez(this)))}else(function(e){let t={};e=(e.g&&2<=tB(e)&&e.g.getAllResponseHeaders()||"").split("\r\n");for(let n=0;n<e.length;n++){if(T(e[n]))continue;var r=function(e){var t=1;e=e.split(":");let r=[];for(;0<t&&e.length;)r.push(e.shift()),t--;return e.length&&r.push(e.join(":")),r}(e[n]);let i=r[0];if("string"!=typeof(r=r[1]))continue;r=r.trim();let o=t[i]||[];t[i]=o,o.push(r)}var n=function(e){return e.join(", ")};for(let e in t)n.call(void 0,t[e],e,t)})(this.g),400==r&&0<a.indexOf("Unknown SID")?(this.s=3,ex(12)):(this.s=0,ex(13)),eZ(this),eq(this)}}}catch(e){}finally{}},ej.prototype.cancel=function(){this.J=!0,eZ(this)},ej.prototype.ba=function(){var e,t;this.B=null;let r=Date.now();0<=r-this.S?(e=this.i,t=this.A,e.info(function(){return"TIMEOUT: "+t}),2!=this.L&&(eH(),ex(17)),eZ(this),this.s=2,eq(this)):eX(this,this.S-r)};var e0=class{constructor(e,t){this.g=e,this.map=t}};function e1(e){this.l=e||10,e=g.PerformanceNavigationTiming?0<(e=g.performance.getEntriesByType("navigation")).length&&("hq"==e[0].nextHopProtocol||"h2"==e[0].nextHopProtocol):!!(g.chrome&&g.chrome.loadTimes&&g.chrome.loadTimes()&&g.chrome.loadTimes().wasFetchedViaSpdy),this.j=e?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function e2(e){return!!e.h||!!e.g&&e.g.size>=e.j}function e6(e){return e.h?1:e.g?e.g.size:0}function e5(e,t){return e.h?e.h==t:!!e.g&&e.g.has(t)}function e8(e,t){e.g?e.g.add(t):e.h=t}function e3(e,t){e.h&&e.h==t?e.h=null:e.g&&e.g.has(t)&&e.g.delete(t)}function e4(e){if(null!=e.h)return e.i.concat(e.h.D);if(null!=e.g&&0!==e.g.size){let t=e.i;for(let r of e.g.values())t=t.concat(r.D);return t}return _(e.i)}function e9(e,t){if(e.forEach&&"function"==typeof e.forEach)e.forEach(t,void 0);else if(w(e)||"string"==typeof e)Array.prototype.forEach.call(e,t,void 0);else for(var r=function(e){if(e.na&&"function"==typeof e.na)return e.na();if(!e.V||"function"!=typeof e.V){if("undefined"!=typeof Map&&e instanceof Map)return Array.from(e.keys());if(!("undefined"!=typeof Set&&e instanceof Set)){if(w(e)||"string"==typeof e){var t=[];e=e.length;for(var r=0;r<e;r++)t.push(r);return t}for(let n in t=[],r=0,e)t[r++]=n;return t}}}(e),n=function(e){if(e.V&&"function"==typeof e.V)return e.V();if("undefined"!=typeof Map&&e instanceof Map||"undefined"!=typeof Set&&e instanceof Set)return Array.from(e.values());if("string"==typeof e)return e.split("");if(w(e)){for(var t=[],r=e.length,n=0;n<r;n++)t.push(e[n]);return t}for(n in t=[],r=0,e)t[r++]=e[n];return t}(e),i=n.length,o=0;o<i;o++)t.call(void 0,n[o],r&&r[o],e)}e1.prototype.cancel=function(){if(this.i=e4(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(let e of this.g.values())e.cancel();this.g.clear()}};var e7=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function te(e){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,e instanceof te){this.h=e.h,tr(this,e.j),this.o=e.o,this.g=e.g,tn(this,e.s),this.l=e.l;var t=e.i,r=new ty;r.i=t.i,t.g&&(r.g=new Map(t.g),r.h=t.h),ti(this,r),this.m=e.m}else e&&(t=String(e).match(e7))?(this.h=!1,tr(this,t[1]||"",!0),this.o=ts(t[2]||""),this.g=ts(t[3]||"",!0),tn(this,t[4]),this.l=ts(t[5]||"",!0),ti(this,t[6]||"",!0),this.m=ts(t[7]||"")):(this.h=!1,this.i=new ty(null,this.h))}function tt(e){return new te(e)}function tr(e,t,r){e.j=r?ts(t,!0):t,e.j&&(e.j=e.j.replace(/:$/,""))}function tn(e,t){if(t){if(isNaN(t=Number(t))||0>t)throw Error("Bad port number "+t);e.s=t}else e.s=null}function ti(e,t,r){var n,i;t instanceof ty?(e.i=t,n=e.i,(i=e.h)&&!n.j&&(tg(n),n.i=null,n.g.forEach(function(e,t){var r=t.toLowerCase();t!=r&&(tw(this,t),tb(this,r,e))},n)),n.j=i):(r||(t=tc(t,td)),e.i=new ty(t,e.h))}function to(e,t,r){e.i.set(t,r)}function ta(e){return to(e,"zx",Math.floor(0x80000000*Math.random()).toString(36)+Math.abs(Math.floor(0x80000000*Math.random())^Date.now()).toString(36)),e}function ts(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function tc(e,t,r){return"string"==typeof e?(e=encodeURI(e).replace(t,th),r&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function th(e){return"%"+((e=e.charCodeAt(0))>>4&15).toString(16)+(15&e).toString(16)}te.prototype.toString=function(){var e=[],t=this.j;t&&e.push(tc(t,tl,!0),":");var r=this.g;return(r||"file"==t)&&(e.push("//"),(t=this.o)&&e.push(tc(t,tl,!0),"@"),e.push(encodeURIComponent(String(r)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(r=this.s)&&e.push(":",String(r))),(r=this.l)&&(this.g&&"/"!=r.charAt(0)&&e.push("/"),e.push(tc(r,"/"==r.charAt(0)?tf:tu,!0))),(r=this.i.toString())&&e.push("?",r),(r=this.m)&&e.push("#",tc(r,tp)),e.join("")};var tl=/[#\/\?@]/g,tu=/[#\?:]/g,tf=/[#\?]/g,td=/[#\?@]/g,tp=/#/g;function ty(e,t){this.h=this.g=null,this.i=e||null,this.j=!!t}function tg(e){e.g||(e.g=new Map,e.h=0,e.i&&function(e,t){if(e){e=e.split("&");for(var r=0;r<e.length;r++){var n=e[r].indexOf("="),i=null;if(0<=n){var o=e[r].substring(0,n);i=e[r].substring(n+1)}else o=e[r];t(o,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(e.i,function(t,r){e.add(decodeURIComponent(t.replace(/\+/g," ")),r)}))}function tw(e,t){tg(e),t=tE(e,t),e.g.has(t)&&(e.i=null,e.h-=e.g.get(t).length,e.g.delete(t))}function tm(e,t){return tg(e),t=tE(e,t),e.g.has(t)}function tb(e,t,r){tw(e,t),0<r.length&&(e.i=null,e.g.set(tE(e,t),_(r)),e.h+=r.length)}function tE(e,t){return t=String(t),e.j&&(t=t.toLowerCase()),t}function tv(e,t,r,n,i){try{i&&(i.onload=null,i.onerror=null,i.onabort=null,i.ontimeout=null),n(r)}catch(e){}}function tA(){this.g=new eE}function tS(e){this.l=e.Ub||null,this.j=e.eb||!1}function t_(e,t){el.call(this),this.D=e,this.o=t,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}function tI(e){e.j.read().then(e.Pa.bind(e)).catch(e.ga.bind(e))}function tC(e){e.readyState=4,e.l=null,e.j=null,e.v=null,tT(e)}function tT(e){e.onreadystatechange&&e.onreadystatechange.call(e)}function tk(e){let t="";return H(e,function(e,r){t+=r,t+=":",t+=e,t+="\r\n"}),t}function tO(e,t,r){e:{for(n in r){var n=!1;break e}n=!0}n||(r=tk(r),"string"==typeof e?null!=r&&encodeURIComponent(String(r)):to(e,t,r))}function tR(e){el.call(this),this.headers=new Map,this.o=e||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}(r=ty.prototype).add=function(e,t){tg(this),this.i=null,e=tE(this,e);var r=this.g.get(e);return r||this.g.set(e,r=[]),r.push(t),this.h+=1,this},r.forEach=function(e,t){tg(this),this.g.forEach(function(r,n){r.forEach(function(r){e.call(t,r,n,this)},this)},this)},r.na=function(){tg(this);let e=Array.from(this.g.values()),t=Array.from(this.g.keys()),r=[];for(let n=0;n<t.length;n++){let i=e[n];for(let e=0;e<i.length;e++)r.push(t[n])}return r},r.V=function(e){tg(this);let t=[];if("string"==typeof e)tm(this,e)&&(t=t.concat(this.g.get(tE(this,e))));else{e=Array.from(this.g.values());for(let r=0;r<e.length;r++)t=t.concat(e[r])}return t},r.set=function(e,t){return tg(this),this.i=null,tm(this,e=tE(this,e))&&(this.h-=this.g.get(e).length),this.g.set(e,[t]),this.h+=1,this},r.get=function(e,t){return e&&0<(e=this.V(e)).length?String(e[0]):t},r.toString=function(){if(this.i)return this.i;if(!this.g)return"";let e=[],t=Array.from(this.g.keys());for(var r=0;r<t.length;r++){var n=t[r];let o=encodeURIComponent(String(n)),a=this.V(n);for(n=0;n<a.length;n++){var i=o;""!==a[n]&&(i+="="+encodeURIComponent(String(a[n]))),e.push(i)}}return this.i=e.join("&")},S(tS,ev),tS.prototype.g=function(){return new t_(this.l,this.j)},tS.prototype.i=(e={},function(){return e}),S(t_,el),(r=t_.prototype).open=function(e,t){if(0!=this.readyState)throw this.abort(),Error("Error reopening a connection");this.B=e,this.A=t,this.readyState=1,tT(this)},r.send=function(e){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;let t={headers:this.u,method:this.B,credentials:this.m,cache:void 0};e&&(t.body=e),(this.D||g).fetch(new Request(this.A,t)).then(this.Sa.bind(this),this.ga.bind(this))},r.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,tC(this)),this.readyState=0},r.Sa=function(e){if(this.g&&(this.l=e,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=e.headers,this.readyState=2,tT(this)),this.g&&(this.readyState=3,tT(this),this.g)))if("arraybuffer"===this.responseType)e.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(void 0!==g.ReadableStream&&"body"in e){if(this.j=e.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;tI(this)}else e.text().then(this.Ra.bind(this),this.ga.bind(this))},r.Pa=function(e){if(this.g){if(this.o&&e.value)this.response.push(e.value);else if(!this.o){var t=e.value?e.value:new Uint8Array(0);(t=this.v.decode(t,{stream:!e.done}))&&(this.response=this.responseText+=t)}e.done?tC(this):tT(this),3==this.readyState&&tI(this)}},r.Ra=function(e){this.g&&(this.response=this.responseText=e,tC(this))},r.Qa=function(e){this.g&&(this.response=e,tC(this))},r.ga=function(){this.g&&tC(this)},r.setRequestHeader=function(e,t){this.u.append(e,t)},r.getResponseHeader=function(e){return this.h&&this.h.get(e.toLowerCase())||""},r.getAllResponseHeaders=function(){if(!this.h)return"";let e=[],t=this.h.entries();for(var r=t.next();!r.done;)e.push((r=r.value)[0]+": "+r[1]),r=t.next();return e.join("\r\n")},Object.defineProperty(t_.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(e){this.m=e?"include":"same-origin"}}),S(tR,el);var tH=/^https?$/i,tP=["POST","PUT"];function tx(e,t){e.h=!1,e.g&&(e.j=!0,e.g.abort(),e.j=!1),e.l=t,e.m=5,tD(e),tK(e)}function tD(e){e.A||(e.A=!0,eu(e,"complete"),eu(e,"error"))}function tN(e){if(e.h&&void 0!==y&&(!e.v[1]||4!=tB(e)||2!=e.Z())){if(e.u&&4==tB(e))ed(e.Ea,0,e);else if(eu(e,"readystatechange"),4==tB(e)){e.h=!1;try{let a=e.Z();switch(a){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var t,r,n=!0;break;default:n=!1}if(!(t=n)){if(r=0===a){var i=String(e.D).match(e7)[1]||null;!i&&g.self&&g.self.location&&(i=g.self.location.protocol.slice(0,-1)),r=!tH.test(i?i.toLowerCase():"")}t=r}if(t)eu(e,"complete"),eu(e,"success");else{e.m=6;try{var o=2<tB(e)?e.g.statusText:""}catch(e){o=""}e.l=o+" ["+e.Z()+"]",tD(e)}}finally{tK(e)}}}}function tK(e,t){if(e.g){tU(e);let r=e.g,n=e.v[0]?()=>{}:null;e.g=null,e.v=null,t||eu(e,"ready");try{r.onreadystatechange=n}catch(e){}}}function tU(e){e.I&&(g.clearTimeout(e.I),e.I=null)}function tB(e){return e.g?e.g.readyState:0}function tM(e){try{if(!e.g)return null;if("response"in e.g)return e.g.response;switch(e.H){case"":case"text":return e.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in e.g)return e.g.mozResponseArrayBuffer}return null}catch(e){return null}}function tW(e,t,r){return r&&r.internalChannelParams&&r.internalChannelParams[e]||t}function tj(e){this.Aa=0,this.i=[],this.j=new eK,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=tW("failFast",!1,e),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=tW("baseRetryDelayMs",5e3,e),this.cb=tW("retryDelaySeedMs",1e4,e),this.Wa=tW("forwardChannelMaxRetries",2,e),this.wa=tW("forwardChannelRequestTimeoutMs",2e4,e),this.pa=e&&e.xmlHttpFactory||void 0,this.Xa=e&&e.Tb||void 0,this.Ca=e&&e.useFetchStreams||!1,this.L=void 0,this.J=e&&e.supportsCrossDomainXhr||!1,this.K="",this.h=new e1(e&&e.concurrentRequestLimit),this.Da=new tA,this.P=e&&e.fastHandshake||!1,this.O=e&&e.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=e&&e.Rb||!1,e&&e.xa&&this.j.xa(),e&&e.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&e&&e.detectBufferingProxy||!1,this.ja=void 0,e&&e.longPollingTimeout&&0<e.longPollingTimeout&&(this.ja=e.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}function tL(e){if(t$(e),3==e.G){var t=e.U++,r=tt(e.I);if(to(r,"SID",e.K),to(r,"RID",t),to(r,"TYPE","terminate"),tG(e,r),(t=new ej(e,e.j,t)).L=2,t.v=ta(tt(r)),r=!1,g.navigator&&g.navigator.sendBeacon)try{r=g.navigator.sendBeacon(t.v.toString(),"")}catch(e){}!r&&g.Image&&((new Image).src=t.v,r=!0),r||(t.g=t8(t.j,null),t.g.ea(t.v)),t.F=Date.now(),ez(t)}t6(e)}function tJ(e){e.g&&(tq(e),e.g.cancel(),e.g=null)}function t$(e){tJ(e),e.u&&(g.clearTimeout(e.u),e.u=null),tQ(e),e.h.cancel(),e.s&&("number"==typeof e.s&&g.clearTimeout(e.s),e.s=null)}function tF(e){if(!e2(e.h)&&!e.s){e.s=!0;var t=e.Ga;B||j(),M||(B(),M=!0),W.add(t,e),e.B=0}}function tV(e,t){var r;r=t?t.l:e.U++;let n=tt(e.I);to(n,"SID",e.K),to(n,"RID",r),to(n,"AID",e.T),tG(e,n),e.m&&e.o&&tO(n,e.m,e.o),r=new ej(e,e.j,r,e.B+1),null===e.m&&(r.H=e.o),t&&(e.i=t.D.concat(e.i)),t=tz(e,r,1e3),r.I=Math.round(.5*e.wa)+Math.round(.5*e.wa*Math.random()),e8(e.h,r),eF(r,n,t)}function tG(e,t){e.H&&H(e.H,function(e,r){to(t,r,e)}),e.l&&e9({},function(e,r){to(t,r,e)})}function tz(e,t,r){r=Math.min(e.i.length,r);var n=e.l?v(e.l.Na,e.l,e):null;e:{var i=e.i;let t=-1;for(;;){let e=["count="+r];-1==t?0<r?(t=i[0].g,e.push("ofs="+t)):t=0:e.push("ofs="+t);let o=!0;for(let a=0;a<r;a++){let r=i[a].g,s=i[a].map;if(0>(r-=t))t=Math.max(0,i[a].g-100),o=!1;else try{!function(e,t,r){let n=r||"";try{e9(e,function(e,r){let i=e;m(e)&&(i=em(e)),t.push(n+r+"="+encodeURIComponent(i))})}catch(e){throw t.push(n+"type="+encodeURIComponent("_badmap")),e}}(s,e,"req"+r+"_")}catch(e){n&&n(s)}}if(o){n=e.join("&");break e}}}return t.D=e=e.i.splice(0,r),n}function tX(e){if(!e.g&&!e.u){e.Y=1;var t=e.Fa;B||j(),M||(B(),M=!0),W.add(t,e),e.v=0}}function tY(e){return!e.g&&!e.u&&!(3<=e.v)&&(e.Y++,e.u=eN(v(e.Fa,e),t1(e,e.v)),e.v++,!0)}function tq(e){null!=e.A&&(g.clearTimeout(e.A),e.A=null)}function tZ(e){e.g=new ej(e,e.j,"rpc",e.Y),null===e.m&&(e.g.H=e.o),e.g.O=0;var t=tt(e.qa);to(t,"RID","rpc"),to(t,"SID",e.K),to(t,"AID",e.T),to(t,"CI",e.F?"0":"1"),!e.F&&e.ja&&to(t,"TO",e.ja),to(t,"TYPE","xmlhttp"),tG(e,t),e.m&&e.o&&tO(t,e.m,e.o),e.L&&(e.g.I=e.L);var r=e.g;e=e.ia,r.L=1,r.v=ta(tt(t)),r.m=null,r.P=!0,eV(r,e)}function tQ(e){null!=e.C&&(g.clearTimeout(e.C),e.C=null)}function t0(e,t){var r,n=null;if(e.g==t){tQ(e),tq(e),e.g=null;var i=2}else{if(!e5(e.h,t))return;n=t.D,e3(e.h,t),i=1}if(0!=e.G){if(t.o)if(1==i){n=t.m?t.m.length:0,t=Date.now()-t.F;var o=e.B;eu(i=eO(),new eD(i,n)),tF(e)}else tX(e);else if(3==(o=t.s)||0==o&&0<t.X||!(1==i&&(r=t,!(e6(e.h)>=e.h.j-!!e.s)&&(e.s?(e.i=r.D.concat(e.i),!0):1!=e.G&&2!=e.G&&!(e.B>=(e.Va?0:e.Wa))&&(e.s=eN(v(e.Ga,e,r),t1(e,e.B)),e.B++,!0)))||2==i&&tY(e)))switch(n&&0<n.length&&((t=e.h).i=t.i.concat(n)),o){case 1:t2(e,5);break;case 4:t2(e,10);break;case 3:t2(e,6);break;default:t2(e,2)}}}function t1(e,t){let r=e.Ta+Math.floor(Math.random()*e.cb);return e.isActive()||(r*=2),r*t}function t2(e,t){if(e.j.info("Error code "+t),2==t){var r=v(e.fb,e),n=e.Xa;let t=!n;n=new te(n||"//www.google.com/images/cleardot.gif"),g.location&&"http"==g.location.protocol||tr(n,"https"),ta(n),t?function(e,t){let r=new eK;if(g.Image){let n=new Image;n.onload=A(tv,r,"TestLoadImage: loaded",!0,t,n),n.onerror=A(tv,r,"TestLoadImage: error",!1,t,n),n.onabort=A(tv,r,"TestLoadImage: abort",!1,t,n),n.ontimeout=A(tv,r,"TestLoadImage: timeout",!1,t,n),g.setTimeout(function(){n.ontimeout&&n.ontimeout()},1e4),n.src=e}else t(!1)}(n.toString(),r):function(e,t){let r=new eK,n=new AbortController,i=setTimeout(()=>{n.abort(),tv(r,"TestPingServer: timeout",!1,t)},1e4);fetch(e,{signal:n.signal}).then(e=>{clearTimeout(i),e.ok?tv(r,"TestPingServer: ok",!0,t):tv(r,"TestPingServer: server error",!1,t)}).catch(()=>{clearTimeout(i),tv(r,"TestPingServer: error",!1,t)})}(n.toString(),r)}else ex(2);e.G=0,e.l&&e.l.sa(t),t6(e),t$(e)}function t6(e){if(e.G=0,e.ka=[],e.l){let t=e4(e.h);(0!=t.length||0!=e.i.length)&&(I(e.ka,t),I(e.ka,e.i),e.h.i.length=0,_(e.i),e.i.length=0),e.l.ra()}}function t5(e,t,r){var n=r instanceof te?tt(r):new te(r);if(""!=n.g)t&&(n.g=t+"."+n.g),tn(n,n.s);else{var i=g.location;n=i.protocol,t=t?t+"."+i.hostname:i.hostname,i=+i.port;var o=new te(null);n&&tr(o,n),t&&(o.g=t),i&&tn(o,i),r&&(o.l=r),n=o}return r=e.D,t=e.ya,r&&t&&to(n,r,t),to(n,"VER",e.la),tG(e,n),n}function t8(e,t,r){if(t&&!e.J)throw Error("Can't create secondary domain capable XhrIo object.");return(t=new tR(e.Ca&&!e.pa?new tS({eb:r}):e.pa)).Ha(e.J),t}function t3(){}function t4(){}function t9(e,t){el.call(this),this.g=new tj(t),this.l=e,this.h=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.g.o=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.va&&(e?e["X-WebChannel-Client-Profile"]=t.va:e={"X-WebChannel-Client-Profile":t.va}),this.g.S=e,(e=t&&t.Sb)&&!T(e)&&(this.g.m=e),this.v=t&&t.supportsCrossDomainXhr||!1,this.u=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!T(t)&&(this.g.D=t,null!==(e=this.h)&&t in e&&t in(e=this.h)&&delete e[t]),this.j=new rt(this)}function t7(e){eI.call(this),e.__headers__&&(this.headers=e.__headers__,this.statusCode=e.__status__,delete e.__headers__,delete e.__status__);var t=e.__sm__;if(t){e:{for(let r in t){e=r;break e}e=void 0}(this.i=e)&&(e=this.i,t=null!==t&&e in t?t[e]:void 0),this.data=t}else this.data=e}function re(){eC.call(this),this.status=1}function rt(e){this.g=e}(r=tR.prototype).Ha=function(e){this.J=e},r.ea=function(e,r,n,i){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+e);r=r?r.toUpperCase():"GET",this.D=e,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():t.g(),this.v=this.o?eA(this.o):eA(t),this.g.onreadystatechange=v(this.Ea,this);try{this.B=!0,this.g.open(r,String(e),!0),this.B=!1}catch(e){tx(this,e);return}if(e=n||"",n=new Map(this.headers),i)if(Object.getPrototypeOf(i)===Object.prototype)for(var o in i)n.set(o,i[o]);else if("function"==typeof i.keys&&"function"==typeof i.get)for(let e of i.keys())n.set(e,i.get(e));else throw Error("Unknown input type for opt_headers: "+String(i));for(let[t,a]of(i=Array.from(n.keys()).find(e=>"content-type"==e.toLowerCase()),o=g.FormData&&e instanceof g.FormData,!(0<=Array.prototype.indexOf.call(tP,r,void 0))||i||o||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),n))this.g.setRequestHeader(t,a);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{tU(this),this.u=!0,this.g.send(e),this.u=!1}catch(e){tx(this,e)}},r.abort=function(e){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=e||7,eu(this,"complete"),eu(this,"abort"),tK(this))},r.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),tK(this,!0)),tR.aa.N.call(this)},r.Ea=function(){this.s||(this.B||this.u||this.j?tN(this):this.bb())},r.bb=function(){tN(this)},r.isActive=function(){return!!this.g},r.Z=function(){try{return 2<tB(this)?this.g.status:-1}catch(e){return -1}},r.oa=function(){try{return this.g?this.g.responseText:""}catch(e){return""}},r.Oa=function(e){if(this.g){var t=this.g.responseText;return e&&0==t.indexOf(e)&&(t=t.substring(e.length)),eb(t)}},r.Ba=function(){return this.m},r.Ka=function(){return"string"==typeof this.l?this.l:String(this.l)},(r=tj.prototype).la=8,r.G=1,r.connect=function(e,t,r,n){ex(0),this.W=e,this.H=t||{},r&&void 0!==n&&(this.H.OSID=r,this.H.OAID=n),this.F=this.X,this.I=t5(this,null,this.W),tF(this)},r.Ga=function(e){if(this.s)if(this.s=null,1==this.G){if(!e){this.U=Math.floor(1e5*Math.random()),e=this.U++;let i=new ej(this,this.j,e),o=this.o;if(this.S&&(o?D(o=P(o),this.S):o=this.S),null!==this.m||this.O||(i.H=o,o=null),this.P)e:{for(var t=0,r=0;r<this.i.length;r++){t:{var n=this.i[r];if("__data__"in n.map&&"string"==typeof(n=n.map.__data__)){n=n.length;break t}n=void 0}if(void 0===n)break;if(4096<(t+=n)){t=r;break e}if(4096===t||r===this.i.length-1){t=r+1;break e}}t=1e3}else t=1e3;t=tz(this,i,t),to(r=tt(this.I),"RID",e),to(r,"CVER",22),this.D&&to(r,"X-HTTP-Session-Id",this.D),tG(this,r),o&&(this.O?t="headers="+encodeURIComponent(String(tk(o)))+"&"+t:this.m&&tO(r,this.m,o)),e8(this.h,i),this.Ua&&to(r,"TYPE","init"),this.P?(to(r,"$req",t),to(r,"SID","null"),i.T=!0,eF(i,r,null)):eF(i,r,t),this.G=2}}else 3==this.G&&(e?tV(this,e):0==this.i.length||e2(this.h)||tV(this))},r.Fa=function(){if(this.u=null,tZ(this),this.ba&&!(this.M||null==this.g||0>=this.R)){var e=2*this.R;this.j.info("BP detection timer enabled: "+e),this.A=eN(v(this.ab,this),e)}},r.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,ex(10),tJ(this),tZ(this))},r.Za=function(){null!=this.C&&(this.C=null,tJ(this),tY(this),ex(19))},r.fb=function(e){e?(this.j.info("Successfully pinged google.com"),ex(2)):(this.j.info("Failed to ping google.com"),ex(1))},r.isActive=function(){return!!this.l&&this.l.isActive(this)},(r=t3.prototype).ua=function(){},r.ta=function(){},r.sa=function(){},r.ra=function(){},r.isActive=function(){return!0},r.Na=function(){},t4.prototype.g=function(e,t){return new t9(e,t)},S(t9,el),t9.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},t9.prototype.close=function(){tL(this.g)},t9.prototype.o=function(e){var t=this.g;if("string"==typeof e){var r={};r.__data__=e,e=r}else this.u&&((r={}).__data__=em(e),e=r);t.i.push(new e0(t.Ya++,e)),3==t.G&&tF(t)},t9.prototype.N=function(){this.g.l=null,delete this.j,tL(this.g),delete this.g,t9.aa.N.call(this)},S(t7,eI),S(re,eC),S(rt,t3),rt.prototype.ua=function(){eu(this.g,"a")},rt.prototype.ta=function(e){eu(this.g,new t7(e))},rt.prototype.sa=function(e){eu(this.g,new re)},rt.prototype.ra=function(){eu(this.g,"b")},t4.prototype.createWebChannel=t4.prototype.g,t9.prototype.send=t9.prototype.o,t9.prototype.open=t9.prototype.m,t9.prototype.close=t9.prototype.close,l=f.createWebChannelTransport=function(){return new t4},h=f.getStatEventTarget=function(){return eO()},c=f.Event=eT,s=f.Stat={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},eB.NO_ERROR=0,eB.TIMEOUT=8,eB.HTTP_ERROR=6,a=f.ErrorCode=eB,eM.COMPLETE="complete",o=f.EventType=eM,eS.EventType=e_,e_.OPEN="a",e_.CLOSE="b",e_.ERROR="c",e_.MESSAGE="d",el.prototype.listen=el.prototype.K,i=f.WebChannel=eS,f.FetchXmlHttpFactory=tS,tR.prototype.listenOnce=tR.prototype.L,tR.prototype.getLastError=tR.prototype.Ka,tR.prototype.getLastErrorCode=tR.prototype.Ba,tR.prototype.getStatus=tR.prototype.Z,tR.prototype.getResponseJson=tR.prototype.Oa,tR.prototype.getResponseText=tR.prototype.oa,tR.prototype.send=tR.prototype.ea,tR.prototype.setWithCredentials=tR.prototype.Ha,n=f.XhrIo=tR}).apply(void 0!==u?u:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},38420:(e,t,r)=>{"use strict";r.d(t,{nC:()=>n.J,Dt:()=>n.Z,HF:()=>n.Y,LD:()=>n._,sB:()=>n.a9,R4:()=>n.a7,eJ:()=>n.ab,xI:()=>n.p,Q4:()=>n.k,x8:()=>n.e,dC:()=>n.h,Bm:()=>n.f,zT:()=>n.j,gA:()=>n.ah,J1:()=>n.a6,p:()=>n.a5,x9:()=>n.ac,df:()=>n.d,$2:()=>n.g});var n=r(14835);r(50707),r(37458),r(87566),r(62467)},43027:(e,t)=>{"use strict";t.byteLength=function(e){var t=c(e),r=t[0],n=t[1];return(r+n)*3/4-n},t.toByteArray=function(e){var t,r,o=c(e),a=o[0],s=o[1],h=new i((a+s)*3/4-s),l=0,u=s>0?a-4:a;for(r=0;r<u;r+=4)t=n[e.charCodeAt(r)]<<18|n[e.charCodeAt(r+1)]<<12|n[e.charCodeAt(r+2)]<<6|n[e.charCodeAt(r+3)],h[l++]=t>>16&255,h[l++]=t>>8&255,h[l++]=255&t;return 2===s&&(t=n[e.charCodeAt(r)]<<2|n[e.charCodeAt(r+1)]>>4,h[l++]=255&t),1===s&&(t=n[e.charCodeAt(r)]<<10|n[e.charCodeAt(r+1)]<<4|n[e.charCodeAt(r+2)]>>2,h[l++]=t>>8&255,h[l++]=255&t),h},t.fromByteArray=function(e){for(var t,n=e.length,i=n%3,o=[],a=0,s=n-i;a<s;a+=16383)o.push(function(e,t,n){for(var i,o=[],a=t;a<n;a+=3)i=(e[a]<<16&0xff0000)+(e[a+1]<<8&65280)+(255&e[a+2]),o.push(r[i>>18&63]+r[i>>12&63]+r[i>>6&63]+r[63&i]);return o.join("")}(e,a,a+16383>s?s:a+16383));return 1===i?o.push(r[(t=e[n-1])>>2]+r[t<<4&63]+"=="):2===i&&o.push(r[(t=(e[n-2]<<8)+e[n-1])>>10]+r[t>>4&63]+r[t<<2&63]+"="),o.join("")};for(var r=[],n=[],i="undefined"!=typeof Uint8Array?Uint8Array:Array,o="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",a=0,s=o.length;a<s;++a)r[a]=o[a],n[o.charCodeAt(a)]=a;function c(e){var t=e.length;if(t%4>0)throw Error("Invalid string. Length must be a multiple of 4");var r=e.indexOf("=");-1===r&&(r=t);var n=r===t?0:4-r%4;return[r,n]}n[45]=62,n[95]=63},50707:(e,t,r)=>{"use strict";let n,i;r.d(t,{g:()=>s.g,MF:()=>N,j6:()=>H,xZ:()=>P,om:()=>R,Sx:()=>U,Wp:()=>K,KO:()=>B});var o=r(62467),a=r(87566),s=r(37458);let c=new WeakMap,h=new WeakMap,l=new WeakMap,u=new WeakMap,f=new WeakMap,d={get(e,t,r){if(e instanceof IDBTransaction){if("done"===t)return h.get(e);if("objectStoreNames"===t)return e.objectStoreNames||l.get(e);if("store"===t)return r.objectStoreNames[1]?void 0:r.objectStore(r.objectStoreNames[0])}return p(e[t])},set:(e,t,r)=>(e[t]=r,!0),has:(e,t)=>e instanceof IDBTransaction&&("done"===t||"store"===t)||t in e};function p(e){if(e instanceof IDBRequest){let t=new Promise((t,r)=>{let n=()=>{e.removeEventListener("success",i),e.removeEventListener("error",o)},i=()=>{t(p(e.result)),n()},o=()=>{r(e.error),n()};e.addEventListener("success",i),e.addEventListener("error",o)});return t.then(t=>{t instanceof IDBCursor&&c.set(t,e)}).catch(()=>{}),f.set(t,e),t}if(u.has(e))return u.get(e);let t=function(e){if("function"==typeof e)return e!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(i||(i=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(e)?function(...t){return e.apply(y(this),t),p(c.get(this))}:function(...t){return p(e.apply(y(this),t))}:function(t,...r){let n=e.call(y(this),t,...r);return l.set(n,t.sort?t.sort():[t]),p(n)};return e instanceof IDBTransaction&&function(e){if(h.has(e))return;let t=new Promise((t,r)=>{let n=()=>{e.removeEventListener("complete",i),e.removeEventListener("error",o),e.removeEventListener("abort",o)},i=()=>{t(),n()},o=()=>{r(e.error||new DOMException("AbortError","AbortError")),n()};e.addEventListener("complete",i),e.addEventListener("error",o),e.addEventListener("abort",o)});h.set(e,t)}(e),(n||(n=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])).some(t=>e instanceof t)?new Proxy(e,d):e}(e);return t!==e&&(u.set(e,t),f.set(t,e)),t}let y=e=>f.get(e),g=["get","getKey","getAll","getAllKeys","count"],w=["put","add","delete","clear"],m=new Map;function b(e,t){if(!(e instanceof IDBDatabase&&!(t in e)&&"string"==typeof t))return;if(m.get(t))return m.get(t);let r=t.replace(/FromIndex$/,""),n=t!==r,i=w.includes(r);if(!(r in(n?IDBIndex:IDBObjectStore).prototype)||!(i||g.includes(r)))return;let o=async function(e,...t){let o=this.transaction(e,i?"readwrite":"readonly"),a=o.store;return n&&(a=a.index(t.shift())),(await Promise.all([a[r](...t),i&&o.done]))[0]};return m.set(t,o),o}d=(e=>({...e,get:(t,r,n)=>b(t,r)||e.get(t,r,n),has:(t,r)=>!!b(t,r)||e.has(t,r)}))(d);class E{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(e=>{if(!function(e){let t=e.getComponent();return(null==t?void 0:t.type)==="VERSION"}(e))return null;{let t=e.getImmediate();return`${t.library}/${t.version}`}}).filter(e=>e).join(" ")}}let v="@firebase/app",A="0.13.2",S=new a.Vy("@firebase/app"),_="[DEFAULT]",I={[v]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/data-connect":"fire-data-connect","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","@firebase/ai":"fire-vertex","fire-js":"fire-js",firebase:"fire-js-all"},C=new Map,T=new Map,k=new Map;function O(e,t){try{e.container.addComponent(t)}catch(r){S.debug(`Component ${t.name} failed to register with FirebaseApp ${e.name}`,r)}}function R(e){let t=e.name;if(k.has(t))return S.debug(`There were multiple attempts to register component ${t}.`),!1;for(let r of(k.set(t,e),C.values()))O(r,e);for(let t of T.values())O(t,e);return!0}function H(e,t){let r=e.container.getProvider("heartbeat").getImmediate({optional:!0});return r&&r.triggerHeartbeat(),e.container.getProvider(t)}function P(e){return null!=e&&void 0!==e.settings}let x=new s.FA("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."});class D{constructor(e,t,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new o.uA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw x.create("app-deleted",{appName:this._name})}}let N="11.10.0";function K(e,t={}){let r=e;"object"!=typeof t&&(t={name:t});let n=Object.assign({name:_,automaticDataCollectionEnabled:!0},t),i=n.name;if("string"!=typeof i||!i)throw x.create("bad-app-name",{appName:String(i)});if(r||(r=(0,s.T9)()),!r)throw x.create("no-options");let a=C.get(i);if(a)if((0,s.bD)(r,a.options)&&(0,s.bD)(n,a.config))return a;else throw x.create("duplicate-app",{appName:i});let c=new o.h1(i);for(let e of k.values())c.addComponent(e);let h=new D(r,n,c);return C.set(i,h),h}function U(e=_){let t=C.get(e);if(!t&&e===_&&(0,s.T9)())return K();if(!t)throw x.create("no-app",{appName:e});return t}function B(e,t,r){var n;let i=null!=(n=I[e])?n:e;r&&(i+=`-${r}`);let a=i.match(/\s|\//),s=t.match(/\s|\//);if(a||s){let e=[`Unable to register library "${i}" with version "${t}":`];a&&e.push(`library name "${i}" contains illegal characters (whitespace or "/")`),a&&s&&e.push("and"),s&&e.push(`version name "${t}" contains illegal characters (whitespace or "/")`),S.warn(e.join(" "));return}R(new o.uA(`${i}-version`,()=>({library:i,version:t}),"VERSION"))}let M="firebase-heartbeat-store",W=null;function j(){return W||(W=(function(e,t,{blocked:r,upgrade:n,blocking:i,terminated:o}={}){let a=indexedDB.open(e,1),s=p(a);return n&&a.addEventListener("upgradeneeded",e=>{n(p(a.result),e.oldVersion,e.newVersion,p(a.transaction),e)}),r&&a.addEventListener("blocked",e=>r(e.oldVersion,e.newVersion,e)),s.then(e=>{o&&e.addEventListener("close",()=>o()),i&&e.addEventListener("versionchange",e=>i(e.oldVersion,e.newVersion,e))}).catch(()=>{}),s})("firebase-heartbeat-database",0,{upgrade:(e,t)=>{if(0===t)try{e.createObjectStore(M)}catch(e){console.warn(e)}}}).catch(e=>{throw x.create("idb-open",{originalErrorMessage:e.message})})),W}async function L(e){try{let t=(await j()).transaction(M),r=await t.objectStore(M).get($(e));return await t.done,r}catch(e){if(e instanceof s.g)S.warn(e.message);else{let t=x.create("idb-get",{originalErrorMessage:null==e?void 0:e.message});S.warn(t.message)}}}async function J(e,t){try{let r=(await j()).transaction(M,"readwrite"),n=r.objectStore(M);await n.put(t,$(e)),await r.done}catch(e){if(e instanceof s.g)S.warn(e.message);else{let t=x.create("idb-set",{originalErrorMessage:null==e?void 0:e.message});S.warn(t.message)}}}function $(e){return`${e.name}!${e.options.appId}`}class F{constructor(e){this.container=e,this._heartbeatsCache=null;let t=this.container.getProvider("app").getImmediate();this._storage=new G(t),this._heartbeatsCachePromise=this._storage.read().then(e=>(this._heartbeatsCache=e,e))}async triggerHeartbeat(){var e,t;try{let r=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),n=V();if((null==(e=this._heartbeatsCache)?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,(null==(t=this._heartbeatsCache)?void 0:t.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===n||this._heartbeatsCache.heartbeats.some(e=>e.date===n))return;if(this._heartbeatsCache.heartbeats.push({date:n,agent:r}),this._heartbeatsCache.heartbeats.length>30){let e=function(e){if(0===e.length)return -1;let t=0,r=e[0].date;for(let n=1;n<e.length;n++)e[n].date<r&&(r=e[n].date,t=n);return t}(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(e,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){S.warn(e)}}async getHeartbeatsHeader(){var e;try{if(null===this._heartbeatsCache&&await this._heartbeatsCachePromise,(null==(e=this._heartbeatsCache)?void 0:e.heartbeats)==null||0===this._heartbeatsCache.heartbeats.length)return"";let t=V(),{heartbeatsToSend:r,unsentEntries:n}=function(e,t=1024){let r=[],n=e.slice();for(let i of e){let e=r.find(e=>e.agent===i.agent);if(e){if(e.dates.push(i.date),z(r)>t){e.dates.pop();break}}else if(r.push({agent:i.agent,dates:[i.date]}),z(r)>t){r.pop();break}n=n.slice(1)}return{heartbeatsToSend:r,unsentEntries:n}}(this._heartbeatsCache.heartbeats),i=(0,s.Uj)(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=t,n.length>0?(this._heartbeatsCache.heartbeats=n,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}catch(e){return S.warn(e),""}}}function V(){return new Date().toISOString().substring(0,10)}class G{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return!!(0,s.zW)()&&(0,s.eX)().then(()=>!0).catch(()=>!1)}async read(){if(!await this._canUseIndexedDBPromise)return{heartbeats:[]};{let e=await L(this.app);return(null==e?void 0:e.heartbeats)?e:{heartbeats:[]}}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){let r=await this.read();return J(this.app,{lastSentHeartbeatDate:null!=(t=e.lastSentHeartbeatDate)?t:r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}}async add(e){var t;if(await this._canUseIndexedDBPromise){let r=await this.read();return J(this.app,{lastSentHeartbeatDate:null!=(t=e.lastSentHeartbeatDate)?t:r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}}}function z(e){return(0,s.Uj)(JSON.stringify({version:2,heartbeats:e})).length}R(new o.uA("platform-logger",e=>new E(e),"PRIVATE")),R(new o.uA("heartbeat",e=>new F(e),"PRIVATE")),B(v,A,""),B(v,A,"esm2017"),B("fire-js","")},54158:(e,t,r)=>{"use strict";var n=r(11405),i=r(61950),o="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t},a=i.useSyncExternalStore,s=n.useRef,c=n.useEffect,h=n.useMemo,l=n.useDebugValue;t.useSyncExternalStoreWithSelector=function(e,t,r,n,i){var u=s(null);if(null===u.current){var f={hasValue:!1,value:null};u.current=f}else f=u.current;var d=a(e,(u=h(function(){function e(e){if(!c){if(c=!0,a=e,e=n(e),void 0!==i&&f.hasValue){var t=f.value;if(i(t,e))return s=t}return s=e}if(t=s,o(a,e))return t;var r=n(e);return void 0!==i&&i(t,r)?(a=e,t):(a=e,s=r)}var a,s,c=!1,h=void 0===r?null:r;return[function(){return e(t())},null===h?void 0:function(){return e(h())}]},[t,r,n,i]))[0],u[1]);return c(function(){f.hasValue=!0,f.value=d},[d]),l(d),d}},61950:(e,t,r)=>{"use strict";e.exports=r(99221)},62276:(e,t,r)=>{"use strict";let n;r.d(t,{A:()=>s});let i={randomUUID:"undefined"!=typeof crypto&&crypto.randomUUID&&crypto.randomUUID.bind(crypto)},o=new Uint8Array(16),a=[];for(let e=0;e<256;++e)a.push((e+256).toString(16).slice(1));let s=function(e,t,r){if(i.randomUUID&&!t&&!e)return i.randomUUID();let s=(e=e||{}).random||(e.rng||function(){if(!n&&!(n="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)))throw Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return n(o)})();if(s[6]=15&s[6]|64,s[8]=63&s[8]|128,t){r=r||0;for(let e=0;e<16;++e)t[r+e]=s[e];return t}return function(e,t=0){return a[e[t+0]]+a[e[t+1]]+a[e[t+2]]+a[e[t+3]]+"-"+a[e[t+4]]+a[e[t+5]]+"-"+a[e[t+6]]+a[e[t+7]]+"-"+a[e[t+8]]+a[e[t+9]]+"-"+a[e[t+10]]+a[e[t+11]]+a[e[t+12]]+a[e[t+13]]+a[e[t+14]]+a[e[t+15]]}(s)}},62467:(e,t,r)=>{"use strict";r.d(t,{h1:()=>s,uA:()=>i});var n=r(37458);class i{constructor(e,t,r){this.name=e,this.instanceFactory=t,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}let o="[DEFAULT]";class a{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){let t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){let e=new n.cY;if(this.instancesDeferred.set(t,e),this.isInitialized(t)||this.shouldAutoInitialize())try{let r=this.getOrInitializeService({instanceIdentifier:t});r&&e.resolve(r)}catch(e){}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;let r=this.normalizeInstanceIdentifier(null==e?void 0:e.identifier),n=null!=(t=null==e?void 0:e.optional)&&t;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(e){if(n)return null;throw e}if(n)return null;throw Error(`Service ${this.name} is not available`)}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,this.shouldAutoInitialize()){if("EAGER"===e.instantiationMode)try{this.getOrInitializeService({instanceIdentifier:o})}catch(e){}for(let[e,t]of this.instancesDeferred.entries()){let r=this.normalizeInstanceIdentifier(e);try{let e=this.getOrInitializeService({instanceIdentifier:r});t.resolve(e)}catch(e){}}}}clearInstance(e=o){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){let e=Array.from(this.instances.values());await Promise.all([...e.filter(e=>"INTERNAL"in e).map(e=>e.INTERNAL.delete()),...e.filter(e=>"_delete"in e).map(e=>e._delete())])}isComponentSet(){return null!=this.component}isInitialized(e=o){return this.instances.has(e)}getOptions(e=o){return this.instancesOptions.get(e)||{}}initialize(e={}){let{options:t={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);let n=this.getOrInitializeService({instanceIdentifier:r,options:t});for(let[e,t]of this.instancesDeferred.entries())r===this.normalizeInstanceIdentifier(e)&&t.resolve(n);return n}onInit(e,t){var r;let n=this.normalizeInstanceIdentifier(t),i=null!=(r=this.onInitCallbacks.get(n))?r:new Set;i.add(e),this.onInitCallbacks.set(n,i);let o=this.instances.get(n);return o&&e(o,n),()=>{i.delete(e)}}invokeOnInitCallbacks(e,t){let r=this.onInitCallbacks.get(t);if(r)for(let n of r)try{n(e,t)}catch(e){}}getOrInitializeService({instanceIdentifier:e,options:t={}}){var r;let n=this.instances.get(e);if(!n&&this.component&&(n=this.component.instanceFactory(this.container,{instanceIdentifier:(r=e)===o?void 0:r,options:t}),this.instances.set(e,n),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(n,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,n)}catch(e){}return n||null}normalizeInstanceIdentifier(e=o){return this.component?this.component.multipleInstances?e:o:e}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class s{constructor(e){this.name=e,this.providers=new Map}addComponent(e){let t=this.getProvider(e.name);if(t.isComponentSet())throw Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);let t=new a(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}},64200:(e,t,r)=>{"use strict";r.d(t,{VV:()=>i,jz:()=>n});var n,i,o="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},a={};(function(){function e(){this.blockSize=-1,this.blockSize=64,this.g=[,,,,],this.B=Array(this.blockSize),this.o=this.h=0,this.s()}var t=function(){this.blockSize=-1};function r(){}function o(e,t,r){r||(r=0);var n=Array(16);if("string"==typeof t)for(var i=0;16>i;++i)n[i]=t.charCodeAt(r++)|t.charCodeAt(r++)<<8|t.charCodeAt(r++)<<16|t.charCodeAt(r++)<<24;else for(i=0;16>i;++i)n[i]=t[r++]|t[r++]<<8|t[r++]<<16|t[r++]<<24;t=e.g[0],r=e.g[1],i=e.g[2];var o=e.g[3],a=t+(o^r&(i^o))+n[0]+0xd76aa478|0;a=o+(i^(t=r+(a<<7|a>>>25))&(r^i))+n[1]+0xe8c7b756|0,a=i+(r^(o=t+(a<<12|a>>>20))&(t^r))+n[2]+0x242070db|0,a=r+(t^(i=o+(a<<17|a>>>15))&(o^t))+n[3]+0xc1bdceee|0,a=t+(o^(r=i+(a<<22|a>>>10))&(i^o))+n[4]+0xf57c0faf|0,a=o+(i^(t=r+(a<<7|a>>>25))&(r^i))+n[5]+0x4787c62a|0,a=i+(r^(o=t+(a<<12|a>>>20))&(t^r))+n[6]+0xa8304613|0,a=r+(t^(i=o+(a<<17|a>>>15))&(o^t))+n[7]+0xfd469501|0,a=t+(o^(r=i+(a<<22|a>>>10))&(i^o))+n[8]+0x698098d8|0,a=o+(i^(t=r+(a<<7|a>>>25))&(r^i))+n[9]+0x8b44f7af|0,a=i+(r^(o=t+(a<<12|a>>>20))&(t^r))+n[10]+0xffff5bb1|0,a=r+(t^(i=o+(a<<17|a>>>15))&(o^t))+n[11]+0x895cd7be|0,a=t+(o^(r=i+(a<<22|a>>>10))&(i^o))+n[12]+0x6b901122|0,a=o+(i^(t=r+(a<<7|a>>>25))&(r^i))+n[13]+0xfd987193|0,a=i+(r^(o=t+(a<<12|a>>>20))&(t^r))+n[14]+0xa679438e|0,a=r+(t^(i=o+(a<<17|a>>>15))&(o^t))+n[15]+0x49b40821|0,r=i+(a<<22|a>>>10),a=t+(i^o&(r^i))+n[1]+0xf61e2562|0,t=r+(a<<5|a>>>27),a=o+(r^i&(t^r))+n[6]+0xc040b340|0,o=t+(a<<9|a>>>23),a=i+(t^r&(o^t))+n[11]+0x265e5a51|0,i=o+(a<<14|a>>>18),a=r+(o^t&(i^o))+n[0]+0xe9b6c7aa|0,r=i+(a<<20|a>>>12),a=t+(i^o&(r^i))+n[5]+0xd62f105d|0,t=r+(a<<5|a>>>27),a=o+(r^i&(t^r))+n[10]+0x2441453|0,o=t+(a<<9|a>>>23),a=i+(t^r&(o^t))+n[15]+0xd8a1e681|0,i=o+(a<<14|a>>>18),a=r+(o^t&(i^o))+n[4]+0xe7d3fbc8|0,r=i+(a<<20|a>>>12),a=t+(i^o&(r^i))+n[9]+0x21e1cde6|0,t=r+(a<<5|a>>>27),a=o+(r^i&(t^r))+n[14]+0xc33707d6|0,o=t+(a<<9|a>>>23),a=i+(t^r&(o^t))+n[3]+0xf4d50d87|0,i=o+(a<<14|a>>>18),a=r+(o^t&(i^o))+n[8]+0x455a14ed|0,r=i+(a<<20|a>>>12),a=t+(i^o&(r^i))+n[13]+0xa9e3e905|0,t=r+(a<<5|a>>>27),a=o+(r^i&(t^r))+n[2]+0xfcefa3f8|0,o=t+(a<<9|a>>>23),a=i+(t^r&(o^t))+n[7]+0x676f02d9|0,i=o+(a<<14|a>>>18),a=r+(o^t&(i^o))+n[12]+0x8d2a4c8a|0,a=t+((r=i+(a<<20|a>>>12))^i^o)+n[5]+0xfffa3942|0,a=o+((t=r+(a<<4|a>>>28))^r^i)+n[8]+0x8771f681|0,a=i+((o=t+(a<<11|a>>>21))^t^r)+n[11]+0x6d9d6122|0,a=r+((i=o+(a<<16|a>>>16))^o^t)+n[14]+0xfde5380c|0,a=t+((r=i+(a<<23|a>>>9))^i^o)+n[1]+0xa4beea44|0,a=o+((t=r+(a<<4|a>>>28))^r^i)+n[4]+0x4bdecfa9|0,a=i+((o=t+(a<<11|a>>>21))^t^r)+n[7]+0xf6bb4b60|0,a=r+((i=o+(a<<16|a>>>16))^o^t)+n[10]+0xbebfbc70|0,a=t+((r=i+(a<<23|a>>>9))^i^o)+n[13]+0x289b7ec6|0,a=o+((t=r+(a<<4|a>>>28))^r^i)+n[0]+0xeaa127fa|0,a=i+((o=t+(a<<11|a>>>21))^t^r)+n[3]+0xd4ef3085|0,a=r+((i=o+(a<<16|a>>>16))^o^t)+n[6]+0x4881d05|0,a=t+((r=i+(a<<23|a>>>9))^i^o)+n[9]+0xd9d4d039|0,a=o+((t=r+(a<<4|a>>>28))^r^i)+n[12]+0xe6db99e5|0,a=i+((o=t+(a<<11|a>>>21))^t^r)+n[15]+0x1fa27cf8|0,a=r+((i=o+(a<<16|a>>>16))^o^t)+n[2]+0xc4ac5665|0,r=i+(a<<23|a>>>9),a=t+(i^(r|~o))+n[0]+0xf4292244|0,t=r+(a<<6|a>>>26),a=o+(r^(t|~i))+n[7]+0x432aff97|0,o=t+(a<<10|a>>>22),a=i+(t^(o|~r))+n[14]+0xab9423a7|0,i=o+(a<<15|a>>>17),a=r+(o^(i|~t))+n[5]+0xfc93a039|0,r=i+(a<<21|a>>>11),a=t+(i^(r|~o))+n[12]+0x655b59c3|0,t=r+(a<<6|a>>>26),a=o+(r^(t|~i))+n[3]+0x8f0ccc92|0,o=t+(a<<10|a>>>22),a=i+(t^(o|~r))+n[10]+0xffeff47d|0,i=o+(a<<15|a>>>17),a=r+(o^(i|~t))+n[1]+0x85845dd1|0,r=i+(a<<21|a>>>11),a=t+(i^(r|~o))+n[8]+0x6fa87e4f|0,t=r+(a<<6|a>>>26),a=o+(r^(t|~i))+n[15]+0xfe2ce6e0|0,o=t+(a<<10|a>>>22),a=i+(t^(o|~r))+n[6]+0xa3014314|0,i=o+(a<<15|a>>>17),a=r+(o^(i|~t))+n[13]+0x4e0811a1|0,r=i+(a<<21|a>>>11),a=t+(i^(r|~o))+n[4]+0xf7537e82|0,t=r+(a<<6|a>>>26),a=o+(r^(t|~i))+n[11]+0xbd3af235|0,o=t+(a<<10|a>>>22),a=i+(t^(o|~r))+n[2]+0x2ad7d2bb|0,i=o+(a<<15|a>>>17),a=r+(o^(i|~t))+n[9]+0xeb86d391|0,e.g[0]=e.g[0]+t|0,e.g[1]=e.g[1]+(i+(a<<21|a>>>11))|0,e.g[2]=e.g[2]+i|0,e.g[3]=e.g[3]+o|0}function s(e,t){this.h=t;for(var r=[],n=!0,i=e.length-1;0<=i;i--){var o=0|e[i];n&&o==t||(r[i]=o,n=!1)}this.g=r}r.prototype=t.prototype,e.D=t.prototype,e.prototype=new r,e.prototype.constructor=e,e.C=function(e,r,n){for(var i=Array(arguments.length-2),o=2;o<arguments.length;o++)i[o-2]=arguments[o];return t.prototype[r].apply(e,i)},e.prototype.s=function(){this.g[0]=0x67452301,this.g[1]=0xefcdab89,this.g[2]=0x98badcfe,this.g[3]=0x10325476,this.o=this.h=0},e.prototype.u=function(e,t){void 0===t&&(t=e.length);for(var r=t-this.blockSize,n=this.B,i=this.h,a=0;a<t;){if(0==i)for(;a<=r;)o(this,e,a),a+=this.blockSize;if("string"==typeof e){for(;a<t;)if(n[i++]=e.charCodeAt(a++),i==this.blockSize){o(this,n),i=0;break}}else for(;a<t;)if(n[i++]=e[a++],i==this.blockSize){o(this,n),i=0;break}}this.h=i,this.o+=t},e.prototype.v=function(){var e=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);e[0]=128;for(var t=1;t<e.length-8;++t)e[t]=0;var r=8*this.o;for(t=e.length-8;t<e.length;++t)e[t]=255&r,r/=256;for(this.u(e),e=Array(16),t=r=0;4>t;++t)for(var n=0;32>n;n+=8)e[r++]=this.g[t]>>>n&255;return e};var c,h={};function l(e){var t;return -128<=e&&128>e?(t=function(e){return new s([0|e],0>e?-1:0)},Object.prototype.hasOwnProperty.call(h,e)?h[e]:h[e]=t(e)):new s([0|e],0>e?-1:0)}function u(e){if(isNaN(e)||!isFinite(e))return f;if(0>e)return w(u(-e));for(var t=[],r=1,n=0;e>=r;n++)t[n]=e/r|0,r*=0x100000000;return new s(t,0)}var f=l(0),d=l(1),p=l(0x1000000);function y(e){if(0!=e.h)return!1;for(var t=0;t<e.g.length;t++)if(0!=e.g[t])return!1;return!0}function g(e){return -1==e.h}function w(e){for(var t=e.g.length,r=[],n=0;n<t;n++)r[n]=~e.g[n];return new s(r,~e.h).add(d)}function m(e,t){return e.add(w(t))}function b(e,t){for(;(65535&e[t])!=e[t];)e[t+1]+=e[t]>>>16,e[t]&=65535,t++}function E(e,t){this.g=e,this.h=t}function v(e,t){if(y(t))throw Error("division by zero");if(y(e))return new E(f,f);if(g(e))return t=v(w(e),t),new E(w(t.g),w(t.h));if(g(t))return t=v(e,w(t)),new E(w(t.g),t.h);if(30<e.g.length){if(g(e)||g(t))throw Error("slowDivide_ only works with positive integers.");for(var r=d,n=t;0>=n.l(e);)r=A(r),n=A(n);var i=S(r,1),o=S(n,1);for(n=S(n,2),r=S(r,2);!y(n);){var a=o.add(n);0>=a.l(e)&&(i=i.add(r),o=a),n=S(n,1),r=S(r,1)}return t=m(e,i.j(t)),new E(i,t)}for(i=f;0<=e.l(t);){for(n=48>=(n=Math.ceil(Math.log(r=Math.max(1,Math.floor(e.m()/t.m())))/Math.LN2))?1:Math.pow(2,n-48),a=(o=u(r)).j(t);g(a)||0<a.l(e);)r-=n,a=(o=u(r)).j(t);y(o)&&(o=d),i=i.add(o),e=m(e,a)}return new E(i,e)}function A(e){for(var t=e.g.length+1,r=[],n=0;n<t;n++)r[n]=e.i(n)<<1|e.i(n-1)>>>31;return new s(r,e.h)}function S(e,t){var r=t>>5;t%=32;for(var n=e.g.length-r,i=[],o=0;o<n;o++)i[o]=0<t?e.i(o+r)>>>t|e.i(o+r+1)<<32-t:e.i(o+r);return new s(i,e.h)}(c=s.prototype).m=function(){if(g(this))return-w(this).m();for(var e=0,t=1,r=0;r<this.g.length;r++){var n=this.i(r);e+=(0<=n?n:0x100000000+n)*t,t*=0x100000000}return e},c.toString=function(e){if(2>(e=e||10)||36<e)throw Error("radix out of range: "+e);if(y(this))return"0";if(g(this))return"-"+w(this).toString(e);for(var t=u(Math.pow(e,6)),r=this,n="";;){var i=v(r,t).g,o=((0<(r=m(r,i.j(t))).g.length?r.g[0]:r.h)>>>0).toString(e);if(y(r=i))return o+n;for(;6>o.length;)o="0"+o;n=o+n}},c.i=function(e){return 0>e?0:e<this.g.length?this.g[e]:this.h},c.l=function(e){return g(e=m(this,e))?-1:+!y(e)},c.abs=function(){return g(this)?w(this):this},c.add=function(e){for(var t=Math.max(this.g.length,e.g.length),r=[],n=0,i=0;i<=t;i++){var o=n+(65535&this.i(i))+(65535&e.i(i)),a=(o>>>16)+(this.i(i)>>>16)+(e.i(i)>>>16);n=a>>>16,o&=65535,a&=65535,r[i]=a<<16|o}return new s(r,-0x80000000&r[r.length-1]?-1:0)},c.j=function(e){if(y(this)||y(e))return f;if(g(this))return g(e)?w(this).j(w(e)):w(w(this).j(e));if(g(e))return w(this.j(w(e)));if(0>this.l(p)&&0>e.l(p))return u(this.m()*e.m());for(var t=this.g.length+e.g.length,r=[],n=0;n<2*t;n++)r[n]=0;for(n=0;n<this.g.length;n++)for(var i=0;i<e.g.length;i++){var o=this.i(n)>>>16,a=65535&this.i(n),c=e.i(i)>>>16,h=65535&e.i(i);r[2*n+2*i]+=a*h,b(r,2*n+2*i),r[2*n+2*i+1]+=o*h,b(r,2*n+2*i+1),r[2*n+2*i+1]+=a*c,b(r,2*n+2*i+1),r[2*n+2*i+2]+=o*c,b(r,2*n+2*i+2)}for(n=0;n<t;n++)r[n]=r[2*n+1]<<16|r[2*n];for(n=t;n<2*t;n++)r[n]=0;return new s(r,0)},c.A=function(e){return v(this,e).h},c.and=function(e){for(var t=Math.max(this.g.length,e.g.length),r=[],n=0;n<t;n++)r[n]=this.i(n)&e.i(n);return new s(r,this.h&e.h)},c.or=function(e){for(var t=Math.max(this.g.length,e.g.length),r=[],n=0;n<t;n++)r[n]=this.i(n)|e.i(n);return new s(r,this.h|e.h)},c.xor=function(e){for(var t=Math.max(this.g.length,e.g.length),r=[],n=0;n<t;n++)r[n]=this.i(n)^e.i(n);return new s(r,this.h^e.h)},e.prototype.digest=e.prototype.v,e.prototype.reset=e.prototype.s,e.prototype.update=e.prototype.u,i=a.Md5=e,s.prototype.add=s.prototype.add,s.prototype.multiply=s.prototype.j,s.prototype.modulo=s.prototype.A,s.prototype.compare=s.prototype.l,s.prototype.toNumber=s.prototype.m,s.prototype.toString=s.prototype.toString,s.prototype.getBits=s.prototype.i,s.fromNumber=u,s.fromString=function e(t,r){if(0==t.length)throw Error("number format error: empty string");if(2>(r=r||10)||36<r)throw Error("radix out of range: "+r);if("-"==t.charAt(0))return w(e(t.substring(1),r));if(0<=t.indexOf("-"))throw Error('number format error: interior "-" character');for(var n=u(Math.pow(r,8)),i=f,o=0;o<t.length;o+=8){var a=Math.min(8,t.length-o),s=parseInt(t.substring(o,o+a),r);8>a?(a=u(Math.pow(r,a)),i=i.j(a).add(u(s))):i=(i=i.j(n)).add(u(s))}return i},n=a.Integer=s}).apply(void 0!==o?o:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},67857:(e,t)=>{"use strict";var r,n;Object.defineProperty(t,"__esModule",{value:!0}),t.InvalidTokenError=t.InvalidTokenReason=t.AuthError=t.AuthErrorCode=void 0,t.isInvalidTokenError=function(e){return e?.isInvalidTokenError??!1},function(e){e.USER_NOT_FOUND="USER_NOT_FOUND",e.USER_DISABLED="USER_DISABLED",e.INVALID_CREDENTIAL="INVALID_CREDENTIAL",e.TOKEN_EXPIRED="TOKEN_EXPIRED",e.TOKEN_REVOKED="TOKEN_REVOKED",e.INVALID_ARGUMENT="INVALID_ARGUMENT",e.INTERNAL_ERROR="INTERNAL_ERROR",e.NO_KID_IN_HEADER="NO_KID_IN_HEADER",e.INVALID_SIGNATURE="INVALID_SIGNATURE",e.NO_MATCHING_KID="NO_MATCHING_KID",e.MISMATCHING_TENANT_ID="MISMATCHING_TENANT_ID"}(r||(t.AuthErrorCode=r={}));let i={[r.USER_NOT_FOUND]:"User not found",[r.INVALID_CREDENTIAL]:"Invalid credentials",[r.TOKEN_EXPIRED]:"Token expired",[r.USER_DISABLED]:"User disabled",[r.TOKEN_REVOKED]:"Token revoked",[r.INVALID_ARGUMENT]:"Invalid argument",[r.INTERNAL_ERROR]:"Internal error",[r.NO_KID_IN_HEADER]:"No kid in jwt header",[r.INVALID_SIGNATURE]:"Invalid token signature.",[r.NO_MATCHING_KID]:"Kid is not matching any certificate",[r.MISMATCHING_TENANT_ID]:"Provided tenant ID does not match firebase tenant ID from the token"};function o(e,t){let r="string"==typeof t?.stack?t.stack:"",n="string"==typeof t?.cause?t.cause:"";e.stack=(e?.stack??"")+r,e.cause=(e?.cause??"")+n}class a extends Error{code;static fromError(e,t,r){let n=new a(t,r);return o(n,e),n}constructor(e,t){super(function(e,t){return t?`${i[e]}: ${t}`:i[e]}(e,t)),this.code=e,Object.setPrototypeOf(this,a.prototype)}toJSON(){return{code:this.code,message:this.message}}}t.AuthError=a,function(e){e.MISSING_CREDENTIALS="MISSING_CREDENTIALS",e.MISSING_REFRESH_TOKEN="MISSING_REFRESH_TOKEN",e.MALFORMED_CREDENTIALS="MALFORMED_CREDENTIALS",e.INVALID_SIGNATURE="INVALID_SIGNATURE",e.INVALID_CREDENTIALS="INVALID_CREDENTIALS",e.INVALID_KID="INVALID_KID"}(n||(t.InvalidTokenReason=n={}));let s={[n.MISSING_CREDENTIALS]:"Missing credentials",[n.MALFORMED_CREDENTIALS]:"Credentials are incorrectly formatted",[n.INVALID_SIGNATURE]:"Credentials have invalid signature",[n.MISSING_REFRESH_TOKEN]:"Refresh token is missing",[n.INVALID_CREDENTIALS]:"Invalid credentials",[n.INVALID_KID]:"Token has kid claim that cannot be matched with any known Google certificate. This usually indicates that Google certificates have expired and user has to reauthenticate."};class c extends Error{reason;static fromError(e,t){let r=new c(t);return o(r,e),r}isInvalidTokenError=!0;constructor(e){super(`${e}: ${s[e]}`),this.reason=e,Object.setPrototypeOf(this,c.prototype)}}t.InvalidTokenError=c},76918:(e,t,r)=>{"use strict";r.d(t,{vt:()=>f,Pj:()=>l});let n=e=>{let t,r=new Set,n=(e,n)=>{let i="function"==typeof e?e(t):e;if(!Object.is(i,t)){let e=t;t=(null!=n?n:"object"!=typeof i||null===i)?i:Object.assign({},t,i),r.forEach(r=>r(t,e))}},i=()=>t,o={setState:n,getState:i,getInitialState:()=>a,subscribe:e=>(r.add(e),()=>r.delete(e)),destroy:()=>{console.warn("[DEPRECATED] The `destroy` method will be unsupported in a future version. Instead use unsubscribe function returned by subscribe. Everything will be garbage-collected if store is garbage-collected."),r.clear()}},a=t=e(n,i,o);return o};var i=r(11405),o=r(34020);let{useDebugValue:a}=i,{useSyncExternalStoreWithSelector:s}=o,c=!1,h=e=>e;function l(e,t=h,r){r&&!c&&(console.warn("[DEPRECATED] Use `createWithEqualityFn` instead of `create` or use `useStoreWithEqualityFn` instead of `useStore`. They can be imported from 'zustand/traditional'. https://github.com/pmndrs/zustand/discussions/1937"),c=!0);let n=s(e.subscribe,e.getState,e.getServerState||e.getInitialState,t,r);return a(n),n}let u=e=>{"function"!=typeof e&&console.warn("[DEPRECATED] Passing a vanilla store will be unsupported in a future version. Instead use `import { useStore } from 'zustand'`.");let t="function"==typeof e?(e=>e?n(e):n)(e):e,r=(e,r)=>l(t,e,r);return Object.assign(r,t),r},f=e=>e?u(e):u},77555:(e,t,r)=>{"use strict";t.HD=c;let n=r(94943),i=r(67857);class o{cacheMap={};constructor(){}get(e){return this.cacheMap[e]?this.cacheMap[e]:e}set(e,t){this.cacheMap={[e]:t}}}let a=new o,s=new o;async function c({serverCustomToken:e,refreshTokenUrl:t,checkRevoked:r}){if(!e)return null;let o=s.get(e),a=(0,n.decodeJwt)(o),c=a?.exp??0;if(!r&&c>Date.now()/1e3)return o||e;let h=await u(t);if(!h)throw new i.AuthError(i.AuthErrorCode.INTERNAL_ERROR,"Refresh token endpoint returned invalid response. This URL should point to endpoint exposed by the middleware and configured using refreshTokenPath option.");if(!h.customToken)throw new i.AuthError(i.AuthErrorCode.INTERNAL_ERROR,"Refresh token endpoint returned empty custom token. Make sure you have set `enableCustomToken` option to `true` in `authMiddleware`");return s.set(e,h.customToken),h.customToken}async function h(e,t,r){if(401===e.status){let t=await l(e);return new i.AuthError(i.AuthErrorCode.INVALID_CREDENTIAL,t?.message)}let n=await l(e);return new i.AuthError(i.AuthErrorCode.INTERNAL_ERROR,`next-firebase-auth-edge: Internal request to ${r?.method??"GET"} ${t.toString()} has failed: ${n}`)}function l(e){let t=e.headers.get("content-type");return t&&-1!==t.indexOf("application/json")?e.json():e.text()}async function u(e,t){let r=await fetch(e,{...t,headers:{...t?.headers,Accept:"application/json","Content-Type":"application/json"}});if(!r.ok)throw await h(r,e,t);return l(r)}},82977:(e,t,r)=>{"use strict";r.d(t,{C3:()=>n.C3,KR:()=>n.KR,Zy:()=>n.Zy});var n=r(76665)},87566:(e,t,r)=>{"use strict";var n;r.d(t,{$b:()=>n,Vy:()=>h});let i=[];!function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"}(n||(n={}));let o={debug:n.DEBUG,verbose:n.VERBOSE,info:n.INFO,warn:n.WARN,error:n.ERROR,silent:n.SILENT},a=n.INFO,s={[n.DEBUG]:"log",[n.VERBOSE]:"log",[n.INFO]:"info",[n.WARN]:"warn",[n.ERROR]:"error"},c=(e,t,...r)=>{if(t<e.logLevel)return;let n=new Date().toISOString(),i=s[t];if(i)console[i](`[${n}]  ${e.name}:`,...r);else throw Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class h{constructor(e){this.name=e,this._logLevel=a,this._logHandler=c,this._userLogHandler=null,i.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in n))throw TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel="string"==typeof e?o[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if("function"!=typeof e)throw TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,n.DEBUG,...e),this._logHandler(this,n.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,n.VERBOSE,...e),this._logHandler(this,n.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,n.INFO,...e),this._logHandler(this,n.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,n.WARN,...e),this._logHandler(this,n.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,n.ERROR,...e),this._logHandler(this,n.ERROR,...e)}}},91339:(e,t,r)=>{"use strict";let n=r(43027),i=r(342),o="function"==typeof Symbol&&"function"==typeof Symbol.for?Symbol.for("nodejs.util.inspect.custom"):null;function a(e){if(e>0x7fffffff)throw RangeError('The value "'+e+'" is invalid for option "size"');let t=new Uint8Array(e);return Object.setPrototypeOf(t,s.prototype),t}function s(e,t,r){if("number"==typeof e){if("string"==typeof t)throw TypeError('The "string" argument must be of type string. Received type number');return l(e)}return c(e,t,r)}function c(e,t,r){if("string"==typeof e){var n=e,i=t;if(("string"!=typeof i||""===i)&&(i="utf8"),!s.isEncoding(i))throw TypeError("Unknown encoding: "+i);let r=0|p(n,i),o=a(r),c=o.write(n,i);return c!==r&&(o=o.slice(0,c)),o}if(ArrayBuffer.isView(e)){var o=e;if(U(o,Uint8Array)){let e=new Uint8Array(o);return f(e.buffer,e.byteOffset,e.byteLength)}return u(o)}if(null==e)throw TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof e);if(U(e,ArrayBuffer)||e&&U(e.buffer,ArrayBuffer)||"undefined"!=typeof SharedArrayBuffer&&(U(e,SharedArrayBuffer)||e&&U(e.buffer,SharedArrayBuffer)))return f(e,t,r);if("number"==typeof e)throw TypeError('The "value" argument must not be of type number. Received type number');let c=e.valueOf&&e.valueOf();if(null!=c&&c!==e)return s.from(c,t,r);let h=function(e){if(s.isBuffer(e)){let t=0|d(e.length),r=a(t);return 0===r.length||e.copy(r,0,0,t),r}return void 0!==e.length?"number"!=typeof e.length||function(e){return e!=e}(e.length)?a(0):u(e):"Buffer"===e.type&&Array.isArray(e.data)?u(e.data):void 0}(e);if(h)return h;if("undefined"!=typeof Symbol&&null!=Symbol.toPrimitive&&"function"==typeof e[Symbol.toPrimitive])return s.from(e[Symbol.toPrimitive]("string"),t,r);throw TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof e)}function h(e){if("number"!=typeof e)throw TypeError('"size" argument must be of type number');if(e<0)throw RangeError('The value "'+e+'" is invalid for option "size"')}function l(e){return h(e),a(e<0?0:0|d(e))}function u(e){let t=e.length<0?0:0|d(e.length),r=a(t);for(let n=0;n<t;n+=1)r[n]=255&e[n];return r}function f(e,t,r){let n;if(t<0||e.byteLength<t)throw RangeError('"offset" is outside of buffer bounds');if(e.byteLength<t+(r||0))throw RangeError('"length" is outside of buffer bounds');return Object.setPrototypeOf(n=void 0===t&&void 0===r?new Uint8Array(e):void 0===r?new Uint8Array(e,t):new Uint8Array(e,t,r),s.prototype),n}function d(e){if(e>=0x7fffffff)throw RangeError("Attempt to allocate Buffer larger than maximum size: 0x7fffffff bytes");return 0|e}function p(e,t){if(s.isBuffer(e))return e.length;if(ArrayBuffer.isView(e)||U(e,ArrayBuffer))return e.byteLength;if("string"!=typeof e)throw TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof e);let r=e.length,n=arguments.length>2&&!0===arguments[2];if(!n&&0===r)return 0;let i=!1;for(;;)switch(t){case"ascii":case"latin1":case"binary":return r;case"utf8":case"utf-8":return D(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*r;case"hex":return r>>>1;case"base64":return N(e).length;default:if(i)return n?-1:D(e).length;t=(""+t).toLowerCase(),i=!0}}function y(e,t,r){let i=!1;if((void 0===t||t<0)&&(t=0),t>this.length||((void 0===r||r>this.length)&&(r=this.length),r<=0||(r>>>=0)<=(t>>>=0)))return"";for(e||(e="utf8");;)switch(e){case"hex":return function(e,t,r){let n=e.length;(!t||t<0)&&(t=0),(!r||r<0||r>n)&&(r=n);let i="";for(let n=t;n<r;++n)i+=B[e[n]];return i}(this,t,r);case"utf8":case"utf-8":return b(this,t,r);case"ascii":return function(e,t,r){let n="";r=Math.min(e.length,r);for(let i=t;i<r;++i)n+=String.fromCharCode(127&e[i]);return n}(this,t,r);case"latin1":case"binary":return function(e,t,r){let n="";r=Math.min(e.length,r);for(let i=t;i<r;++i)n+=String.fromCharCode(e[i]);return n}(this,t,r);case"base64":var o,a,s;return o=this,a=t,s=r,0===a&&s===o.length?n.fromByteArray(o):n.fromByteArray(o.slice(a,s));case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return function(e,t,r){let n=e.slice(t,r),i="";for(let e=0;e<n.length-1;e+=2)i+=String.fromCharCode(n[e]+256*n[e+1]);return i}(this,t,r);default:if(i)throw TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),i=!0}}function g(e,t,r){let n=e[t];e[t]=e[r],e[r]=n}function w(e,t,r,n,i){var o;if(0===e.length)return -1;if("string"==typeof r?(n=r,r=0):r>0x7fffffff?r=0x7fffffff:r<-0x80000000&&(r=-0x80000000),(o=r*=1)!=o&&(r=i?0:e.length-1),r<0&&(r=e.length+r),r>=e.length)if(i)return -1;else r=e.length-1;else if(r<0)if(!i)return -1;else r=0;if("string"==typeof t&&(t=s.from(t,n)),s.isBuffer(t))return 0===t.length?-1:m(e,t,r,n,i);if("number"==typeof t){if(t&=255,"function"==typeof Uint8Array.prototype.indexOf)if(i)return Uint8Array.prototype.indexOf.call(e,t,r);else return Uint8Array.prototype.lastIndexOf.call(e,t,r);return m(e,[t],r,n,i)}throw TypeError("val must be string, number or Buffer")}function m(e,t,r,n,i){let o,a=1,s=e.length,c=t.length;if(void 0!==n&&("ucs2"===(n=String(n).toLowerCase())||"ucs-2"===n||"utf16le"===n||"utf-16le"===n)){if(e.length<2||t.length<2)return -1;a=2,s/=2,c/=2,r/=2}function h(e,t){return 1===a?e[t]:e.readUInt16BE(t*a)}if(i){let n=-1;for(o=r;o<s;o++)if(h(e,o)===h(t,-1===n?0:o-n)){if(-1===n&&(n=o),o-n+1===c)return n*a}else -1!==n&&(o-=o-n),n=-1}else for(r+c>s&&(r=s-c),o=r;o>=0;o--){let r=!0;for(let n=0;n<c;n++)if(h(e,o+n)!==h(t,n)){r=!1;break}if(r)return o}return -1}function b(e,t,r){r=Math.min(e.length,r);let n=[],i=t;for(;i<r;){let t=e[i],o=null,a=t>239?4:t>223?3:t>191?2:1;if(i+a<=r){let r,n,s,c;switch(a){case 1:t<128&&(o=t);break;case 2:(192&(r=e[i+1]))==128&&(c=(31&t)<<6|63&r)>127&&(o=c);break;case 3:r=e[i+1],n=e[i+2],(192&r)==128&&(192&n)==128&&(c=(15&t)<<12|(63&r)<<6|63&n)>2047&&(c<55296||c>57343)&&(o=c);break;case 4:r=e[i+1],n=e[i+2],s=e[i+3],(192&r)==128&&(192&n)==128&&(192&s)==128&&(c=(15&t)<<18|(63&r)<<12|(63&n)<<6|63&s)>65535&&c<1114112&&(o=c)}}null===o?(o=65533,a=1):o>65535&&(o-=65536,n.push(o>>>10&1023|55296),o=56320|1023&o),n.push(o),i+=a}var o=n;let a=o.length;if(a<=4096)return String.fromCharCode.apply(String,o);let s="",c=0;for(;c<a;)s+=String.fromCharCode.apply(String,o.slice(c,c+=4096));return s}function E(e,t,r){if(e%1!=0||e<0)throw RangeError("offset is not uint");if(e+t>r)throw RangeError("Trying to access beyond buffer length")}function v(e,t,r,n,i,o){if(!s.isBuffer(e))throw TypeError('"buffer" argument must be a Buffer instance');if(t>i||t<o)throw RangeError('"value" argument is out of bounds');if(r+n>e.length)throw RangeError("Index out of range")}function A(e,t,r,n,i){R(t,n,i,e,r,7);let o=Number(t&BigInt(0xffffffff));e[r++]=o,o>>=8,e[r++]=o,o>>=8,e[r++]=o,o>>=8,e[r++]=o;let a=Number(t>>BigInt(32)&BigInt(0xffffffff));return e[r++]=a,a>>=8,e[r++]=a,a>>=8,e[r++]=a,a>>=8,e[r++]=a,r}function S(e,t,r,n,i){R(t,n,i,e,r,7);let o=Number(t&BigInt(0xffffffff));e[r+7]=o,o>>=8,e[r+6]=o,o>>=8,e[r+5]=o,o>>=8,e[r+4]=o;let a=Number(t>>BigInt(32)&BigInt(0xffffffff));return e[r+3]=a,a>>=8,e[r+2]=a,a>>=8,e[r+1]=a,a>>=8,e[r]=a,r+8}function _(e,t,r,n,i,o){if(r+n>e.length||r<0)throw RangeError("Index out of range")}function I(e,t,r,n,o){return t*=1,r>>>=0,o||_(e,t,r,4,34028234663852886e22,-34028234663852886e22),i.write(e,t,r,n,23,4),r+4}function C(e,t,r,n,o){return t*=1,r>>>=0,o||_(e,t,r,8,17976931348623157e292,-17976931348623157e292),i.write(e,t,r,n,52,8),r+8}t.Buffer=s,t.SlowBuffer=function(e){return+e!=e&&(e=0),s.alloc(+e)},t.INSPECT_MAX_BYTES=50,t.kMaxLength=0x7fffffff,s.TYPED_ARRAY_SUPPORT=function(){try{let e=new Uint8Array(1),t={foo:function(){return 42}};return Object.setPrototypeOf(t,Uint8Array.prototype),Object.setPrototypeOf(e,t),42===e.foo()}catch(e){return!1}}(),s.TYPED_ARRAY_SUPPORT||"undefined"==typeof console||"function"!=typeof console.error||console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(s.prototype,"parent",{enumerable:!0,get:function(){if(s.isBuffer(this))return this.buffer}}),Object.defineProperty(s.prototype,"offset",{enumerable:!0,get:function(){if(s.isBuffer(this))return this.byteOffset}}),s.poolSize=8192,s.from=function(e,t,r){return c(e,t,r)},Object.setPrototypeOf(s.prototype,Uint8Array.prototype),Object.setPrototypeOf(s,Uint8Array),s.alloc=function(e,t,r){return(h(e),e<=0)?a(e):void 0!==t?"string"==typeof r?a(e).fill(t,r):a(e).fill(t):a(e)},s.allocUnsafe=function(e){return l(e)},s.allocUnsafeSlow=function(e){return l(e)},s.isBuffer=function(e){return null!=e&&!0===e._isBuffer&&e!==s.prototype},s.compare=function(e,t){if(U(e,Uint8Array)&&(e=s.from(e,e.offset,e.byteLength)),U(t,Uint8Array)&&(t=s.from(t,t.offset,t.byteLength)),!s.isBuffer(e)||!s.isBuffer(t))throw TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(e===t)return 0;let r=e.length,n=t.length;for(let i=0,o=Math.min(r,n);i<o;++i)if(e[i]!==t[i]){r=e[i],n=t[i];break}return r<n?-1:+(n<r)},s.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},s.concat=function(e,t){let r;if(!Array.isArray(e))throw TypeError('"list" argument must be an Array of Buffers');if(0===e.length)return s.alloc(0);if(void 0===t)for(r=0,t=0;r<e.length;++r)t+=e[r].length;let n=s.allocUnsafe(t),i=0;for(r=0;r<e.length;++r){let t=e[r];if(U(t,Uint8Array))i+t.length>n.length?(s.isBuffer(t)||(t=s.from(t)),t.copy(n,i)):Uint8Array.prototype.set.call(n,t,i);else if(s.isBuffer(t))t.copy(n,i);else throw TypeError('"list" argument must be an Array of Buffers');i+=t.length}return n},s.byteLength=p,s.prototype._isBuffer=!0,s.prototype.swap16=function(){let e=this.length;if(e%2!=0)throw RangeError("Buffer size must be a multiple of 16-bits");for(let t=0;t<e;t+=2)g(this,t,t+1);return this},s.prototype.swap32=function(){let e=this.length;if(e%4!=0)throw RangeError("Buffer size must be a multiple of 32-bits");for(let t=0;t<e;t+=4)g(this,t,t+3),g(this,t+1,t+2);return this},s.prototype.swap64=function(){let e=this.length;if(e%8!=0)throw RangeError("Buffer size must be a multiple of 64-bits");for(let t=0;t<e;t+=8)g(this,t,t+7),g(this,t+1,t+6),g(this,t+2,t+5),g(this,t+3,t+4);return this},s.prototype.toString=function(){let e=this.length;return 0===e?"":0==arguments.length?b(this,0,e):y.apply(this,arguments)},s.prototype.toLocaleString=s.prototype.toString,s.prototype.equals=function(e){if(!s.isBuffer(e))throw TypeError("Argument must be a Buffer");return this===e||0===s.compare(this,e)},s.prototype.inspect=function(){let e="",r=t.INSPECT_MAX_BYTES;return e=this.toString("hex",0,r).replace(/(.{2})/g,"$1 ").trim(),this.length>r&&(e+=" ... "),"<Buffer "+e+">"},o&&(s.prototype[o]=s.prototype.inspect),s.prototype.compare=function(e,t,r,n,i){if(U(e,Uint8Array)&&(e=s.from(e,e.offset,e.byteLength)),!s.isBuffer(e))throw TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof e);if(void 0===t&&(t=0),void 0===r&&(r=e?e.length:0),void 0===n&&(n=0),void 0===i&&(i=this.length),t<0||r>e.length||n<0||i>this.length)throw RangeError("out of range index");if(n>=i&&t>=r)return 0;if(n>=i)return -1;if(t>=r)return 1;if(t>>>=0,r>>>=0,n>>>=0,i>>>=0,this===e)return 0;let o=i-n,a=r-t,c=Math.min(o,a),h=this.slice(n,i),l=e.slice(t,r);for(let e=0;e<c;++e)if(h[e]!==l[e]){o=h[e],a=l[e];break}return o<a?-1:+(a<o)},s.prototype.includes=function(e,t,r){return -1!==this.indexOf(e,t,r)},s.prototype.indexOf=function(e,t,r){return w(this,e,t,r,!0)},s.prototype.lastIndexOf=function(e,t,r){return w(this,e,t,r,!1)},s.prototype.write=function(e,t,r,n){var i,o,a,s,c,h,l,u;if(void 0===t)n="utf8",r=this.length,t=0;else if(void 0===r&&"string"==typeof t)n=t,r=this.length,t=0;else if(isFinite(t))t>>>=0,isFinite(r)?(r>>>=0,void 0===n&&(n="utf8")):(n=r,r=void 0);else throw Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");let f=this.length-t;if((void 0===r||r>f)&&(r=f),e.length>0&&(r<0||t<0)||t>this.length)throw RangeError("Attempt to write outside buffer bounds");n||(n="utf8");let d=!1;for(;;)switch(n){case"hex":return function(e,t,r,n){let i;r=Number(r)||0;let o=e.length-r;n?(n=Number(n))>o&&(n=o):n=o;let a=t.length;for(n>a/2&&(n=a/2),i=0;i<n;++i){var s;let n=parseInt(t.substr(2*i,2),16);if((s=n)!=s)break;e[r+i]=n}return i}(this,e,t,r);case"utf8":case"utf-8":return i=t,o=r,K(D(e,this.length-i),this,i,o);case"ascii":case"latin1":case"binary":return a=t,s=r,K(function(e){let t=[];for(let r=0;r<e.length;++r)t.push(255&e.charCodeAt(r));return t}(e),this,a,s);case"base64":return c=t,h=r,K(N(e),this,c,h);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return l=t,u=r,K(function(e,t){let r,n,i=[];for(let o=0;o<e.length&&!((t-=2)<0);++o)n=(r=e.charCodeAt(o))>>8,i.push(r%256),i.push(n);return i}(e,this.length-l),this,l,u);default:if(d)throw TypeError("Unknown encoding: "+n);n=(""+n).toLowerCase(),d=!0}},s.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}},s.prototype.slice=function(e,t){let r=this.length;e=~~e,t=void 0===t?r:~~t,e<0?(e+=r)<0&&(e=0):e>r&&(e=r),t<0?(t+=r)<0&&(t=0):t>r&&(t=r),t<e&&(t=e);let n=this.subarray(e,t);return Object.setPrototypeOf(n,s.prototype),n},s.prototype.readUintLE=s.prototype.readUIntLE=function(e,t,r){e>>>=0,t>>>=0,r||E(e,t,this.length);let n=this[e],i=1,o=0;for(;++o<t&&(i*=256);)n+=this[e+o]*i;return n},s.prototype.readUintBE=s.prototype.readUIntBE=function(e,t,r){e>>>=0,t>>>=0,r||E(e,t,this.length);let n=this[e+--t],i=1;for(;t>0&&(i*=256);)n+=this[e+--t]*i;return n},s.prototype.readUint8=s.prototype.readUInt8=function(e,t){return e>>>=0,t||E(e,1,this.length),this[e]},s.prototype.readUint16LE=s.prototype.readUInt16LE=function(e,t){return e>>>=0,t||E(e,2,this.length),this[e]|this[e+1]<<8},s.prototype.readUint16BE=s.prototype.readUInt16BE=function(e,t){return e>>>=0,t||E(e,2,this.length),this[e]<<8|this[e+1]},s.prototype.readUint32LE=s.prototype.readUInt32LE=function(e,t){return e>>>=0,t||E(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+0x1000000*this[e+3]},s.prototype.readUint32BE=s.prototype.readUInt32BE=function(e,t){return e>>>=0,t||E(e,4,this.length),0x1000000*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},s.prototype.readBigUInt64LE=M(function(e){H(e>>>=0,"offset");let t=this[e],r=this[e+7];(void 0===t||void 0===r)&&P(e,this.length-8);let n=t+256*this[++e]+65536*this[++e]+0x1000000*this[++e],i=this[++e]+256*this[++e]+65536*this[++e]+0x1000000*r;return BigInt(n)+(BigInt(i)<<BigInt(32))}),s.prototype.readBigUInt64BE=M(function(e){H(e>>>=0,"offset");let t=this[e],r=this[e+7];(void 0===t||void 0===r)&&P(e,this.length-8);let n=0x1000000*t+65536*this[++e]+256*this[++e]+this[++e],i=0x1000000*this[++e]+65536*this[++e]+256*this[++e]+r;return(BigInt(n)<<BigInt(32))+BigInt(i)}),s.prototype.readIntLE=function(e,t,r){e>>>=0,t>>>=0,r||E(e,t,this.length);let n=this[e],i=1,o=0;for(;++o<t&&(i*=256);)n+=this[e+o]*i;return n>=(i*=128)&&(n-=Math.pow(2,8*t)),n},s.prototype.readIntBE=function(e,t,r){e>>>=0,t>>>=0,r||E(e,t,this.length);let n=t,i=1,o=this[e+--n];for(;n>0&&(i*=256);)o+=this[e+--n]*i;return o>=(i*=128)&&(o-=Math.pow(2,8*t)),o},s.prototype.readInt8=function(e,t){return(e>>>=0,t||E(e,1,this.length),128&this[e])?-((255-this[e]+1)*1):this[e]},s.prototype.readInt16LE=function(e,t){e>>>=0,t||E(e,2,this.length);let r=this[e]|this[e+1]<<8;return 32768&r?0xffff0000|r:r},s.prototype.readInt16BE=function(e,t){e>>>=0,t||E(e,2,this.length);let r=this[e+1]|this[e]<<8;return 32768&r?0xffff0000|r:r},s.prototype.readInt32LE=function(e,t){return e>>>=0,t||E(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},s.prototype.readInt32BE=function(e,t){return e>>>=0,t||E(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},s.prototype.readBigInt64LE=M(function(e){H(e>>>=0,"offset");let t=this[e],r=this[e+7];return(void 0===t||void 0===r)&&P(e,this.length-8),(BigInt(this[e+4]+256*this[e+5]+65536*this[e+6]+(r<<24))<<BigInt(32))+BigInt(t+256*this[++e]+65536*this[++e]+0x1000000*this[++e])}),s.prototype.readBigInt64BE=M(function(e){H(e>>>=0,"offset");let t=this[e],r=this[e+7];return(void 0===t||void 0===r)&&P(e,this.length-8),(BigInt((t<<24)+65536*this[++e]+256*this[++e]+this[++e])<<BigInt(32))+BigInt(0x1000000*this[++e]+65536*this[++e]+256*this[++e]+r)}),s.prototype.readFloatLE=function(e,t){return e>>>=0,t||E(e,4,this.length),i.read(this,e,!0,23,4)},s.prototype.readFloatBE=function(e,t){return e>>>=0,t||E(e,4,this.length),i.read(this,e,!1,23,4)},s.prototype.readDoubleLE=function(e,t){return e>>>=0,t||E(e,8,this.length),i.read(this,e,!0,52,8)},s.prototype.readDoubleBE=function(e,t){return e>>>=0,t||E(e,8,this.length),i.read(this,e,!1,52,8)},s.prototype.writeUintLE=s.prototype.writeUIntLE=function(e,t,r,n){if(e*=1,t>>>=0,r>>>=0,!n){let n=Math.pow(2,8*r)-1;v(this,e,t,r,n,0)}let i=1,o=0;for(this[t]=255&e;++o<r&&(i*=256);)this[t+o]=e/i&255;return t+r},s.prototype.writeUintBE=s.prototype.writeUIntBE=function(e,t,r,n){if(e*=1,t>>>=0,r>>>=0,!n){let n=Math.pow(2,8*r)-1;v(this,e,t,r,n,0)}let i=r-1,o=1;for(this[t+i]=255&e;--i>=0&&(o*=256);)this[t+i]=e/o&255;return t+r},s.prototype.writeUint8=s.prototype.writeUInt8=function(e,t,r){return e*=1,t>>>=0,r||v(this,e,t,1,255,0),this[t]=255&e,t+1},s.prototype.writeUint16LE=s.prototype.writeUInt16LE=function(e,t,r){return e*=1,t>>>=0,r||v(this,e,t,2,65535,0),this[t]=255&e,this[t+1]=e>>>8,t+2},s.prototype.writeUint16BE=s.prototype.writeUInt16BE=function(e,t,r){return e*=1,t>>>=0,r||v(this,e,t,2,65535,0),this[t]=e>>>8,this[t+1]=255&e,t+2},s.prototype.writeUint32LE=s.prototype.writeUInt32LE=function(e,t,r){return e*=1,t>>>=0,r||v(this,e,t,4,0xffffffff,0),this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=255&e,t+4},s.prototype.writeUint32BE=s.prototype.writeUInt32BE=function(e,t,r){return e*=1,t>>>=0,r||v(this,e,t,4,0xffffffff,0),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e,t+4},s.prototype.writeBigUInt64LE=M(function(e,t=0){return A(this,e,t,BigInt(0),BigInt("0xffffffffffffffff"))}),s.prototype.writeBigUInt64BE=M(function(e,t=0){return S(this,e,t,BigInt(0),BigInt("0xffffffffffffffff"))}),s.prototype.writeIntLE=function(e,t,r,n){if(e*=1,t>>>=0,!n){let n=Math.pow(2,8*r-1);v(this,e,t,r,n-1,-n)}let i=0,o=1,a=0;for(this[t]=255&e;++i<r&&(o*=256);)e<0&&0===a&&0!==this[t+i-1]&&(a=1),this[t+i]=(e/o|0)-a&255;return t+r},s.prototype.writeIntBE=function(e,t,r,n){if(e*=1,t>>>=0,!n){let n=Math.pow(2,8*r-1);v(this,e,t,r,n-1,-n)}let i=r-1,o=1,a=0;for(this[t+i]=255&e;--i>=0&&(o*=256);)e<0&&0===a&&0!==this[t+i+1]&&(a=1),this[t+i]=(e/o|0)-a&255;return t+r},s.prototype.writeInt8=function(e,t,r){return e*=1,t>>>=0,r||v(this,e,t,1,127,-128),e<0&&(e=255+e+1),this[t]=255&e,t+1},s.prototype.writeInt16LE=function(e,t,r){return e*=1,t>>>=0,r||v(this,e,t,2,32767,-32768),this[t]=255&e,this[t+1]=e>>>8,t+2},s.prototype.writeInt16BE=function(e,t,r){return e*=1,t>>>=0,r||v(this,e,t,2,32767,-32768),this[t]=e>>>8,this[t+1]=255&e,t+2},s.prototype.writeInt32LE=function(e,t,r){return e*=1,t>>>=0,r||v(this,e,t,4,0x7fffffff,-0x80000000),this[t]=255&e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24,t+4},s.prototype.writeInt32BE=function(e,t,r){return e*=1,t>>>=0,r||v(this,e,t,4,0x7fffffff,-0x80000000),e<0&&(e=0xffffffff+e+1),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e,t+4},s.prototype.writeBigInt64LE=M(function(e,t=0){return A(this,e,t,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),s.prototype.writeBigInt64BE=M(function(e,t=0){return S(this,e,t,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),s.prototype.writeFloatLE=function(e,t,r){return I(this,e,t,!0,r)},s.prototype.writeFloatBE=function(e,t,r){return I(this,e,t,!1,r)},s.prototype.writeDoubleLE=function(e,t,r){return C(this,e,t,!0,r)},s.prototype.writeDoubleBE=function(e,t,r){return C(this,e,t,!1,r)},s.prototype.copy=function(e,t,r,n){if(!s.isBuffer(e))throw TypeError("argument should be a Buffer");if(r||(r=0),n||0===n||(n=this.length),t>=e.length&&(t=e.length),t||(t=0),n>0&&n<r&&(n=r),n===r||0===e.length||0===this.length)return 0;if(t<0)throw RangeError("targetStart out of bounds");if(r<0||r>=this.length)throw RangeError("Index out of range");if(n<0)throw RangeError("sourceEnd out of bounds");n>this.length&&(n=this.length),e.length-t<n-r&&(n=e.length-t+r);let i=n-r;return this===e&&"function"==typeof Uint8Array.prototype.copyWithin?this.copyWithin(t,r,n):Uint8Array.prototype.set.call(e,this.subarray(r,n),t),i},s.prototype.fill=function(e,t,r,n){let i;if("string"==typeof e){if("string"==typeof t?(n=t,t=0,r=this.length):"string"==typeof r&&(n=r,r=this.length),void 0!==n&&"string"!=typeof n)throw TypeError("encoding must be a string");if("string"==typeof n&&!s.isEncoding(n))throw TypeError("Unknown encoding: "+n);if(1===e.length){let t=e.charCodeAt(0);("utf8"===n&&t<128||"latin1"===n)&&(e=t)}}else"number"==typeof e?e&=255:"boolean"==typeof e&&(e=Number(e));if(t<0||this.length<t||this.length<r)throw RangeError("Out of range index");if(r<=t)return this;if(t>>>=0,r=void 0===r?this.length:r>>>0,e||(e=0),"number"==typeof e)for(i=t;i<r;++i)this[i]=e;else{let o=s.isBuffer(e)?e:s.from(e,n),a=o.length;if(0===a)throw TypeError('The value "'+e+'" is invalid for argument "value"');for(i=0;i<r-t;++i)this[i+t]=o[i%a]}return this};let T={};function k(e,t,r){T[e]=class extends r{constructor(){super(),Object.defineProperty(this,"message",{value:t.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${e}]`,this.stack,delete this.name}get code(){return e}set code(e){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:e,writable:!0})}toString(){return`${this.name} [${e}]: ${this.message}`}}}function O(e){let t="",r=e.length,n=+("-"===e[0]);for(;r>=n+4;r-=3)t=`_${e.slice(r-3,r)}${t}`;return`${e.slice(0,r)}${t}`}function R(e,t,r,n,i,o){if(e>r||e<t){let n,i="bigint"==typeof t?"n":"";throw n=o>3?0===t||t===BigInt(0)?`>= 0${i} and < 2${i} ** ${(o+1)*8}${i}`:`>= -(2${i} ** ${(o+1)*8-1}${i}) and < 2 ** ${(o+1)*8-1}${i}`:`>= ${t}${i} and <= ${r}${i}`,new T.ERR_OUT_OF_RANGE("value",n,e)}H(i,"offset"),(void 0===n[i]||void 0===n[i+o])&&P(i,n.length-(o+1))}function H(e,t){if("number"!=typeof e)throw new T.ERR_INVALID_ARG_TYPE(t,"number",e)}function P(e,t,r){if(Math.floor(e)!==e)throw H(e,r),new T.ERR_OUT_OF_RANGE(r||"offset","an integer",e);if(t<0)throw new T.ERR_BUFFER_OUT_OF_BOUNDS;throw new T.ERR_OUT_OF_RANGE(r||"offset",`>= ${+!!r} and <= ${t}`,e)}k("ERR_BUFFER_OUT_OF_BOUNDS",function(e){return e?`${e} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError),k("ERR_INVALID_ARG_TYPE",function(e,t){return`The "${e}" argument must be of type number. Received type ${typeof t}`},TypeError),k("ERR_OUT_OF_RANGE",function(e,t,r){let n=`The value of "${e}" is out of range.`,i=r;return Number.isInteger(r)&&Math.abs(r)>0x100000000?i=O(String(r)):"bigint"==typeof r&&(i=String(r),(r>BigInt(2)**BigInt(32)||r<-(BigInt(2)**BigInt(32)))&&(i=O(i)),i+="n"),n+=` It must be ${t}. Received ${i}`},RangeError);let x=/[^+/0-9A-Za-z-_]/g;function D(e,t){let r;t=t||1/0;let n=e.length,i=null,o=[];for(let a=0;a<n;++a){if((r=e.charCodeAt(a))>55295&&r<57344){if(!i){if(r>56319||a+1===n){(t-=3)>-1&&o.push(239,191,189);continue}i=r;continue}if(r<56320){(t-=3)>-1&&o.push(239,191,189),i=r;continue}r=(i-55296<<10|r-56320)+65536}else i&&(t-=3)>-1&&o.push(239,191,189);if(i=null,r<128){if((t-=1)<0)break;o.push(r)}else if(r<2048){if((t-=2)<0)break;o.push(r>>6|192,63&r|128)}else if(r<65536){if((t-=3)<0)break;o.push(r>>12|224,r>>6&63|128,63&r|128)}else if(r<1114112){if((t-=4)<0)break;o.push(r>>18|240,r>>12&63|128,r>>6&63|128,63&r|128)}else throw Error("Invalid code point")}return o}function N(e){return n.toByteArray(function(e){if((e=(e=e.split("=")[0]).trim().replace(x,"")).length<2)return"";for(;e.length%4!=0;)e+="=";return e}(e))}function K(e,t,r,n){let i;for(i=0;i<n&&!(i+r>=t.length)&&!(i>=e.length);++i)t[i+r]=e[i];return i}function U(e,t){return e instanceof t||null!=e&&null!=e.constructor&&null!=e.constructor.name&&e.constructor.name===t.name}let B=function(){let e="0123456789abcdef",t=Array(256);for(let r=0;r<16;++r){let n=16*r;for(let i=0;i<16;++i)t[n+i]=e[r]+e[i]}return t}();function M(e){return"undefined"==typeof BigInt?W:e}function W(){throw Error("BigInt not supported")}},94943:(e,t,r)=>{"use strict";let n,i,o;r.r(t),r.d(t,{CompactEncrypt:()=>tu,CompactSign:()=>tp,EmbeddedJWK:()=>t_,EncryptJWT:()=>tE,FlattenedEncrypt:()=>e8,FlattenedSign:()=>td,GeneralEncrypt:()=>e4,GeneralSign:()=>tg,SignJWT:()=>tb,UnsecuredJWT:()=>tN,base64url:()=>s,calculateJwkThumbprint:()=>tA,calculateJwkThumbprintUri:()=>tS,compactDecrypt:()=>eq,compactVerify:()=>tr,createLocalJWKSet:()=>tO,createRemoteJWKSet:()=>tx,cryptoRuntime:()=>tF,decodeJwt:()=>tM,decodeProtectedHeader:()=>tB,errors:()=>a,experimental_jwksCache:()=>tD,exportJWK:()=>e6,exportPKCS8:()=>e2,exportSPKI:()=>e1,flattenedDecrypt:()=>eY,flattenedVerify:()=>tt,generalDecrypt:()=>eZ,generalVerify:()=>tn,generateKeyPair:()=>tJ,generateSecret:()=>t$,importJWK:()=>eK,importPKCS8:()=>eN,importSPKI:()=>ex,importX509:()=>eD,jwksCache:()=>tH,jwtDecrypt:()=>tl,jwtVerify:()=>th});var a={};r.r(a),r.d(a,{JOSEAlgNotAllowed:()=>I,JOSEError:()=>A,JOSENotSupported:()=>C,JWEDecryptionFailed:()=>T,JWEInvalid:()=>k,JWKInvalid:()=>H,JWKSInvalid:()=>P,JWKSMultipleMatchingKeys:()=>D,JWKSNoMatchingKey:()=>x,JWKSTimeout:()=>N,JWSInvalid:()=>O,JWSSignatureVerificationFailed:()=>K,JWTClaimValidationFailed:()=>S,JWTExpired:()=>_,JWTInvalid:()=>R});var s={};r.r(s),r.d(s,{decode:()=>tU,encode:()=>tK});let c=crypto,h=async(e,t)=>{let r=`SHA-${e.slice(-3)}`;return new Uint8Array(await c.subtle.digest(r,t))},l=new TextEncoder,u=new TextDecoder;function f(...e){let t=new Uint8Array(e.reduce((e,{length:t})=>e+t,0)),r=0;for(let n of e)t.set(n,r),r+=n.length;return t}function d(e,t,r){if(t<0||t>=0x100000000)throw RangeError(`value must be >= 0 and <= ${0x100000000-1}. Received ${t}`);e.set([t>>>24,t>>>16,t>>>8,255&t],r)}function p(e){let t=Math.floor(e/0x100000000),r=new Uint8Array(8);return d(r,t,0),d(r,e%0x100000000,4),r}function y(e){let t=new Uint8Array(4);return d(t,e),t}function g(e){return f(y(e.length),e)}async function w(e,t,r){let n=Math.ceil((t>>3)/32),i=new Uint8Array(32*n);for(let t=0;t<n;t++){let n=new Uint8Array(4+e.length+r.length);n.set(y(t+1)),n.set(e,4),n.set(r,4+e.length),i.set(await h("sha256",n),32*t)}return i.slice(0,t>>3)}let m=e=>{let t=e;"string"==typeof t&&(t=l.encode(t));let r=[];for(let e=0;e<t.length;e+=32768)r.push(String.fromCharCode.apply(null,t.subarray(e,e+32768)));return btoa(r.join(""))},b=e=>m(e).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_"),E=e=>{let t=atob(e),r=new Uint8Array(t.length);for(let e=0;e<t.length;e++)r[e]=t.charCodeAt(e);return r},v=e=>{let t=e;t instanceof Uint8Array&&(t=u.decode(t)),t=t.replace(/-/g,"+").replace(/_/g,"/").replace(/\s/g,"");try{return E(t)}catch{throw TypeError("The input to be decoded is not correctly encoded.")}};class A extends Error{constructor(e,t){super(e,t),this.code="ERR_JOSE_GENERIC",this.name=this.constructor.name,Error.captureStackTrace?.(this,this.constructor)}}A.code="ERR_JOSE_GENERIC";class S extends A{constructor(e,t,r="unspecified",n="unspecified"){super(e,{cause:{claim:r,reason:n,payload:t}}),this.code="ERR_JWT_CLAIM_VALIDATION_FAILED",this.claim=r,this.reason=n,this.payload=t}}S.code="ERR_JWT_CLAIM_VALIDATION_FAILED";class _ extends A{constructor(e,t,r="unspecified",n="unspecified"){super(e,{cause:{claim:r,reason:n,payload:t}}),this.code="ERR_JWT_EXPIRED",this.claim=r,this.reason=n,this.payload=t}}_.code="ERR_JWT_EXPIRED";class I extends A{constructor(){super(...arguments),this.code="ERR_JOSE_ALG_NOT_ALLOWED"}}I.code="ERR_JOSE_ALG_NOT_ALLOWED";class C extends A{constructor(){super(...arguments),this.code="ERR_JOSE_NOT_SUPPORTED"}}C.code="ERR_JOSE_NOT_SUPPORTED";class T extends A{constructor(e="decryption operation failed",t){super(e,t),this.code="ERR_JWE_DECRYPTION_FAILED"}}T.code="ERR_JWE_DECRYPTION_FAILED";class k extends A{constructor(){super(...arguments),this.code="ERR_JWE_INVALID"}}k.code="ERR_JWE_INVALID";class O extends A{constructor(){super(...arguments),this.code="ERR_JWS_INVALID"}}O.code="ERR_JWS_INVALID";class R extends A{constructor(){super(...arguments),this.code="ERR_JWT_INVALID"}}R.code="ERR_JWT_INVALID";class H extends A{constructor(){super(...arguments),this.code="ERR_JWK_INVALID"}}H.code="ERR_JWK_INVALID";class P extends A{constructor(){super(...arguments),this.code="ERR_JWKS_INVALID"}}P.code="ERR_JWKS_INVALID";class x extends A{constructor(e="no applicable key found in the JSON Web Key Set",t){super(e,t),this.code="ERR_JWKS_NO_MATCHING_KEY"}}x.code="ERR_JWKS_NO_MATCHING_KEY";class D extends A{constructor(e="multiple matching keys found in the JSON Web Key Set",t){super(e,t),this.code="ERR_JWKS_MULTIPLE_MATCHING_KEYS"}}Symbol.asyncIterator,D.code="ERR_JWKS_MULTIPLE_MATCHING_KEYS";class N extends A{constructor(e="request timed out",t){super(e,t),this.code="ERR_JWKS_TIMEOUT"}}N.code="ERR_JWKS_TIMEOUT";class K extends A{constructor(e="signature verification failed",t){super(e,t),this.code="ERR_JWS_SIGNATURE_VERIFICATION_FAILED"}}K.code="ERR_JWS_SIGNATURE_VERIFICATION_FAILED";let U=c.getRandomValues.bind(c);function B(e){switch(e){case"A128GCM":case"A128GCMKW":case"A192GCM":case"A192GCMKW":case"A256GCM":case"A256GCMKW":return 96;case"A128CBC-HS256":case"A192CBC-HS384":case"A256CBC-HS512":return 128;default:throw new C(`Unsupported JWE Algorithm: ${e}`)}}let M=(e,t)=>{if(t.length<<3!==B(e))throw new k("Invalid Initialization Vector length")},W=(e,t)=>{let r=e.byteLength<<3;if(r!==t)throw new k(`Invalid Content Encryption Key length. Expected ${t} bits, got ${r} bits`)};function j(e,t="algorithm.name"){return TypeError(`CryptoKey does not support this operation, its ${t} must be ${e}`)}function L(e,t){return e.name===t}function J(e){return parseInt(e.name.slice(4),10)}function $(e,t){if(t.length&&!t.some(t=>e.usages.includes(t))){let e="CryptoKey does not support this operation, its usages must include ";if(t.length>2){let r=t.pop();e+=`one of ${t.join(", ")}, or ${r}.`}else 2===t.length?e+=`one of ${t[0]} or ${t[1]}.`:e+=`${t[0]}.`;throw TypeError(e)}}function F(e,t,...r){switch(t){case"A128GCM":case"A192GCM":case"A256GCM":{if(!L(e.algorithm,"AES-GCM"))throw j("AES-GCM");let r=parseInt(t.slice(1,4),10);if(e.algorithm.length!==r)throw j(r,"algorithm.length");break}case"A128KW":case"A192KW":case"A256KW":{if(!L(e.algorithm,"AES-KW"))throw j("AES-KW");let r=parseInt(t.slice(1,4),10);if(e.algorithm.length!==r)throw j(r,"algorithm.length");break}case"ECDH":switch(e.algorithm.name){case"ECDH":case"X25519":case"X448":break;default:throw j("ECDH, X25519, or X448")}break;case"PBES2-HS256+A128KW":case"PBES2-HS384+A192KW":case"PBES2-HS512+A256KW":if(!L(e.algorithm,"PBKDF2"))throw j("PBKDF2");break;case"RSA-OAEP":case"RSA-OAEP-256":case"RSA-OAEP-384":case"RSA-OAEP-512":{if(!L(e.algorithm,"RSA-OAEP"))throw j("RSA-OAEP");let r=parseInt(t.slice(9),10)||1;if(J(e.algorithm.hash)!==r)throw j(`SHA-${r}`,"algorithm.hash");break}default:throw TypeError("CryptoKey does not support this operation")}$(e,r)}function V(e,t,...r){if((r=r.filter(Boolean)).length>2){let t=r.pop();e+=`one of type ${r.join(", ")}, or ${t}.`}else 2===r.length?e+=`one of type ${r[0]} or ${r[1]}.`:e+=`of type ${r[0]}.`;return null==t?e+=` Received ${t}`:"function"==typeof t&&t.name?e+=` Received function ${t.name}`:"object"==typeof t&&null!=t&&t.constructor?.name&&(e+=` Received an instance of ${t.constructor.name}`),e}let G=(e,...t)=>V("Key must be ",e,...t);function z(e,t,...r){return V(`Key for the ${e} algorithm must be `,t,...r)}let X=e=>e instanceof CryptoKey||e?.[Symbol.toStringTag]==="KeyObject",Y=["CryptoKey"];async function q(e,t,r,n,i,o){let a,s;if(!(t instanceof Uint8Array))throw TypeError(G(t,"Uint8Array"));let h=parseInt(e.slice(1,4),10),l=await c.subtle.importKey("raw",t.subarray(h>>3),"AES-CBC",!1,["decrypt"]),u=await c.subtle.importKey("raw",t.subarray(0,h>>3),{hash:`SHA-${h<<1}`,name:"HMAC"},!1,["sign"]),d=f(o,n,r,p(o.length<<3)),y=new Uint8Array((await c.subtle.sign("HMAC",u,d)).slice(0,h>>3));try{a=((e,t)=>{if(!(e instanceof Uint8Array))throw TypeError("First argument must be a buffer");if(!(t instanceof Uint8Array))throw TypeError("Second argument must be a buffer");if(e.length!==t.length)throw TypeError("Input buffers must have the same length");let r=e.length,n=0,i=-1;for(;++i<r;)n|=e[i]^t[i];return 0===n})(i,y)}catch{}if(!a)throw new T;try{s=new Uint8Array(await c.subtle.decrypt({iv:n,name:"AES-CBC"},l,r))}catch{}if(!s)throw new T;return s}async function Z(e,t,r,n,i,o){let a;t instanceof Uint8Array?a=await c.subtle.importKey("raw",t,"AES-GCM",!1,["decrypt"]):(F(t,e,"decrypt"),a=t);try{return new Uint8Array(await c.subtle.decrypt({additionalData:o,iv:n,name:"AES-GCM",tagLength:128},a,f(r,i)))}catch{throw new T}}let Q=async(e,t,r,n,i,o)=>{if(!(t instanceof CryptoKey)&&!(t instanceof Uint8Array))throw TypeError(G(t,...Y,"Uint8Array"));if(!n)throw new k("JWE Initialization Vector missing");if(!i)throw new k("JWE Authentication Tag missing");switch(M(e,n),e){case"A128CBC-HS256":case"A192CBC-HS384":case"A256CBC-HS512":return t instanceof Uint8Array&&W(t,parseInt(e.slice(-3),10)),q(e,t,r,n,i,o);case"A128GCM":case"A192GCM":case"A256GCM":return t instanceof Uint8Array&&W(t,parseInt(e.slice(1,4),10)),Z(e,t,r,n,i,o);default:throw new C("Unsupported JWE Content Encryption Algorithm")}},ee=(...e)=>{let t,r=e.filter(Boolean);if(0===r.length||1===r.length)return!0;for(let e of r){let r=Object.keys(e);if(!t||0===t.size){t=new Set(r);continue}for(let e of r){if(t.has(e))return!1;t.add(e)}}return!0};function et(e){if("object"!=typeof e||null===e||"[object Object]"!==Object.prototype.toString.call(e))return!1;if(null===Object.getPrototypeOf(e))return!0;let t=e;for(;null!==Object.getPrototypeOf(t);)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t}let er=[{hash:"SHA-256",name:"HMAC"},!0,["sign"]];function en(e,t){if(e.algorithm.length!==parseInt(t.slice(1,4),10))throw TypeError(`Invalid key size for alg: ${t}`)}function ei(e,t,r){if(e instanceof CryptoKey)return F(e,t,r),e;if(e instanceof Uint8Array)return c.subtle.importKey("raw",e,"AES-KW",!0,[r]);throw TypeError(G(e,...Y,"Uint8Array"))}let eo=async(e,t,r)=>{let n=await ei(t,e,"wrapKey");en(n,e);let i=await c.subtle.importKey("raw",r,...er);return new Uint8Array(await c.subtle.wrapKey("raw",i,n,"AES-KW"))},ea=async(e,t,r)=>{let n=await ei(t,e,"unwrapKey");en(n,e);let i=await c.subtle.unwrapKey("raw",r,n,"AES-KW",...er);return new Uint8Array(await c.subtle.exportKey("raw",i))};async function es(e,t,r,n,i=new Uint8Array(0),o=new Uint8Array(0)){let a;if(!(e instanceof CryptoKey))throw TypeError(G(e,...Y));if(F(e,"ECDH"),!(t instanceof CryptoKey))throw TypeError(G(t,...Y));F(t,"ECDH","deriveBits");let s=f(g(l.encode(r)),g(i),g(o),y(n));return a="X25519"===e.algorithm.name?256:"X448"===e.algorithm.name?448:Math.ceil(parseInt(e.algorithm.namedCurve.substr(-3),10)/8)<<3,w(new Uint8Array(await c.subtle.deriveBits({name:e.algorithm.name,public:e},t,a)),n,s)}async function ec(e){if(!(e instanceof CryptoKey))throw TypeError(G(e,...Y));return c.subtle.generateKey(e.algorithm,!0,["deriveBits"])}function eh(e){if(!(e instanceof CryptoKey))throw TypeError(G(e,...Y));return["P-256","P-384","P-521"].includes(e.algorithm.namedCurve)||"X25519"===e.algorithm.name||"X448"===e.algorithm.name}async function el(e,t,r,n){if(!(e instanceof Uint8Array)||e.length<8)throw new k("PBES2 Salt Input must be 8 or more octets");let i=f(l.encode(t),new Uint8Array([0]),e),o=parseInt(t.slice(13,16),10),a={hash:`SHA-${t.slice(8,11)}`,iterations:r,name:"PBKDF2",salt:i},s=await function(e,t){if(e instanceof Uint8Array)return c.subtle.importKey("raw",e,"PBKDF2",!1,["deriveBits"]);if(e instanceof CryptoKey)return F(e,t,"deriveBits","deriveKey"),e;throw TypeError(G(e,...Y,"Uint8Array"))}(n,t);if(s.usages.includes("deriveBits"))return new Uint8Array(await c.subtle.deriveBits(a,s,o));if(s.usages.includes("deriveKey"))return c.subtle.deriveKey(a,s,{length:o,name:"AES-KW"},!1,["wrapKey","unwrapKey"]);throw TypeError('PBKDF2 key "usages" must include "deriveBits" or "deriveKey"')}let eu=async(e,t,r,n=2048,i=U(new Uint8Array(16)))=>{let o=await el(i,e,n,t);return{encryptedKey:await eo(e.slice(-6),o,r),p2c:n,p2s:b(i)}},ef=async(e,t,r,n,i)=>{let o=await el(i,e,n,t);return ea(e.slice(-6),o,r)};function ed(e){switch(e){case"RSA-OAEP":case"RSA-OAEP-256":case"RSA-OAEP-384":case"RSA-OAEP-512":return"RSA-OAEP";default:throw new C(`alg ${e} is not supported either by JOSE or your javascript runtime`)}}let ep=(e,t)=>{if(e.startsWith("RS")||e.startsWith("PS")){let{modulusLength:r}=t.algorithm;if("number"!=typeof r||r<2048)throw TypeError(`${e} requires key modulusLength to be 2048 bits or larger`)}},ey=async(e,t,r)=>{if(!(t instanceof CryptoKey))throw TypeError(G(t,...Y));if(F(t,e,"encrypt","wrapKey"),ep(e,t),t.usages.includes("encrypt"))return new Uint8Array(await c.subtle.encrypt(ed(e),t,r));if(t.usages.includes("wrapKey")){let n=await c.subtle.importKey("raw",r,...er);return new Uint8Array(await c.subtle.wrapKey("raw",n,t,ed(e)))}throw TypeError('RSA-OAEP key "usages" must include "encrypt" or "wrapKey" for this operation')},eg=async(e,t,r)=>{if(!(t instanceof CryptoKey))throw TypeError(G(t,...Y));if(F(t,e,"decrypt","unwrapKey"),ep(e,t),t.usages.includes("decrypt"))return new Uint8Array(await c.subtle.decrypt(ed(e),t,r));if(t.usages.includes("unwrapKey")){let n=await c.subtle.unwrapKey("raw",r,t,ed(e),...er);return new Uint8Array(await c.subtle.exportKey("raw",n))}throw TypeError('RSA-OAEP key "usages" must include "decrypt" or "unwrapKey" for this operation')};function ew(e){return et(e)&&"string"==typeof e.kty}let em=async e=>{if(!e.alg)throw TypeError('"alg" argument is required when "jwk.alg" is not present');let{algorithm:t,keyUsages:r}=function(e){let t,r;switch(e.kty){case"RSA":switch(e.alg){case"PS256":case"PS384":case"PS512":t={name:"RSA-PSS",hash:`SHA-${e.alg.slice(-3)}`},r=e.d?["sign"]:["verify"];break;case"RS256":case"RS384":case"RS512":t={name:"RSASSA-PKCS1-v1_5",hash:`SHA-${e.alg.slice(-3)}`},r=e.d?["sign"]:["verify"];break;case"RSA-OAEP":case"RSA-OAEP-256":case"RSA-OAEP-384":case"RSA-OAEP-512":t={name:"RSA-OAEP",hash:`SHA-${parseInt(e.alg.slice(-3),10)||1}`},r=e.d?["decrypt","unwrapKey"]:["encrypt","wrapKey"];break;default:throw new C('Invalid or unsupported JWK "alg" (Algorithm) Parameter value')}break;case"EC":switch(e.alg){case"ES256":t={name:"ECDSA",namedCurve:"P-256"},r=e.d?["sign"]:["verify"];break;case"ES384":t={name:"ECDSA",namedCurve:"P-384"},r=e.d?["sign"]:["verify"];break;case"ES512":t={name:"ECDSA",namedCurve:"P-521"},r=e.d?["sign"]:["verify"];break;case"ECDH-ES":case"ECDH-ES+A128KW":case"ECDH-ES+A192KW":case"ECDH-ES+A256KW":t={name:"ECDH",namedCurve:e.crv},r=e.d?["deriveBits"]:[];break;default:throw new C('Invalid or unsupported JWK "alg" (Algorithm) Parameter value')}break;case"OKP":switch(e.alg){case"Ed25519":t={name:"Ed25519"},r=e.d?["sign"]:["verify"];break;case"EdDSA":t={name:e.crv},r=e.d?["sign"]:["verify"];break;case"ECDH-ES":case"ECDH-ES+A128KW":case"ECDH-ES+A192KW":case"ECDH-ES+A256KW":t={name:e.crv},r=e.d?["deriveBits"]:[];break;default:throw new C('Invalid or unsupported JWK "alg" (Algorithm) Parameter value')}break;default:throw new C('Invalid or unsupported JWK "kty" (Key Type) Parameter value')}return{algorithm:t,keyUsages:r}}(e),n=[t,e.ext??!1,e.key_ops??r],i={...e};return delete i.alg,delete i.use,c.subtle.importKey("jwk",i,...n)},eb=e=>v(e),eE=e=>e?.[Symbol.toStringTag]==="KeyObject",ev=async(e,t,r,n,i=!1)=>{let o=e.get(t);if(o?.[n])return o[n];let a=await em({...r,alg:n});return i&&Object.freeze(t),o?o[n]=a:e.set(t,{[n]:a}),a},eA={normalizePublicKey:(e,t)=>{if(eE(e)){let r=e.export({format:"jwk"});return(delete r.d,delete r.dp,delete r.dq,delete r.p,delete r.q,delete r.qi,r.k)?eb(r.k):(i||(i=new WeakMap),ev(i,e,r,t))}return ew(e)?e.k?v(e.k):(i||(i=new WeakMap),ev(i,e,e,t,!0)):e},normalizePrivateKey:(e,t)=>{if(eE(e)){let r=e.export({format:"jwk"});return r.k?eb(r.k):(n||(n=new WeakMap),ev(n,e,r,t))}return ew(e)?e.k?v(e.k):(n||(n=new WeakMap),ev(n,e,e,t,!0)):e}};function eS(e){switch(e){case"A128GCM":return 128;case"A192GCM":return 192;case"A256GCM":case"A128CBC-HS256":return 256;case"A192CBC-HS384":return 384;case"A256CBC-HS512":return 512;default:throw new C(`Unsupported JWE Algorithm: ${e}`)}}let e_=e=>U(new Uint8Array(eS(e)>>3)),eI=(e,t)=>{let r=(e.match(/.{1,64}/g)||[]).join("\n");return`-----BEGIN ${t}-----
${r}
-----END ${t}-----`},eC=async(e,t,r)=>{if(!(r instanceof CryptoKey))throw TypeError(G(r,...Y));if(!r.extractable)throw TypeError("CryptoKey is not extractable");if(r.type!==e)throw TypeError(`key is not a ${e} key`);return eI(m(new Uint8Array(await c.subtle.exportKey(t,r))),`${e.toUpperCase()} KEY`)},eT=(e,t,r=0)=>{0===r&&(t.unshift(t.length),t.unshift(6));let n=e.indexOf(t[0],r);if(-1===n)return!1;let i=e.subarray(n,n+t.length);return i.length===t.length&&(i.every((e,r)=>e===t[r])||eT(e,t,n+1))},ek=e=>{switch(!0){case eT(e,[42,134,72,206,61,3,1,7]):return"P-256";case eT(e,[43,129,4,0,34]):return"P-384";case eT(e,[43,129,4,0,35]):return"P-521";case eT(e,[43,101,110]):return"X25519";case eT(e,[43,101,111]):return"X448";case eT(e,[43,101,112]):return"Ed25519";case eT(e,[43,101,113]):return"Ed448";default:throw new C("Invalid or unsupported EC Key Curve or OKP Key Sub Type")}},eO=async(e,t,r,n,i)=>{let o,a,s=new Uint8Array(atob(r.replace(e,"")).split("").map(e=>e.charCodeAt(0))),h="spki"===t;switch(n){case"PS256":case"PS384":case"PS512":o={name:"RSA-PSS",hash:`SHA-${n.slice(-3)}`},a=h?["verify"]:["sign"];break;case"RS256":case"RS384":case"RS512":o={name:"RSASSA-PKCS1-v1_5",hash:`SHA-${n.slice(-3)}`},a=h?["verify"]:["sign"];break;case"RSA-OAEP":case"RSA-OAEP-256":case"RSA-OAEP-384":case"RSA-OAEP-512":o={name:"RSA-OAEP",hash:`SHA-${parseInt(n.slice(-3),10)||1}`},a=h?["encrypt","wrapKey"]:["decrypt","unwrapKey"];break;case"ES256":o={name:"ECDSA",namedCurve:"P-256"},a=h?["verify"]:["sign"];break;case"ES384":o={name:"ECDSA",namedCurve:"P-384"},a=h?["verify"]:["sign"];break;case"ES512":o={name:"ECDSA",namedCurve:"P-521"},a=h?["verify"]:["sign"];break;case"ECDH-ES":case"ECDH-ES+A128KW":case"ECDH-ES+A192KW":case"ECDH-ES+A256KW":{let e=ek(s);o=e.startsWith("P-")?{name:"ECDH",namedCurve:e}:{name:e},a=h?[]:["deriveBits"];break}case"Ed25519":o={name:"Ed25519"},a=h?["verify"]:["sign"];break;case"EdDSA":o={name:ek(s)},a=h?["verify"]:["sign"];break;default:throw new C('Invalid or unsupported "alg" (Algorithm) value')}return c.subtle.importKey(t,s,o,i?.extractable??!1,a)},eR=(e,t,r)=>eO(/(?:-----(?:BEGIN|END) PUBLIC KEY-----|\s)/g,"spki",e,t,r);function eH(e){let t=[],r=0;for(;r<e.length;){let n=eP(e.subarray(r));t.push(n),r+=n.byteLength}return t}function eP(e){let t=0,r=31&e[0];if(t++,31===r){for(r=0;e[t]>=128;)r=128*r+e[t]-128,t++;r=128*r+e[t]-128,t++}let n=0;if(e[t]<128)n=e[t],t++;else if(128===n){for(n=0;0!==e[t+n]||0!==e[t+n+1];){if(n>e.byteLength)throw TypeError("invalid indefinite form length");n++}let r=t+n+2;return{byteLength:r,contents:e.subarray(t,t+n),raw:e.subarray(0,r)}}else{let r=127&e[t];t++,n=0;for(let i=0;i<r;i++)n=256*n+e[t],t++}let i=t+n;return{byteLength:i,contents:e.subarray(t,i),raw:e.subarray(0,i)}}async function ex(e,t,r){if("string"!=typeof e||0!==e.indexOf("-----BEGIN PUBLIC KEY-----"))throw TypeError('"spki" must be SPKI formatted string');return eR(e,t,r)}async function eD(e,t,r){let n;if("string"!=typeof e||0!==e.indexOf("-----BEGIN CERTIFICATE-----"))throw TypeError('"x509" must be X.509 formatted string');try{n=eI(function(e){let t=eH(eH(eP(e).contents)[0].contents);return m(t[160===t[0].raw[0]?6:5].raw)}(E(e.replace(/(?:-----(?:BEGIN|END) CERTIFICATE-----|\s)/g,""))),"PUBLIC KEY")}catch(e){throw TypeError("Failed to parse the X.509 certificate",{cause:e})}return eR(n,t,r)}async function eN(e,t,r){if("string"!=typeof e||0!==e.indexOf("-----BEGIN PRIVATE KEY-----"))throw TypeError('"pkcs8" must be PKCS#8 formatted string');return eO(/(?:-----(?:BEGIN|END) PRIVATE KEY-----|\s)/g,"pkcs8",e,t,r)}async function eK(e,t){if(!et(e))throw TypeError("JWK must be an object");switch(t||(t=e.alg),e.kty){case"oct":if("string"!=typeof e.k||!e.k)throw TypeError('missing "k" (Key Value) Parameter value');return v(e.k);case"RSA":if("oth"in e&&void 0!==e.oth)throw new C('RSA JWK "oth" (Other Primes Info) Parameter value is not supported');case"EC":case"OKP":return em({...e,alg:t});default:throw new C('Unsupported "kty" (Key Type) Parameter value')}}let eU=e=>e?.[Symbol.toStringTag],eB=(e,t,r)=>{if(void 0!==t.use&&"sig"!==t.use)throw TypeError("Invalid key for this operation, when present its use must be sig");if(void 0!==t.key_ops&&t.key_ops.includes?.(r)!==!0)throw TypeError(`Invalid key for this operation, when present its key_ops must include ${r}`);if(void 0!==t.alg&&t.alg!==e)throw TypeError(`Invalid key for this operation, when present its alg must be ${e}`);return!0};function eM(e,t,r,n){t.startsWith("HS")||"dir"===t||t.startsWith("PBES2")||/^A\d{3}(?:GCM)?KW$/.test(t)?((e,t,r,n)=>{if(!(t instanceof Uint8Array)){if(n&&ew(t)){var i;if(ew(i=t)&&"oct"===i.kty&&"string"==typeof i.k&&eB(e,t,r))return;throw TypeError('JSON Web Key for symmetric algorithms must have JWK "kty" (Key Type) equal to "oct" and the JWK "k" (Key Value) present')}if(!X(t))throw TypeError(z(e,t,...Y,"Uint8Array",n?"JSON Web Key":null));if("secret"!==t.type)throw TypeError(`${eU(t)} instances for symmetric algorithms must be of type "secret"`)}})(t,r,n,e):((e,t,r,n)=>{var i,o;if(n&&ew(t))switch(r){case"sign":if("oct"!==(i=t).kty&&"string"==typeof i.d&&eB(e,t,r))return;throw TypeError("JSON Web Key for this operation be a private JWK");case"verify":if("oct"!==(o=t).kty&&void 0===o.d&&eB(e,t,r))return;throw TypeError("JSON Web Key for this operation be a public JWK")}if(!X(t))throw TypeError(z(e,t,...Y,n?"JSON Web Key":null));if("secret"===t.type)throw TypeError(`${eU(t)} instances for asymmetric algorithms must not be of type "secret"`);if("sign"===r&&"public"===t.type)throw TypeError(`${eU(t)} instances for asymmetric algorithm signing must be of type "private"`);if("decrypt"===r&&"public"===t.type)throw TypeError(`${eU(t)} instances for asymmetric algorithm decryption must be of type "private"`);if(t.algorithm&&"verify"===r&&"private"===t.type)throw TypeError(`${eU(t)} instances for asymmetric algorithm verifying must be of type "public"`);if(t.algorithm&&"encrypt"===r&&"private"===t.type)throw TypeError(`${eU(t)} instances for asymmetric algorithm encryption must be of type "public"`)})(t,r,n,e)}let eW=eM.bind(void 0,!1),ej=eM.bind(void 0,!0);async function eL(e,t,r,n,i){if(!(r instanceof Uint8Array))throw TypeError(G(r,"Uint8Array"));let o=parseInt(e.slice(1,4),10),a=await c.subtle.importKey("raw",r.subarray(o>>3),"AES-CBC",!1,["encrypt"]),s=await c.subtle.importKey("raw",r.subarray(0,o>>3),{hash:`SHA-${o<<1}`,name:"HMAC"},!1,["sign"]),h=new Uint8Array(await c.subtle.encrypt({iv:n,name:"AES-CBC"},a,t)),l=f(i,n,h,p(i.length<<3));return{ciphertext:h,tag:new Uint8Array((await c.subtle.sign("HMAC",s,l)).slice(0,o>>3)),iv:n}}async function eJ(e,t,r,n,i){let o;r instanceof Uint8Array?o=await c.subtle.importKey("raw",r,"AES-GCM",!1,["encrypt"]):(F(r,e,"encrypt"),o=r);let a=new Uint8Array(await c.subtle.encrypt({additionalData:i,iv:n,name:"AES-GCM",tagLength:128},o,t)),s=a.slice(-16);return{ciphertext:a.slice(0,-16),tag:s,iv:n}}let e$=async(e,t,r,n,i)=>{if(!(r instanceof CryptoKey)&&!(r instanceof Uint8Array))throw TypeError(G(r,...Y,"Uint8Array"));switch(n?M(e,n):n=U(new Uint8Array(B(e)>>3)),e){case"A128CBC-HS256":case"A192CBC-HS384":case"A256CBC-HS512":return r instanceof Uint8Array&&W(r,parseInt(e.slice(-3),10)),eL(e,t,r,n,i);case"A128GCM":case"A192GCM":case"A256GCM":return r instanceof Uint8Array&&W(r,parseInt(e.slice(1,4),10)),eJ(e,t,r,n,i);default:throw new C("Unsupported JWE Content Encryption Algorithm")}};async function eF(e,t,r,n){let i=e.slice(0,7),o=await e$(i,r,t,n,new Uint8Array(0));return{encryptedKey:o.ciphertext,iv:b(o.iv),tag:b(o.tag)}}async function eV(e,t,r,n,i){return Q(e.slice(0,7),t,r,n,i,new Uint8Array(0))}async function eG(e,t,r,n,i){switch(eW(e,t,"decrypt"),t=await eA.normalizePrivateKey?.(t,e)||t,e){case"dir":if(void 0!==r)throw new k("Encountered unexpected JWE Encrypted Key");return t;case"ECDH-ES":if(void 0!==r)throw new k("Encountered unexpected JWE Encrypted Key");case"ECDH-ES+A128KW":case"ECDH-ES+A192KW":case"ECDH-ES+A256KW":{let i,o;if(!et(n.epk))throw new k('JOSE Header "epk" (Ephemeral Public Key) missing or invalid');if(!eh(t))throw new C("ECDH with the provided key is not allowed or not supported by your javascript runtime");let a=await eK(n.epk,e);if(void 0!==n.apu){if("string"!=typeof n.apu)throw new k('JOSE Header "apu" (Agreement PartyUInfo) invalid');try{i=v(n.apu)}catch{throw new k("Failed to base64url decode the apu")}}if(void 0!==n.apv){if("string"!=typeof n.apv)throw new k('JOSE Header "apv" (Agreement PartyVInfo) invalid');try{o=v(n.apv)}catch{throw new k("Failed to base64url decode the apv")}}let s=await es(a,t,"ECDH-ES"===e?n.enc:e,"ECDH-ES"===e?eS(n.enc):parseInt(e.slice(-5,-2),10),i,o);if("ECDH-ES"===e)return s;if(void 0===r)throw new k("JWE Encrypted Key missing");return ea(e.slice(-6),s,r)}case"RSA1_5":case"RSA-OAEP":case"RSA-OAEP-256":case"RSA-OAEP-384":case"RSA-OAEP-512":if(void 0===r)throw new k("JWE Encrypted Key missing");return eg(e,t,r);case"PBES2-HS256+A128KW":case"PBES2-HS384+A192KW":case"PBES2-HS512+A256KW":{let o;if(void 0===r)throw new k("JWE Encrypted Key missing");if("number"!=typeof n.p2c)throw new k('JOSE Header "p2c" (PBES2 Count) missing or invalid');let a=i?.maxPBES2Count||1e4;if(n.p2c>a)throw new k('JOSE Header "p2c" (PBES2 Count) out is of acceptable bounds');if("string"!=typeof n.p2s)throw new k('JOSE Header "p2s" (PBES2 Salt) missing or invalid');try{o=v(n.p2s)}catch{throw new k("Failed to base64url decode the p2s")}return ef(e,t,r,n.p2c,o)}case"A128KW":case"A192KW":case"A256KW":if(void 0===r)throw new k("JWE Encrypted Key missing");return ea(e,t,r);case"A128GCMKW":case"A192GCMKW":case"A256GCMKW":{let i,o;if(void 0===r)throw new k("JWE Encrypted Key missing");if("string"!=typeof n.iv)throw new k('JOSE Header "iv" (Initialization Vector) missing or invalid');if("string"!=typeof n.tag)throw new k('JOSE Header "tag" (Authentication Tag) missing or invalid');try{i=v(n.iv)}catch{throw new k("Failed to base64url decode the iv")}try{o=v(n.tag)}catch{throw new k("Failed to base64url decode the tag")}return eV(e,t,r,i,o)}default:throw new C('Invalid or unsupported "alg" (JWE Algorithm) header value')}}let ez=function(e,t,r,n,i){let o;if(void 0!==i.crit&&n?.crit===void 0)throw new e('"crit" (Critical) Header Parameter MUST be integrity protected');if(!n||void 0===n.crit)return new Set;if(!Array.isArray(n.crit)||0===n.crit.length||n.crit.some(e=>"string"!=typeof e||0===e.length))throw new e('"crit" (Critical) Header Parameter MUST be an array of non-empty strings when present');for(let a of(o=void 0!==r?new Map([...Object.entries(r),...t.entries()]):t,n.crit)){if(!o.has(a))throw new C(`Extension Header Parameter "${a}" is not recognized`);if(void 0===i[a])throw new e(`Extension Header Parameter "${a}" is missing`);if(o.get(a)&&void 0===n[a])throw new e(`Extension Header Parameter "${a}" MUST be integrity protected`)}return new Set(n.crit)},eX=(e,t)=>{if(void 0!==t&&(!Array.isArray(t)||t.some(e=>"string"!=typeof e)))throw TypeError(`"${e}" option must be an array of strings`);if(t)return new Set(t)};async function eY(e,t,r){let n,i,o,a,s,c,h;if(!et(e))throw new k("Flattened JWE must be an object");if(void 0===e.protected&&void 0===e.header&&void 0===e.unprotected)throw new k("JOSE Header missing");if(void 0!==e.iv&&"string"!=typeof e.iv)throw new k("JWE Initialization Vector incorrect type");if("string"!=typeof e.ciphertext)throw new k("JWE Ciphertext missing or incorrect type");if(void 0!==e.tag&&"string"!=typeof e.tag)throw new k("JWE Authentication Tag incorrect type");if(void 0!==e.protected&&"string"!=typeof e.protected)throw new k("JWE Protected Header incorrect type");if(void 0!==e.encrypted_key&&"string"!=typeof e.encrypted_key)throw new k("JWE Encrypted Key incorrect type");if(void 0!==e.aad&&"string"!=typeof e.aad)throw new k("JWE AAD incorrect type");if(void 0!==e.header&&!et(e.header))throw new k("JWE Shared Unprotected Header incorrect type");if(void 0!==e.unprotected&&!et(e.unprotected))throw new k("JWE Per-Recipient Unprotected Header incorrect type");if(e.protected)try{let t=v(e.protected);n=JSON.parse(u.decode(t))}catch{throw new k("JWE Protected Header is invalid")}if(!ee(n,e.header,e.unprotected))throw new k("JWE Protected, JWE Unprotected Header, and JWE Per-Recipient Unprotected Header Parameter names must be disjoint");let d={...n,...e.header,...e.unprotected};if(ez(k,new Map,r?.crit,n,d),void 0!==d.zip)throw new C('JWE "zip" (Compression Algorithm) Header Parameter is not supported.');let{alg:p,enc:y}=d;if("string"!=typeof p||!p)throw new k("missing JWE Algorithm (alg) in JWE Header");if("string"!=typeof y||!y)throw new k("missing JWE Encryption Algorithm (enc) in JWE Header");let g=r&&eX("keyManagementAlgorithms",r.keyManagementAlgorithms),w=r&&eX("contentEncryptionAlgorithms",r.contentEncryptionAlgorithms);if(g&&!g.has(p)||!g&&p.startsWith("PBES2"))throw new I('"alg" (Algorithm) Header Parameter value not allowed');if(w&&!w.has(y))throw new I('"enc" (Encryption Algorithm) Header Parameter value not allowed');if(void 0!==e.encrypted_key)try{i=v(e.encrypted_key)}catch{throw new k("Failed to base64url decode the encrypted_key")}let m=!1;"function"==typeof t&&(t=await t(n,e),m=!0);try{o=await eG(p,t,i,d,r)}catch(e){if(e instanceof TypeError||e instanceof k||e instanceof C)throw e;o=e_(y)}if(void 0!==e.iv)try{a=v(e.iv)}catch{throw new k("Failed to base64url decode the iv")}if(void 0!==e.tag)try{s=v(e.tag)}catch{throw new k("Failed to base64url decode the tag")}let b=l.encode(e.protected??"");c=void 0!==e.aad?f(b,l.encode("."),l.encode(e.aad)):b;try{h=v(e.ciphertext)}catch{throw new k("Failed to base64url decode the ciphertext")}let E={plaintext:await Q(y,o,h,a,s,c)};if(void 0!==e.protected&&(E.protectedHeader=n),void 0!==e.aad)try{E.additionalAuthenticatedData=v(e.aad)}catch{throw new k("Failed to base64url decode the aad")}return(void 0!==e.unprotected&&(E.sharedUnprotectedHeader=e.unprotected),void 0!==e.header&&(E.unprotectedHeader=e.header),m)?{...E,key:t}:E}async function eq(e,t,r){if(e instanceof Uint8Array&&(e=u.decode(e)),"string"!=typeof e)throw new k("Compact JWE must be a string or Uint8Array");let{0:n,1:i,2:o,3:a,4:s,length:c}=e.split(".");if(5!==c)throw new k("Invalid Compact JWE");let h=await eY({ciphertext:a,iv:o||void 0,protected:n,tag:s||void 0,encrypted_key:i||void 0},t,r),l={plaintext:h.plaintext,protectedHeader:h.protectedHeader};return"function"==typeof t?{...l,key:h.key}:l}async function eZ(e,t,r){if(!et(e))throw new k("General JWE must be an object");if(!Array.isArray(e.recipients)||!e.recipients.every(et))throw new k("JWE Recipients missing or incorrect type");if(!e.recipients.length)throw new k("JWE Recipients has no members");for(let n of e.recipients)try{return await eY({aad:e.aad,ciphertext:e.ciphertext,encrypted_key:n.encrypted_key,header:n.header,iv:e.iv,protected:e.protected,tag:e.tag,unprotected:e.unprotected},t,r)}catch{}throw new T}let eQ=Symbol(),e0=async e=>{if(e instanceof Uint8Array)return{kty:"oct",k:b(e)};if(!(e instanceof CryptoKey))throw TypeError(G(e,...Y,"Uint8Array"));if(!e.extractable)throw TypeError("non-extractable CryptoKey cannot be exported as a JWK");let{ext:t,key_ops:r,alg:n,use:i,...o}=await c.subtle.exportKey("jwk",e);return o};async function e1(e){return eC("public","spki",e)}async function e2(e){return eC("private","pkcs8",e)}async function e6(e){return e0(e)}async function e5(e,t,r,n,i={}){let o,a,s;switch(eW(e,r,"encrypt"),r=await eA.normalizePublicKey?.(r,e)||r,e){case"dir":s=r;break;case"ECDH-ES":case"ECDH-ES+A128KW":case"ECDH-ES+A192KW":case"ECDH-ES+A256KW":{if(!eh(r))throw new C("ECDH with the provided key is not allowed or not supported by your javascript runtime");let{apu:c,apv:h}=i,{epk:l}=i;l||(l=(await ec(r)).privateKey);let{x:u,y:f,crv:d,kty:p}=await e6(l),y=await es(r,l,"ECDH-ES"===e?t:e,"ECDH-ES"===e?eS(t):parseInt(e.slice(-5,-2),10),c,h);if(a={epk:{x:u,crv:d,kty:p}},"EC"===p&&(a.epk.y=f),c&&(a.apu=b(c)),h&&(a.apv=b(h)),"ECDH-ES"===e){s=y;break}s=n||e_(t);let g=e.slice(-6);o=await eo(g,y,s);break}case"RSA1_5":case"RSA-OAEP":case"RSA-OAEP-256":case"RSA-OAEP-384":case"RSA-OAEP-512":s=n||e_(t),o=await ey(e,r,s);break;case"PBES2-HS256+A128KW":case"PBES2-HS384+A192KW":case"PBES2-HS512+A256KW":{s=n||e_(t);let{p2c:c,p2s:h}=i;({encryptedKey:o,...a}=await eu(e,r,s,c,h));break}case"A128KW":case"A192KW":case"A256KW":s=n||e_(t),o=await eo(e,r,s);break;case"A128GCMKW":case"A192GCMKW":case"A256GCMKW":{s=n||e_(t);let{iv:c}=i;({encryptedKey:o,...a}=await eF(e,r,s,c));break}default:throw new C('Invalid or unsupported "alg" (JWE Algorithm) header value')}return{cek:s,encryptedKey:o,parameters:a}}class e8{constructor(e){if(!(e instanceof Uint8Array))throw TypeError("plaintext must be an instance of Uint8Array");this._plaintext=e}setKeyManagementParameters(e){if(this._keyManagementParameters)throw TypeError("setKeyManagementParameters can only be called once");return this._keyManagementParameters=e,this}setProtectedHeader(e){if(this._protectedHeader)throw TypeError("setProtectedHeader can only be called once");return this._protectedHeader=e,this}setSharedUnprotectedHeader(e){if(this._sharedUnprotectedHeader)throw TypeError("setSharedUnprotectedHeader can only be called once");return this._sharedUnprotectedHeader=e,this}setUnprotectedHeader(e){if(this._unprotectedHeader)throw TypeError("setUnprotectedHeader can only be called once");return this._unprotectedHeader=e,this}setAdditionalAuthenticatedData(e){return this._aad=e,this}setContentEncryptionKey(e){if(this._cek)throw TypeError("setContentEncryptionKey can only be called once");return this._cek=e,this}setInitializationVector(e){if(this._iv)throw TypeError("setInitializationVector can only be called once");return this._iv=e,this}async encrypt(e,t){let r,n,i,o,a;if(!this._protectedHeader&&!this._unprotectedHeader&&!this._sharedUnprotectedHeader)throw new k("either setProtectedHeader, setUnprotectedHeader, or sharedUnprotectedHeader must be called before #encrypt()");if(!ee(this._protectedHeader,this._unprotectedHeader,this._sharedUnprotectedHeader))throw new k("JWE Protected, JWE Shared Unprotected and JWE Per-Recipient Header Parameter names must be disjoint");let s={...this._protectedHeader,...this._unprotectedHeader,...this._sharedUnprotectedHeader};if(ez(k,new Map,t?.crit,this._protectedHeader,s),void 0!==s.zip)throw new C('JWE "zip" (Compression Algorithm) Header Parameter is not supported.');let{alg:c,enc:h}=s;if("string"!=typeof c||!c)throw new k('JWE "alg" (Algorithm) Header Parameter missing or invalid');if("string"!=typeof h||!h)throw new k('JWE "enc" (Encryption Algorithm) Header Parameter missing or invalid');if(this._cek&&("dir"===c||"ECDH-ES"===c))throw TypeError(`setContentEncryptionKey cannot be called with JWE "alg" (Algorithm) Header ${c}`);{let i;({cek:n,encryptedKey:r,parameters:i}=await e5(c,h,e,this._cek,this._keyManagementParameters)),i&&(t&&eQ in t?this._unprotectedHeader?this._unprotectedHeader={...this._unprotectedHeader,...i}:this.setUnprotectedHeader(i):this._protectedHeader?this._protectedHeader={...this._protectedHeader,...i}:this.setProtectedHeader(i))}o=this._protectedHeader?l.encode(b(JSON.stringify(this._protectedHeader))):l.encode(""),this._aad?(a=b(this._aad),i=f(o,l.encode("."),l.encode(a))):i=o;let{ciphertext:d,tag:p,iv:y}=await e$(h,this._plaintext,n,this._iv,i),g={ciphertext:b(d)};return y&&(g.iv=b(y)),p&&(g.tag=b(p)),r&&(g.encrypted_key=b(r)),a&&(g.aad=a),this._protectedHeader&&(g.protected=u.decode(o)),this._sharedUnprotectedHeader&&(g.unprotected=this._sharedUnprotectedHeader),this._unprotectedHeader&&(g.header=this._unprotectedHeader),g}}class e3{constructor(e,t,r){this.parent=e,this.key=t,this.options=r}setUnprotectedHeader(e){if(this.unprotectedHeader)throw TypeError("setUnprotectedHeader can only be called once");return this.unprotectedHeader=e,this}addRecipient(...e){return this.parent.addRecipient(...e)}encrypt(...e){return this.parent.encrypt(...e)}done(){return this.parent}}class e4{constructor(e){this._recipients=[],this._plaintext=e}addRecipient(e,t){let r=new e3(this,e,{crit:t?.crit});return this._recipients.push(r),r}setProtectedHeader(e){if(this._protectedHeader)throw TypeError("setProtectedHeader can only be called once");return this._protectedHeader=e,this}setSharedUnprotectedHeader(e){if(this._unprotectedHeader)throw TypeError("setSharedUnprotectedHeader can only be called once");return this._unprotectedHeader=e,this}setAdditionalAuthenticatedData(e){return this._aad=e,this}async encrypt(){let e;if(!this._recipients.length)throw new k("at least one recipient must be added");if(1===this._recipients.length){let[e]=this._recipients,t=await new e8(this._plaintext).setAdditionalAuthenticatedData(this._aad).setProtectedHeader(this._protectedHeader).setSharedUnprotectedHeader(this._unprotectedHeader).setUnprotectedHeader(e.unprotectedHeader).encrypt(e.key,{...e.options}),r={ciphertext:t.ciphertext,iv:t.iv,recipients:[{}],tag:t.tag};return t.aad&&(r.aad=t.aad),t.protected&&(r.protected=t.protected),t.unprotected&&(r.unprotected=t.unprotected),t.encrypted_key&&(r.recipients[0].encrypted_key=t.encrypted_key),t.header&&(r.recipients[0].header=t.header),r}for(let t=0;t<this._recipients.length;t++){let r=this._recipients[t];if(!ee(this._protectedHeader,this._unprotectedHeader,r.unprotectedHeader))throw new k("JWE Protected, JWE Shared Unprotected and JWE Per-Recipient Header Parameter names must be disjoint");let n={...this._protectedHeader,...this._unprotectedHeader,...r.unprotectedHeader},{alg:i}=n;if("string"!=typeof i||!i)throw new k('JWE "alg" (Algorithm) Header Parameter missing or invalid');if("dir"===i||"ECDH-ES"===i)throw new k('"dir" and "ECDH-ES" alg may only be used with a single recipient');if("string"!=typeof n.enc||!n.enc)throw new k('JWE "enc" (Encryption Algorithm) Header Parameter missing or invalid');if(e){if(e!==n.enc)throw new k('JWE "enc" (Encryption Algorithm) Header Parameter must be the same for all recipients')}else e=n.enc;if(ez(k,new Map,r.options.crit,this._protectedHeader,n),void 0!==n.zip)throw new C('JWE "zip" (Compression Algorithm) Header Parameter is not supported.')}let t=e_(e),r={ciphertext:"",iv:"",recipients:[],tag:""};for(let n=0;n<this._recipients.length;n++){let i=this._recipients[n],o={};r.recipients.push(o);let a=({...this._protectedHeader,...this._unprotectedHeader,...i.unprotectedHeader}).alg.startsWith("PBES2")?2048+n:void 0;if(0===n){let e=await new e8(this._plaintext).setAdditionalAuthenticatedData(this._aad).setContentEncryptionKey(t).setProtectedHeader(this._protectedHeader).setSharedUnprotectedHeader(this._unprotectedHeader).setUnprotectedHeader(i.unprotectedHeader).setKeyManagementParameters({p2c:a}).encrypt(i.key,{...i.options,[eQ]:!0});r.ciphertext=e.ciphertext,r.iv=e.iv,r.tag=e.tag,e.aad&&(r.aad=e.aad),e.protected&&(r.protected=e.protected),e.unprotected&&(r.unprotected=e.unprotected),o.encrypted_key=e.encrypted_key,e.header&&(o.header=e.header);continue}let{encryptedKey:s,parameters:c}=await e5(i.unprotectedHeader?.alg||this._protectedHeader?.alg||this._unprotectedHeader?.alg,e,i.key,t,{p2c:a});o.encrypted_key=b(s),(i.unprotectedHeader||c)&&(o.header={...i.unprotectedHeader,...c})}return r}}function e9(e,t){let r=`SHA-${e.slice(-3)}`;switch(e){case"HS256":case"HS384":case"HS512":return{hash:r,name:"HMAC"};case"PS256":case"PS384":case"PS512":return{hash:r,name:"RSA-PSS",saltLength:e.slice(-3)>>3};case"RS256":case"RS384":case"RS512":return{hash:r,name:"RSASSA-PKCS1-v1_5"};case"ES256":case"ES384":case"ES512":return{hash:r,name:"ECDSA",namedCurve:t.namedCurve};case"Ed25519":return{name:"Ed25519"};case"EdDSA":return{name:t.name};default:throw new C(`alg ${e} is not supported either by JOSE or your javascript runtime`)}}async function e7(e,t,r){if("sign"===r&&(t=await eA.normalizePrivateKey(t,e)),"verify"===r&&(t=await eA.normalizePublicKey(t,e)),t instanceof CryptoKey)return!function(e,t,...r){switch(t){case"HS256":case"HS384":case"HS512":{if(!L(e.algorithm,"HMAC"))throw j("HMAC");let r=parseInt(t.slice(2),10);if(J(e.algorithm.hash)!==r)throw j(`SHA-${r}`,"algorithm.hash");break}case"RS256":case"RS384":case"RS512":{if(!L(e.algorithm,"RSASSA-PKCS1-v1_5"))throw j("RSASSA-PKCS1-v1_5");let r=parseInt(t.slice(2),10);if(J(e.algorithm.hash)!==r)throw j(`SHA-${r}`,"algorithm.hash");break}case"PS256":case"PS384":case"PS512":{if(!L(e.algorithm,"RSA-PSS"))throw j("RSA-PSS");let r=parseInt(t.slice(2),10);if(J(e.algorithm.hash)!==r)throw j(`SHA-${r}`,"algorithm.hash");break}case"EdDSA":if("Ed25519"!==e.algorithm.name&&"Ed448"!==e.algorithm.name)throw j("Ed25519 or Ed448");break;case"Ed25519":if(!L(e.algorithm,"Ed25519"))throw j("Ed25519");break;case"ES256":case"ES384":case"ES512":{if(!L(e.algorithm,"ECDSA"))throw j("ECDSA");let r=function(e){switch(e){case"ES256":return"P-256";case"ES384":return"P-384";case"ES512":return"P-521";default:throw Error("unreachable")}}(t);if(e.algorithm.namedCurve!==r)throw j(r,"algorithm.namedCurve");break}default:throw TypeError("CryptoKey does not support this operation")}$(e,r)}(t,e,r),t;if(t instanceof Uint8Array){if(!e.startsWith("HS"))throw TypeError(G(t,...Y));return c.subtle.importKey("raw",t,{hash:`SHA-${e.slice(-3)}`,name:"HMAC"},!1,[r])}throw TypeError(G(t,...Y,"Uint8Array","JSON Web Key"))}let te=async(e,t,r,n)=>{let i=await e7(e,t,"verify");ep(e,i);let o=e9(e,i.algorithm);try{return await c.subtle.verify(o,i,r,n)}catch{return!1}};async function tt(e,t,r){let n,i;if(!et(e))throw new O("Flattened JWS must be an object");if(void 0===e.protected&&void 0===e.header)throw new O('Flattened JWS must have either of the "protected" or "header" members');if(void 0!==e.protected&&"string"!=typeof e.protected)throw new O("JWS Protected Header incorrect type");if(void 0===e.payload)throw new O("JWS Payload missing");if("string"!=typeof e.signature)throw new O("JWS Signature missing or incorrect type");if(void 0!==e.header&&!et(e.header))throw new O("JWS Unprotected Header incorrect type");let o={};if(e.protected)try{let t=v(e.protected);o=JSON.parse(u.decode(t))}catch{throw new O("JWS Protected Header is invalid")}if(!ee(o,e.header))throw new O("JWS Protected and JWS Unprotected Header Parameter names must be disjoint");let a={...o,...e.header},s=ez(O,new Map([["b64",!0]]),r?.crit,o,a),c=!0;if(s.has("b64")&&"boolean"!=typeof(c=o.b64))throw new O('The "b64" (base64url-encode payload) Header Parameter must be a boolean');let{alg:h}=a;if("string"!=typeof h||!h)throw new O('JWS "alg" (Algorithm) Header Parameter missing or invalid');let d=r&&eX("algorithms",r.algorithms);if(d&&!d.has(h))throw new I('"alg" (Algorithm) Header Parameter value not allowed');if(c){if("string"!=typeof e.payload)throw new O("JWS Payload must be a string")}else if("string"!=typeof e.payload&&!(e.payload instanceof Uint8Array))throw new O("JWS Payload must be a string or an Uint8Array instance");let p=!1;"function"==typeof t?(t=await t(o,e),p=!0,ej(h,t,"verify"),ew(t)&&(t=await eK(t,h))):ej(h,t,"verify");let y=f(l.encode(e.protected??""),l.encode("."),"string"==typeof e.payload?l.encode(e.payload):e.payload);try{n=v(e.signature)}catch{throw new O("Failed to base64url decode the signature")}if(!await te(h,t,n,y))throw new K;if(c)try{i=v(e.payload)}catch{throw new O("Failed to base64url decode the payload")}else i="string"==typeof e.payload?l.encode(e.payload):e.payload;let g={payload:i};return(void 0!==e.protected&&(g.protectedHeader=o),void 0!==e.header&&(g.unprotectedHeader=e.header),p)?{...g,key:t}:g}async function tr(e,t,r){if(e instanceof Uint8Array&&(e=u.decode(e)),"string"!=typeof e)throw new O("Compact JWS must be a string or Uint8Array");let{0:n,1:i,2:o,length:a}=e.split(".");if(3!==a)throw new O("Invalid Compact JWS");let s=await tt({payload:i,protected:n,signature:o},t,r),c={payload:s.payload,protectedHeader:s.protectedHeader};return"function"==typeof t?{...c,key:s.key}:c}async function tn(e,t,r){if(!et(e))throw new O("General JWS must be an object");if(!Array.isArray(e.signatures)||!e.signatures.every(et))throw new O("JWS Signatures missing or incorrect type");for(let n of e.signatures)try{return await tt({header:n.header,payload:e.payload,protected:n.protected,signature:n.signature},t,r)}catch{}throw new K}let ti=e=>Math.floor(e.getTime()/1e3),to=/^(\+|\-)? ?(\d+|\d+\.\d+) ?(seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)(?: (ago|from now))?$/i,ta=e=>{let t,r=to.exec(e);if(!r||r[4]&&r[1])throw TypeError("Invalid time period format");let n=parseFloat(r[2]);switch(r[3].toLowerCase()){case"sec":case"secs":case"second":case"seconds":case"s":t=Math.round(n);break;case"minute":case"minutes":case"min":case"mins":case"m":t=Math.round(60*n);break;case"hour":case"hours":case"hr":case"hrs":case"h":t=Math.round(3600*n);break;case"day":case"days":case"d":t=Math.round(86400*n);break;case"week":case"weeks":case"w":t=Math.round(604800*n);break;default:t=Math.round(0x1e187e0*n)}return"-"===r[1]||"ago"===r[4]?-t:t},ts=e=>e.toLowerCase().replace(/^application\//,""),tc=(e,t,r={})=>{let n,i;try{n=JSON.parse(u.decode(t))}catch{}if(!et(n))throw new R("JWT Claims Set must be a top-level JSON object");let{typ:o}=r;if(o&&("string"!=typeof e.typ||ts(e.typ)!==ts(o)))throw new S('unexpected "typ" JWT header value',n,"typ","check_failed");let{requiredClaims:a=[],issuer:s,subject:c,audience:h,maxTokenAge:l}=r,f=[...a];for(let e of(void 0!==l&&f.push("iat"),void 0!==h&&f.push("aud"),void 0!==c&&f.push("sub"),void 0!==s&&f.push("iss"),new Set(f.reverse())))if(!(e in n))throw new S(`missing required "${e}" claim`,n,e,"missing");if(s&&!(Array.isArray(s)?s:[s]).includes(n.iss))throw new S('unexpected "iss" claim value',n,"iss","check_failed");if(c&&n.sub!==c)throw new S('unexpected "sub" claim value',n,"sub","check_failed");if(h&&!((e,t)=>"string"==typeof e?t.includes(e):!!Array.isArray(e)&&t.some(Set.prototype.has.bind(new Set(e))))(n.aud,"string"==typeof h?[h]:h))throw new S('unexpected "aud" claim value',n,"aud","check_failed");switch(typeof r.clockTolerance){case"string":i=ta(r.clockTolerance);break;case"number":i=r.clockTolerance;break;case"undefined":i=0;break;default:throw TypeError("Invalid clockTolerance option type")}let{currentDate:d}=r,p=ti(d||new Date);if((void 0!==n.iat||l)&&"number"!=typeof n.iat)throw new S('"iat" claim must be a number',n,"iat","invalid");if(void 0!==n.nbf){if("number"!=typeof n.nbf)throw new S('"nbf" claim must be a number',n,"nbf","invalid");if(n.nbf>p+i)throw new S('"nbf" claim timestamp check failed',n,"nbf","check_failed")}if(void 0!==n.exp){if("number"!=typeof n.exp)throw new S('"exp" claim must be a number',n,"exp","invalid");if(n.exp<=p-i)throw new _('"exp" claim timestamp check failed',n,"exp","check_failed")}if(l){let e=p-n.iat;if(e-i>("number"==typeof l?l:ta(l)))throw new _('"iat" claim timestamp check failed (too far in the past)',n,"iat","check_failed");if(e<0-i)throw new S('"iat" claim timestamp check failed (it should be in the past)',n,"iat","check_failed")}return n};async function th(e,t,r){let n=await tr(e,t,r);if(n.protectedHeader.crit?.includes("b64")&&!1===n.protectedHeader.b64)throw new R("JWTs MUST NOT use unencoded payload");let i={payload:tc(n.protectedHeader,n.payload,r),protectedHeader:n.protectedHeader};return"function"==typeof t?{...i,key:n.key}:i}async function tl(e,t,r){let n=await eq(e,t,r),i=tc(n.protectedHeader,n.plaintext,r),{protectedHeader:o}=n;if(void 0!==o.iss&&o.iss!==i.iss)throw new S('replicated "iss" claim header parameter mismatch',i,"iss","mismatch");if(void 0!==o.sub&&o.sub!==i.sub)throw new S('replicated "sub" claim header parameter mismatch',i,"sub","mismatch");if(void 0!==o.aud&&JSON.stringify(o.aud)!==JSON.stringify(i.aud))throw new S('replicated "aud" claim header parameter mismatch',i,"aud","mismatch");let a={payload:i,protectedHeader:o};return"function"==typeof t?{...a,key:n.key}:a}class tu{constructor(e){this._flattened=new e8(e)}setContentEncryptionKey(e){return this._flattened.setContentEncryptionKey(e),this}setInitializationVector(e){return this._flattened.setInitializationVector(e),this}setProtectedHeader(e){return this._flattened.setProtectedHeader(e),this}setKeyManagementParameters(e){return this._flattened.setKeyManagementParameters(e),this}async encrypt(e,t){let r=await this._flattened.encrypt(e,t);return[r.protected,r.encrypted_key,r.iv,r.ciphertext,r.tag].join(".")}}let tf=async(e,t,r)=>{let n=await e7(e,t,"sign");return ep(e,n),new Uint8Array(await c.subtle.sign(e9(e,n.algorithm),n,r))};class td{constructor(e){if(!(e instanceof Uint8Array))throw TypeError("payload must be an instance of Uint8Array");this._payload=e}setProtectedHeader(e){if(this._protectedHeader)throw TypeError("setProtectedHeader can only be called once");return this._protectedHeader=e,this}setUnprotectedHeader(e){if(this._unprotectedHeader)throw TypeError("setUnprotectedHeader can only be called once");return this._unprotectedHeader=e,this}async sign(e,t){let r;if(!this._protectedHeader&&!this._unprotectedHeader)throw new O("either setProtectedHeader or setUnprotectedHeader must be called before #sign()");if(!ee(this._protectedHeader,this._unprotectedHeader))throw new O("JWS Protected and JWS Unprotected Header Parameter names must be disjoint");let n={...this._protectedHeader,...this._unprotectedHeader},i=ez(O,new Map([["b64",!0]]),t?.crit,this._protectedHeader,n),o=!0;if(i.has("b64")&&"boolean"!=typeof(o=this._protectedHeader.b64))throw new O('The "b64" (base64url-encode payload) Header Parameter must be a boolean');let{alg:a}=n;if("string"!=typeof a||!a)throw new O('JWS "alg" (Algorithm) Header Parameter missing or invalid');ej(a,e,"sign");let s=this._payload;o&&(s=l.encode(b(s)));let c=f(r=this._protectedHeader?l.encode(b(JSON.stringify(this._protectedHeader))):l.encode(""),l.encode("."),s),h={signature:b(await tf(a,e,c)),payload:""};return o&&(h.payload=u.decode(s)),this._unprotectedHeader&&(h.header=this._unprotectedHeader),this._protectedHeader&&(h.protected=u.decode(r)),h}}class tp{constructor(e){this._flattened=new td(e)}setProtectedHeader(e){return this._flattened.setProtectedHeader(e),this}async sign(e,t){let r=await this._flattened.sign(e,t);if(void 0===r.payload)throw TypeError("use the flattened module for creating JWS with b64: false");return`${r.protected}.${r.payload}.${r.signature}`}}class ty{constructor(e,t,r){this.parent=e,this.key=t,this.options=r}setProtectedHeader(e){if(this.protectedHeader)throw TypeError("setProtectedHeader can only be called once");return this.protectedHeader=e,this}setUnprotectedHeader(e){if(this.unprotectedHeader)throw TypeError("setUnprotectedHeader can only be called once");return this.unprotectedHeader=e,this}addSignature(...e){return this.parent.addSignature(...e)}sign(...e){return this.parent.sign(...e)}done(){return this.parent}}class tg{constructor(e){this._signatures=[],this._payload=e}addSignature(e,t){let r=new ty(this,e,t);return this._signatures.push(r),r}async sign(){if(!this._signatures.length)throw new O("at least one signature must be added");let e={signatures:[],payload:""};for(let t=0;t<this._signatures.length;t++){let r=this._signatures[t],n=new td(this._payload);n.setProtectedHeader(r.protectedHeader),n.setUnprotectedHeader(r.unprotectedHeader);let{payload:i,...o}=await n.sign(r.key,r.options);if(0===t)e.payload=i;else if(e.payload!==i)throw new O("inconsistent use of JWS Unencoded Payload (RFC7797)");e.signatures.push(o)}return e}}function tw(e,t){if(!Number.isFinite(t))throw TypeError(`Invalid ${e} input`);return t}class tm{constructor(e={}){if(!et(e))throw TypeError("JWT Claims Set MUST be an object");this._payload=e}setIssuer(e){return this._payload={...this._payload,iss:e},this}setSubject(e){return this._payload={...this._payload,sub:e},this}setAudience(e){return this._payload={...this._payload,aud:e},this}setJti(e){return this._payload={...this._payload,jti:e},this}setNotBefore(e){return"number"==typeof e?this._payload={...this._payload,nbf:tw("setNotBefore",e)}:e instanceof Date?this._payload={...this._payload,nbf:tw("setNotBefore",ti(e))}:this._payload={...this._payload,nbf:ti(new Date)+ta(e)},this}setExpirationTime(e){return"number"==typeof e?this._payload={...this._payload,exp:tw("setExpirationTime",e)}:e instanceof Date?this._payload={...this._payload,exp:tw("setExpirationTime",ti(e))}:this._payload={...this._payload,exp:ti(new Date)+ta(e)},this}setIssuedAt(e){return void 0===e?this._payload={...this._payload,iat:ti(new Date)}:e instanceof Date?this._payload={...this._payload,iat:tw("setIssuedAt",ti(e))}:"string"==typeof e?this._payload={...this._payload,iat:tw("setIssuedAt",ti(new Date)+ta(e))}:this._payload={...this._payload,iat:tw("setIssuedAt",e)},this}}class tb extends tm{setProtectedHeader(e){return this._protectedHeader=e,this}async sign(e,t){let r=new tp(l.encode(JSON.stringify(this._payload)));if(r.setProtectedHeader(this._protectedHeader),Array.isArray(this._protectedHeader?.crit)&&this._protectedHeader.crit.includes("b64")&&!1===this._protectedHeader.b64)throw new R("JWTs MUST NOT use unencoded payload");return r.sign(e,t)}}class tE extends tm{setProtectedHeader(e){if(this._protectedHeader)throw TypeError("setProtectedHeader can only be called once");return this._protectedHeader=e,this}setKeyManagementParameters(e){if(this._keyManagementParameters)throw TypeError("setKeyManagementParameters can only be called once");return this._keyManagementParameters=e,this}setContentEncryptionKey(e){if(this._cek)throw TypeError("setContentEncryptionKey can only be called once");return this._cek=e,this}setInitializationVector(e){if(this._iv)throw TypeError("setInitializationVector can only be called once");return this._iv=e,this}replicateIssuerAsHeader(){return this._replicateIssuerAsHeader=!0,this}replicateSubjectAsHeader(){return this._replicateSubjectAsHeader=!0,this}replicateAudienceAsHeader(){return this._replicateAudienceAsHeader=!0,this}async encrypt(e,t){let r=new tu(l.encode(JSON.stringify(this._payload)));return this._replicateIssuerAsHeader&&(this._protectedHeader={...this._protectedHeader,iss:this._payload.iss}),this._replicateSubjectAsHeader&&(this._protectedHeader={...this._protectedHeader,sub:this._payload.sub}),this._replicateAudienceAsHeader&&(this._protectedHeader={...this._protectedHeader,aud:this._payload.aud}),r.setProtectedHeader(this._protectedHeader),this._iv&&r.setInitializationVector(this._iv),this._cek&&r.setContentEncryptionKey(this._cek),this._keyManagementParameters&&r.setKeyManagementParameters(this._keyManagementParameters),r.encrypt(e,t)}}let tv=(e,t)=>{if("string"!=typeof e||!e)throw new H(`${t} missing or invalid`)};async function tA(e,t){let r;if(!et(e))throw TypeError("JWK must be an object");if(t??(t="sha256"),"sha256"!==t&&"sha384"!==t&&"sha512"!==t)throw TypeError('digestAlgorithm must one of "sha256", "sha384", or "sha512"');switch(e.kty){case"EC":tv(e.crv,'"crv" (Curve) Parameter'),tv(e.x,'"x" (X Coordinate) Parameter'),tv(e.y,'"y" (Y Coordinate) Parameter'),r={crv:e.crv,kty:e.kty,x:e.x,y:e.y};break;case"OKP":tv(e.crv,'"crv" (Subtype of Key Pair) Parameter'),tv(e.x,'"x" (Public Key) Parameter'),r={crv:e.crv,kty:e.kty,x:e.x};break;case"RSA":tv(e.e,'"e" (Exponent) Parameter'),tv(e.n,'"n" (Modulus) Parameter'),r={e:e.e,kty:e.kty,n:e.n};break;case"oct":tv(e.k,'"k" (Key Value) Parameter'),r={k:e.k,kty:e.kty};break;default:throw new C('"kty" (Key Type) Parameter missing or unsupported')}let n=l.encode(JSON.stringify(r));return b(await h(t,n))}async function tS(e,t){t??(t="sha256");let r=await tA(e,t);return`urn:ietf:params:oauth:jwk-thumbprint:sha-${t.slice(-3)}:${r}`}async function t_(e,t){let r={...e,...t?.header};if(!et(r.jwk))throw new O('"jwk" (JSON Web Key) Header Parameter must be a JSON object');let n=await eK({...r.jwk,ext:!0},r.alg);if(n instanceof Uint8Array||"public"!==n.type)throw new O('"jwk" (JSON Web Key) Header Parameter must be a public key');return n}function tI(e){return et(e)}function tC(e){return"function"==typeof structuredClone?structuredClone(e):JSON.parse(JSON.stringify(e))}class tT{constructor(e){if(this._cached=new WeakMap,!function(e){return e&&"object"==typeof e&&Array.isArray(e.keys)&&e.keys.every(tI)}(e))throw new P("JSON Web Key Set malformed");this._jwks=tC(e)}async getKey(e,t){let{alg:r,kid:n}={...e,...t?.header},i=function(e){switch("string"==typeof e&&e.slice(0,2)){case"RS":case"PS":return"RSA";case"ES":return"EC";case"Ed":return"OKP";default:throw new C('Unsupported "alg" value for a JSON Web Key Set')}}(r),o=this._jwks.keys.filter(e=>{let t=i===e.kty;if(t&&"string"==typeof n&&(t=n===e.kid),t&&"string"==typeof e.alg&&(t=r===e.alg),t&&"string"==typeof e.use&&(t="sig"===e.use),t&&Array.isArray(e.key_ops)&&(t=e.key_ops.includes("verify")),t)switch(r){case"ES256":t="P-256"===e.crv;break;case"ES256K":t="secp256k1"===e.crv;break;case"ES384":t="P-384"===e.crv;break;case"ES512":t="P-521"===e.crv;break;case"Ed25519":t="Ed25519"===e.crv;break;case"EdDSA":t="Ed25519"===e.crv||"Ed448"===e.crv}return t}),{0:a,length:s}=o;if(0===s)throw new x;if(1!==s){let e=new D,{_cached:t}=this;throw e[Symbol.asyncIterator]=async function*(){for(let e of o)try{yield await tk(t,e,r)}catch{}},e}return tk(this._cached,a,r)}}async function tk(e,t,r){let n=e.get(t)||e.set(t,{}).get(t);if(void 0===n[r]){let e=await eK({...t,ext:!0},r);if(e instanceof Uint8Array||"public"!==e.type)throw new P("JSON Web Key Set members must be public keys");n[r]=e}return n[r]}function tO(e){let t=new tT(e),r=async(e,r)=>t.getKey(e,r);return Object.defineProperties(r,{jwks:{value:()=>tC(t._jwks),enumerable:!0,configurable:!1,writable:!1}}),r}let tR=async(e,t,r)=>{let n,i,o=!1;"function"==typeof AbortController&&(n=new AbortController,i=setTimeout(()=>{o=!0,n.abort()},t));let a=await fetch(e.href,{signal:n?n.signal:void 0,redirect:"manual",headers:r.headers}).catch(e=>{if(o)throw new N;throw e});if(void 0!==i&&clearTimeout(i),200!==a.status)throw new A("Expected 200 OK from the JSON Web Key Set HTTP response");try{return await a.json()}catch{throw new A("Failed to parse the JSON Web Key Set HTTP response as JSON")}};"undefined"!=typeof navigator&&navigator.userAgent?.startsWith?.("Mozilla/5.0 ")||(o="jose/v5.10.0");let tH=Symbol();class tP{constructor(e,t){if(!(e instanceof URL))throw TypeError("url must be an instance of URL");this._url=new URL(e.href),this._options={agent:t?.agent,headers:t?.headers},this._timeoutDuration="number"==typeof t?.timeoutDuration?t?.timeoutDuration:5e3,this._cooldownDuration="number"==typeof t?.cooldownDuration?t?.cooldownDuration:3e4,this._cacheMaxAge="number"==typeof t?.cacheMaxAge?t?.cacheMaxAge:6e5,t?.[tH]!==void 0&&(this._cache=t?.[tH],function(e,t){return!("object"!=typeof e||null===e||!("uat"in e)||"number"!=typeof e.uat||Date.now()-e.uat>=t)&&"jwks"in e&&!!et(e.jwks)&&!!Array.isArray(e.jwks.keys)&&!!Array.prototype.every.call(e.jwks.keys,et)}(t?.[tH],this._cacheMaxAge)&&(this._jwksTimestamp=this._cache.uat,this._local=tO(this._cache.jwks)))}coolingDown(){return"number"==typeof this._jwksTimestamp&&Date.now()<this._jwksTimestamp+this._cooldownDuration}fresh(){return"number"==typeof this._jwksTimestamp&&Date.now()<this._jwksTimestamp+this._cacheMaxAge}async getKey(e,t){this._local&&this.fresh()||await this.reload();try{return await this._local(e,t)}catch(r){if(r instanceof x&&!1===this.coolingDown())return await this.reload(),this._local(e,t);throw r}}async reload(){this._pendingFetch&&("undefined"!=typeof WebSocketPair||"undefined"!=typeof navigator&&"Cloudflare-Workers"===navigator.userAgent||"undefined"!=typeof EdgeRuntime&&"vercel"===EdgeRuntime)&&(this._pendingFetch=void 0);let e=new Headers(this._options.headers);o&&!e.has("User-Agent")&&(e.set("User-Agent",o),this._options.headers=Object.fromEntries(e.entries())),this._pendingFetch||(this._pendingFetch=tR(this._url,this._timeoutDuration,this._options).then(e=>{this._local=tO(e),this._cache&&(this._cache.uat=Date.now(),this._cache.jwks=e),this._jwksTimestamp=Date.now(),this._pendingFetch=void 0}).catch(e=>{throw this._pendingFetch=void 0,e})),await this._pendingFetch}}function tx(e,t){let r=new tP(e,t),n=async(e,t)=>r.getKey(e,t);return Object.defineProperties(n,{coolingDown:{get:()=>r.coolingDown(),enumerable:!0,configurable:!1},fresh:{get:()=>r.fresh(),enumerable:!0,configurable:!1},reload:{value:()=>r.reload(),enumerable:!0,configurable:!1,writable:!1},reloading:{get:()=>!!r._pendingFetch,enumerable:!0,configurable:!1},jwks:{value:()=>r._local?.jwks(),enumerable:!0,configurable:!1,writable:!1}}),n}let tD=tH;class tN extends tm{encode(){let e=b(JSON.stringify({alg:"none"})),t=b(JSON.stringify(this._payload));return`${e}.${t}.`}static decode(e,t){let r;if("string"!=typeof e)throw new R("Unsecured JWT must be a string");let{0:n,1:i,2:o,length:a}=e.split(".");if(3!==a||""!==o)throw new R("Invalid Unsecured JWT");try{if(r=JSON.parse(u.decode(v(n))),"none"!==r.alg)throw Error()}catch{throw new R("Invalid Unsecured JWT")}return{payload:tc(r,v(i),t),header:r}}}let tK=b,tU=v;function tB(e){let t;if("string"==typeof e){let r=e.split(".");(3===r.length||5===r.length)&&([t]=r)}else if("object"==typeof e&&e)if("protected"in e)t=e.protected;else throw TypeError("Token does not contain a Protected Header");try{if("string"!=typeof t||!t)throw Error();let e=JSON.parse(u.decode(tU(t)));if(!et(e))throw Error();return e}catch{throw TypeError("Invalid Token or Protected Header formatting")}}function tM(e){let t,r;if("string"!=typeof e)throw new R("JWTs must use Compact JWS serialization, JWT must be a string");let{1:n,length:i}=e.split(".");if(5===i)throw new R("Only JWTs using Compact JWS serialization can be decoded");if(3!==i)throw new R("Invalid JWT");if(!n)throw new R("JWTs must contain a payload");try{t=tU(n)}catch{throw new R("Failed to base64url decode the payload")}try{r=JSON.parse(u.decode(t))}catch{throw new R("Failed to parse the decoded payload as JSON")}if(!et(r))throw new R("Invalid JWT Claims Set");return r}async function tW(e,t){let r,n,i;switch(e){case"HS256":case"HS384":case"HS512":r=parseInt(e.slice(-3),10),n={name:"HMAC",hash:`SHA-${r}`,length:r},i=["sign","verify"];break;case"A128CBC-HS256":case"A192CBC-HS384":case"A256CBC-HS512":return U(new Uint8Array((r=parseInt(e.slice(-3),10))>>3));case"A128KW":case"A192KW":case"A256KW":n={name:"AES-KW",length:r=parseInt(e.slice(1,4),10)},i=["wrapKey","unwrapKey"];break;case"A128GCMKW":case"A192GCMKW":case"A256GCMKW":case"A128GCM":case"A192GCM":case"A256GCM":n={name:"AES-GCM",length:r=parseInt(e.slice(1,4),10)},i=["encrypt","decrypt"];break;default:throw new C('Invalid or unsupported JWK "alg" (Algorithm) Parameter value')}return c.subtle.generateKey(n,t?.extractable??!1,i)}function tj(e){let t=e?.modulusLength??2048;if("number"!=typeof t||t<2048)throw new C("Invalid or unsupported modulusLength option provided, 2048 bits or larger keys must be used");return t}async function tL(e,t){let r,n;switch(e){case"PS256":case"PS384":case"PS512":r={name:"RSA-PSS",hash:`SHA-${e.slice(-3)}`,publicExponent:new Uint8Array([1,0,1]),modulusLength:tj(t)},n=["sign","verify"];break;case"RS256":case"RS384":case"RS512":r={name:"RSASSA-PKCS1-v1_5",hash:`SHA-${e.slice(-3)}`,publicExponent:new Uint8Array([1,0,1]),modulusLength:tj(t)},n=["sign","verify"];break;case"RSA-OAEP":case"RSA-OAEP-256":case"RSA-OAEP-384":case"RSA-OAEP-512":r={name:"RSA-OAEP",hash:`SHA-${parseInt(e.slice(-3),10)||1}`,publicExponent:new Uint8Array([1,0,1]),modulusLength:tj(t)},n=["decrypt","unwrapKey","encrypt","wrapKey"];break;case"ES256":r={name:"ECDSA",namedCurve:"P-256"},n=["sign","verify"];break;case"ES384":r={name:"ECDSA",namedCurve:"P-384"},n=["sign","verify"];break;case"ES512":r={name:"ECDSA",namedCurve:"P-521"},n=["sign","verify"];break;case"Ed25519":r={name:"Ed25519"},n=["sign","verify"];break;case"EdDSA":{n=["sign","verify"];let e=t?.crv??"Ed25519";switch(e){case"Ed25519":case"Ed448":r={name:e};break;default:throw new C("Invalid or unsupported crv option provided")}break}case"ECDH-ES":case"ECDH-ES+A128KW":case"ECDH-ES+A192KW":case"ECDH-ES+A256KW":{n=["deriveKey","deriveBits"];let e=t?.crv??"P-256";switch(e){case"P-256":case"P-384":case"P-521":r={name:"ECDH",namedCurve:e};break;case"X25519":case"X448":r={name:e};break;default:throw new C("Invalid or unsupported crv option provided, supported values are P-256, P-384, P-521, X25519, and X448")}break}default:throw new C('Invalid or unsupported JWK "alg" (Algorithm) Parameter value')}return c.subtle.generateKey(r,t?.extractable??!1,n)}async function tJ(e,t){return tL(e,t)}async function t$(e,t){return tW(e,t)}let tF="WebCryptoAPI"},99221:(e,t,r)=>{"use strict";var n=r(11405),i="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t},o=n.useState,a=n.useEffect,s=n.useLayoutEffect,c=n.useDebugValue;function h(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!i(e,r)}catch(e){return!0}}var l="undefined"==typeof window||void 0===window.document||void 0===window.document.createElement?function(e,t){return t()}:function(e,t){var r=t(),n=o({inst:{value:r,getSnapshot:t}}),i=n[0].inst,l=n[1];return s(function(){i.value=r,i.getSnapshot=t,h(i)&&l({inst:i})},[e,r,t]),a(function(){return h(i)&&l({inst:i}),e(function(){h(i)&&l({inst:i})})},[e]),c(r),r};t.useSyncExternalStore=void 0!==n.useSyncExternalStore?n.useSyncExternalStore:l}}]);